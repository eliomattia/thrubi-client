(this["webpackJsonpthrubi-client"]=this["webpackJsonpthrubi-client"]||[]).push([[0],{233:function(e,t,n){},240:function(e,t,n){e.exports=n(598)},264:function(e,t){},266:function(e,t){},296:function(e,t){},297:function(e,t){},361:function(e,t){},594:function(e,t,n){},595:function(e,t,n){},596:function(e,t,n){},598:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"switchOptionLoginCreate",(function(){return yn})),n.d(r,"logout",(function(){return On})),n.d(r,"fetchChannels",(function(){return gn})),n.d(r,"fetchUserChannels",(function(){return _n})),n.d(r,"deleteChannel",(function(){return In})),n.d(r,"getPayChannel",(function(){return Nn})),n.d(r,"setPayChannel",(function(){return Rn})),n.d(r,"getReceiveChannel",(function(){return wn})),n.d(r,"setReceiveChannel",(function(){return Sn})),n.d(r,"createBlockchainEthereum",(function(){return xn})),n.d(r,"loginBlockchainEthereum",(function(){return Pn})),n.d(r,"addBlockchainEthereum",(function(){return Ln})),n.d(r,"updateBlockchainEthereum",(function(){return kn})),n.d(r,"createKeyboardForm",(function(){return Un})),n.d(r,"loginKeyboardForm",(function(){return Fn})),n.d(r,"addKeyboardForm",(function(){return jn})),n.d(r,"updateKeyboardForm",(function(){return Dn})),n.d(r,"abandonKeyboard",(function(){return Bn})),n.d(r,"chooseKeyboard",(function(){return Mn})),n.d(r,"createKeyboard",(function(){return Vn})),n.d(r,"loginKeyboard",(function(){return Gn})),n.d(r,"addKeyboard",(function(){return Hn})),n.d(r,"updateKeyboard",(function(){return Wn})),n.d(r,"createFacebook",(function(){return zn})),n.d(r,"loginFacebook",(function(){return Qn})),n.d(r,"addFacebook",(function(){return $n})),n.d(r,"updateFacebook",(function(){return Zn})),n.d(r,"createLinkedIn",(function(){return nr})),n.d(r,"loginLinkedIn",(function(){return rr})),n.d(r,"addLinkedIn",(function(){return ar})),n.d(r,"updateLinkedIn",(function(){return or})),n.d(r,"createGoogle",(function(){return ur})),n.d(r,"loginGoogle",(function(){return lr})),n.d(r,"addGoogle",(function(){return sr})),n.d(r,"updateGoogle",(function(){return pr})),n.d(r,"createTwitter",(function(){return fr})),n.d(r,"loginTwitter",(function(){return Er})),n.d(r,"addTwitter",(function(){return hr})),n.d(r,"updateTwitter",(function(){return br})),n.d(r,"createPayPal",(function(){return yr})),n.d(r,"loginPayPal",(function(){return Or})),n.d(r,"addPayPal",(function(){return vr})),n.d(r,"updatePayPal",(function(){return Tr})),n.d(r,"sendRedirect",(function(){return gr}));var a=n(0),o=n.n(a),c=n(97),i=n.n(c),u=n(40),l=n(237),s=n(3),p=n(29),d=n(235),m=n.n(d),f=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"===typeof r.action?r.action((function(e){return t({action:e})}),n):e(r.action)}}},E={flareType:{ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO"},flareFallback:function(e,t){return e&&e.thrubiFlareId?e:(t.details=e,t)},infoFlare:{CANNOT_SUBSCRIBE_NEWSLETTER:{thrubiFlareId:"I015",message:"Could not subscribe you to the newsletter, please try again"},CANNOT_TOGGLE_FAQ_STATE:{thrubiFlareId:"I016",message:"Something went wrong with toggling the content"},DETECTED_ETH_NETWORK_CHANGE:{thrubiFlareId:"I001",message:"Detected Ethereum network change"},DETECTED_ETH_ADDRESS_CHANGE:{thrubiFlareId:"I002",message:"Detected Ethereum address change"},DEACTIVATED_ON:{thrubiFlareId:"I003",message:"User account is deactivated"},DEACTIVATED_OFF:{thrubiFlareId:"I004",message:"User account is now active"},DEACTIVATED_PENDING:{thrubiFlareId:"I005",message:"User account is now pending activation"},EMAIL_VERIFIED_ON:{thrubiFlareId:"I006",message:"Email address has been verified"},EMAIL_VERIFIED_OFF:{thrubiFlareId:"I007",message:"Unverified email address detected. Please check your inbox."},EMAIL_VERIFIED_PENDING:{thrubiFlareId:"I008",message:"Email address pending verification. Please check your inbox."},IDENTITY_CERTIFIED_ON:{thrubiFlareId:"I009",message:"Identity document certified"},IDENTITY_CERTIFIED_OFF:{thrubiFlareId:"I010",message:"Non-certified identity document detected. Please certify."},IDENTITY_CERTIFIED_PENDING:{thrubiFlareId:"I011",message:"Identity certification procedure pending. Please wait."},INCOME_APPROVED_ON:{thrubiFlareId:"I012",message:"Declared income has been officially approved"},INCOME_APPROVED_OFF:{thrubiFlareId:"I013",message:"Newly declared income is not approved, please check."},INCOME_APPROVED_PENDING:{thrubiFlareId:"I014",message:"Newly declared income is pending approval. Please wait."}},errorFlare:{USER_ACTIVATION:{thrubiFlareId:"0021",message:"User activation module error"},UNEXPECTED_FLARE:{thrubiFlareId:"0009",message:"Flares must have an ID to be dispatched"},THRUBI_SERVER_ERROR:{thrubiFlareId:"0001",message:"Thrubi server returned an error"},THRUBI_CONNECTION_FAILED:{thrubiFlareId:"0002",message:"Thrubi server not available, please check your connection"},FAILED_LOGOUT:{thrubiFlareId:"0003",message:"Unable to logout"},FAILED_LOGIN:{thrubiFlareId:"0008",message:"Login failed"},EXRATE_FETCH_ERROR:{thrubiFlareId:"0010",message:"Failed fetching exchange rate from Coinbase server"},FB_NOT_FOUND:{thrubiFlareId:"0004",message:"Unable to connect to Facebook"},ERR_FETCH_GLOBAL_STATS:{thrubiFlareId:"0011",message:"Error while receiving global stats"},ERR_RECEIVE_GLOBAL_STATS:{thrubiFlareId:"0012",message:"Error while processing global stats"},NO_ETHEREUM_CONFIG:{thrubiFlareId:"0022",message:"Ethereum wallet not found, please configure or enable MetaMask"},CANNOT_ENABLE_ETHEREUM:{thrubiFlareId:"0013",message:"Could not enable Ethereum"},ERR_USER_DETAILS:{thrubiFlareId:"0014",message:"Error processing user details"},ERR_USER_PROFILE_PICTURE:{thrubiFlareId:"0023",message:"Please upload a JPG or PNG file, max size: "+500..toFixed(0)+" kB"},S3_UPLOAD_ERROR:{thrubiFlareId:"0024",message:"Could not upload picture to Amazon S3"},ERR_ACCOUNT_CLOSE:{thrubiFlareId:"0015",message:"Could not close user account"},ERR_GENERIC_USERMENU:{thrubiFlareId:"0016",message:"Internal: error with an user menu operation"},ERR_PAY_CHANNEL_UPDATE:{thrubiFlareId:"0017",message:"Error updating user pay channel"},ERR_RECEIVE_CHANNEL_UPDATE:{thrubiFlareId:"0023",message:"Error updating user receive channel"},ERR_USER_CHANNEL_FETCH:{thrubiFlareId:"0018",message:"Error fetching user channels"},ERR_CHANNEL_FETCH:{thrubiFlareId:"0019",message:"Error fetching channels"},ERR_USER_FLAGS:{thrubiFlareId:"0020",message:"Could not update user flags"},CHANNEL_CLOSED:{thrubiFlareId:"0005",message:"Switching to Add Channel page, channel is not open"},MESSAGE_IGNORED:{thrubiFlareId:"0006",message:"Internal: message from login popup ignored"},ERROR_STOP_TOKEN_REFRESH:{thrubiFlareId:"0007",message:"Internal: error stopping token refresh"}}},h=n(1),b=n.n(h),y=n(2),O=n(4),v=n(5),T=function(){function e(){Object(O.a)(this,e)}return Object(v.a)(e,null,[{key:"addToQueue",value:function(e){this.queue=this.queue.then(e)}}]),e}();T.queue=Promise.resolve();var g=T,_={APP_SHUTDOWN:null,LOGOUT:null,SET_GUEST_SUBSCRIBED:null,TOGGLE_FAQ_STATE:null,STOP_AUTO_LOGIN:null,UPDATE_ETH_NETWORK:null,UPDATE_ETH_ADDRESS:null,REFRESH_TOKENS:null,RECEIVE_CHANNELS:null,RECEIVE_USER_CHANNELS:null,RECEIVE_LOGIN_CHANNEL:null,RECEIVE_PAY_CHANNEL:null,RECEIVE_RECEIVE_CHANNEL:null,RECEIVE_FACEBOOK_LOGIN_STATUS:null,RECEIVE_LINKEDIN_WINDOW_AND_LISTENER:null,CLEAR_LINKEDIN_WINDOW_AND_LISTENER:null,RECEIVE_LINKEDIN_LOGIN:null,RECEIVE_GOOGLE_WINDOW_AND_LISTENER:null,CLEAR_GOOGLE_WINDOW_AND_LISTENER:null,RECEIVE_GOOGLE_LOGIN:null,RECEIVE_TWITTER_WINDOW_AND_LISTENER:null,CLEAR_TWITTER_WINDOW_AND_LISTENER:null,RECEIVE_TWITTER_LOGIN:null,LOGIN:null,RECEIVE_USER_FLAGS:null,SET_USER_ACTIVATED:null,SET_USER_DEACTIVATED:null,RECEIVE_USER_DETAILS:null,DELETE_USER_DETAILS:null,DELETE_PROFILE_PICTURE:null,ABANDON_KEYBOARD:null,CHOOSE_KEYBOARD:null,SWITCH_OPTION_LOGIN_CREATE:null,SWITCH_OPTION_USER_MENU:null,SET_OPTION_ADVANCED_MODE:null,SET_OPTION_VIEW_HISTORY:null,CHANGE_POPULATION:null,RECEIVE_POPULATIONS:null,CLEAR_POPULATION:null,SELECT_POPULATION:null,POPULATION_EXISTS:null,RECEIVE_THRUBI_PRICE_SILVER:null,RECEIVE_THRUBI_PRICE_SILVER_NEXT:null,RECEIVE_STATS:null,RECEIVE_CONFIG:null,CLEAR_MEMBER:null,RECEIVE_MEMBER:null,RECEIVE_CCYS:null,SELECT_CCY:null,DESELECT_CCY:null,RECEIVE_COUNTRIES:null,SELECT_COUNTRY:null,RECEIVE_POPULATION_FILTER:null,DESELECT_COUNTRY:null,RECEIVE_EXRATE:null,RECEIVE_GLOBAL_STATS:null,RECEIVE_THRUBI_CONTRACT:null,SET_BUSY:null,SET_NOT_BUSY:null,INCREASE_FLARE_NEXT:null,EMIT_FLARE:null,DELETE_FLARE:null,REFRESH_FLARE_TIMEOUT:null,RECEIVE_ETH_NETWORK_WORKER:null,RECEIVE_ETH_ADDRESS_WORKER:null,RECEIVE_REFRESH_TOKENS_WORKER:null,RECEIVE_GLOBAL_STATS_WORKER:null,RECEIVE_USER_WORKER:null,RECEIVE_MEMBER_WORKER:null,RECEIVE_MARKET_WORKER:null,RECEIVE_POPULATION_WORKER:null,STOP_ETH_NETWORK_WORKER:null,STOP_ETH_ADDRESS_WORKER:null,STOP_REFRESH_TOKENS_WORKER:null,STOP_GLOBAL_STATS_WORKER:null,STOP_USER_WORKER:null,STOP_MEMBER_WORKER:null,STOP_MARKET_WORKER:null,STOP_POPULATION_WORKER:null};Object.keys(_).map((function(e){return _[e]=e}));var I={BUSY_COMPONENT_APP:{busyType:"component",busyId:"app"},BUSY_COMPONENT_TITLEBAR:{busyType:"component",busyId:"titlebar"},BUSY_COMPONENT_VIEWPORT:{busyType:"component",busyId:"viewport"},BUSY_COMPONENT_DASHBOARD:{busyType:"component",busyId:"dashboard"},BUSY_COMPONENT_CLIENT:{busyType:"component",busyId:"client"},BUSY_COMPONENT_AUTH:{busyType:"component",busyId:"auth"},BUSY_COMPONENT_USER:{busyType:"component",busyId:"user"},BUSY_COMPONENT_CLAIM:{busyType:"component",busyId:"claim"},BUSY_COMPONENT_TRANSFORM:{busyType:"component",busyId:"transform"},BUSY_COMPONENT_USERMENU:{busyType:"component",busyId:"userMenu"},BUSY_COMPONENT_ADMINMENU:{busyType:"component",busyId:"adminMenu"},BUSY_ACTION_FETCHPOPULATIONS:{busyType:"action",busyId:"fetchPopulations"},BUSY_ACTION_ACTIVATION:{busyType:"action",busyId:"activation"},BUSY_ACTION_CLAIM:{busyType:"action",busyId:"claim"},BUSY_ACTION_TRANSFORM:{busyType:"action",busyId:"transform"},BUSY_ACTION_USERDETAILS:{busyType:"action",busyId:"userDetails"},BUSY_ACTION_ACTIVATEUSER:{busyType:"action",busyId:"activateUser"},BUSY_ACTION_DECLAREINCOME:{busyType:"action",busyId:"declareIncome"},BUSY_ACTION_POPULATIONS:{busyType:"action",busyId:"populations"}},N=_,R=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){var o,c,i,u;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.error("flare: ",t),n.abrupt("return",Promise.resolve().then((function(){return r(function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise((function(e){return r=e})),o={},g.addToQueue((function(){return Promise.resolve().then((function(){return o.value=n().session.flare.next})).then((function(){return t({type:N.INCREASE_FLARE_NEXT,payload:{}})})).then((function(){return r(o.value)}))})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).then((function(e){return o=e})).then((function(){return c=E.flareFallback(t,E.errorFlare.UNEXPECTED_FLARE)})).then((function(){return i=c.thrubiFlareId===E.errorFlare.THRUBI_SERVER_ERROR.thrubiFlareId?c.serverError:c.message})).then((function(){return JSON.stringify(c.details)})).then((function(e){return u="string"===typeof c.details?c.details:e})).then((function(){return setTimeout((function(){return r(w(o))}),7e3)})).then((function(t){return r({type:N.EMIT_FLARE,payload:{index:o,flareType:e,message:i,details:u,deleteTimeout:t}})})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return clearTimeout(r().session.flare.flares[e].deleteTimeout)})).then((function(){return n({type:N.DELETE_FLARE,payload:{index:e}})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},S=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){return"function"===typeof n?t({action:n}).catch((function(e){t({action:R(E.flareType.ERROR,e)})})):n.action?e(n):void 0}}},A={thrubiContract:{}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.RECEIVE_THRUBI_CONTRACT:return Object.assign({},e,{thrubiContract:t.payload.thrubiContract});default:return e}},x=n(239),P=n(22),L={deactivated:!0,next:0,flares:{}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.INCREASE_FLARE_NEXT:return Object.assign({},e,{next:e.next+1});case N.EMIT_FLARE:return Object.assign({},e,{deactivated:!1,flares:Object.assign({},e.flares,Object(P.a)({},t.payload.index,{flareType:t.payload.flareType,message:t.payload.message,details:t.payload.details,deleteTimeout:t.payload.deleteTimeout}))});case N.DELETE_FLARE:return Object.assign({},e,{deactivated:1===Object.keys(e.flares).length&&Object.keys(e.flares)[0]===t.payload.index,flares:Object.assign.apply(Object,[{}].concat(Object(x.a)(Object.keys(e.flares).map((function(n){return n.toString()!==t.payload.index.toString()?Object(P.a)({},n,e.flares[n]):null})).filter((function(e){return null!==e})))))});case N.REFRESH_FLARE_TIMEOUT:return Object.assign({},e,{deactivated:e.deactivated,flares:Object.assign({},e.flares,Object(P.a)({},t.payload.index,{flareType:e.flares[t.payload.index].flareType,message:e.flares[t.payload.index].message,details:e.flares[t.payload.index].details,deleteTimeout:t.payload.deleteTimeout}))});default:return e}},U={ethNetwork:null,ethAddress:null,refreshTokens:null,globalStats:null,user:null,member:null,market:null,population:null},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.RECEIVE_ETH_NETWORK_WORKER:return Object.assign({},e,{ethNetwork:t.payload.ethNetworkWorker});case N.RECEIVE_ETH_ADDRESS_WORKER:return Object.assign({},e,{ethAddress:t.payload.ethAddressWorker});case N.RECEIVE_REFRESH_TOKENS_WORKER:return Object.assign({},e,{refreshTokens:t.payload.refreshTokensWorker});case N.RECEIVE_GLOBAL_STATS_WORKER:return Object.assign({},e,{globalStats:t.payload.globalStatsWorker});case N.RECEIVE_USER_WORKER:return Object.assign({},e,{user:t.payload.userWorker});case N.RECEIVE_MEMBER_WORKER:return Object.assign({},e,{member:t.payload.memberWorker});case N.RECEIVE_MARKET_WORKER:return Object.assign({},e,{market:t.payload.marketWorker});case N.RECEIVE_POPULATION_WORKER:return Object.assign({},e,{population:t.payload.populationWorker});case N.STOP_ETH_NETWORK_WORKER:return Object.assign({},e,{ethNetwork:null});case N.STOP_ETH_ADDRESS_WORKER:return Object.assign({},e,{ethAddress:null});case N.STOP_REFRESH_TOKENS_WORKER:return Object.assign({},e,{refreshTokens:null});case N.STOP_GLOBAL_STATS_WORKER:return Object.assign({},e,{globalStats:null});case N.STOP_USER_WORKER:return Object.assign({},e,{user:null});case N.STOP_MEMBER_WORKER:return Object.assign({},e,{member:null});case N.STOP_MARKET_WORKER:return Object.assign({},e,{market:null});case N.STOP_POPULATION_WORKER:return Object.assign({},e,{population:null});default:return e}},j={component:{app:!1,titlebar:!1,viewport:!1,dashboard:!1,client:!1,auth:!1,user:!1,claim:!1,transform:!1,userMenu:!1,adminMenu:!1},action:{fetchPopulations:!1,activation:!1,claim:!1,transform:!1,userDetails:!1,activateUser:!1,declareIncome:!1,populations:!1}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.SET_BUSY:return Object.assign({},e,Object(P.a)({},t.payload.busyType,Object.assign({},e[t.payload.busyType],Object(P.a)({},t.payload.busyId,!0))));case N.SET_NOT_BUSY:return Object.assign({},e,Object(P.a)({},t.payload.busyType,Object.assign({},e[t.payload.busyType],Object(P.a)({},t.payload.busyId,!1))));default:return e}},B=Object(p.c)({blockchain:C,workers:F,busy:D,flare:k}),M={exrate:0},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.RECEIVE_EXRATE:return Object.assign({},e,{exrate:t.payload.exrate});case N.STOP_MARKET_WORKER:return{exrate:0};default:return e}},G={nUser:0,nCountry:0,nCcy:0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.RECEIVE_GLOBAL_STATS:return{nUser:t.payload.globalStats.nUser,nCountry:t.payload.globalStats.nCountry,nCcy:t.payload.globalStats.nCcy};default:return e}},W={countries:[],id:null},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.RECEIVE_COUNTRIES:return Object.assign({},e,{countries:t.payload.countries});case N.SELECT_COUNTRY:return Object.assign({},e,{id:t.payload.countryId});case N.DESELECT_COUNTRY:return Object.assign({},e,{id:null});default:return e}},K={ccys:[],id:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.RECEIVE_CCYS:return Object.assign({},e,{ccys:t.payload.ccys});case N.SELECT_CCY:return Object.assign({},e,{id:t.payload.ccyId});case N.DESELECT_CCY:return Object.assign({},e,{id:null});default:return e}},J=Object(p.c)({market:V,stats:H,country:Y,ccy:q}),X={subscribed:!1,faqState:{}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.APP_SHUTDOWN:case N.LOGOUT:return Object.assign({},X);case N.SET_GUEST_SUBSCRIBED:return Object.assign({},e,{subscribed:t.payload.guestSubscribed});case N.TOGGLE_FAQ_STATE:return Object.assign({},e,{faqState:Object.assign({},e.faqState,Object(P.a)({},t.payload.actionValue,!e.faqState[t.payload.actionValue]))});default:return e}},Q="CLICK_CHANNEL",$="CLICK_HOME_BUTTON",Z={VISION_IDENTITY:"VISION_IDENTITY",VISION_INCOME_DISCLOSE:"VISION_INCOME_DISCLOSE",VISION_INCOME_VERIFY:"VISION_INCOME_VERIFY",VISION_INCOME_FRAUD:"VISION_INCOME_FRAUD",VISION_UBI_MONTHLY:"VISION_UBI_MONTHLY",VISION_TAX_HAVENS:"VISION_TAX_HAVENS",WEALTHY_GOLD:"WEALTHY_GOLD",WEALTHY_COMPANY:"WEALTHY_COMPANY",WEALTHY_WORLDWIDE:"WEALTHY_WORLDWIDE",WEALTHY_PUBLIC_INFO:"WEALTHY_PUBLIC_INFO",WEALTHY_BUSINESS_MODEL:"WEALTHY_BUSINESS_MODEL",SOCIETIES_THRUBI_WHY:"SOCIETIES_THRUBI_WHY",SOCIETIES_UBI_GOV:"SOCIETIES_UBI_GOV",SOCIETIES_MODELS_PUBLIC:"SOCIETIES_MODELS_PUBLIC",SOCIETIES_GOV_CONTRIBUTE:"SOCIETIES_GOV_CONTRIBUTE",SOCIETIES_MODELS_ABOUT:"SOCIETIES_MODELS_ABOUT",SOCIETIES_FLAT_UBI:"SOCIETIES_FLAT_UBI"},ee={deactivated:null,emailVerified:null,identityCertified:null,incomeApproved:null};Object.keys(ee).map((function(e){return ee[e]=e}));var te=ee,ne=function(e,t){if(e<0)switch(t){case te.deactivated:return E.infoFlare.DEACTIVATED_PENDING;case te.emailVerified:return E.infoFlare.EMAIL_VERIFIED_PENDING;case te.identityCertified:return E.infoFlare.IDENTITY_CERTIFIED_PENDING;case te.incomeApproved:return E.infoFlare.INCOME_APPROVED_PENDING;default:return null}else if(e)switch(t){case te.deactivated:return E.infoFlare.DEACTIVATED_ON;case te.emailVerified:return E.infoFlare.EMAIL_VERIFIED_ON;case te.identityCertified:return E.infoFlare.IDENTITY_CERTIFIED_ON;case te.incomeApproved:return E.infoFlare.INCOME_APPROVED_ON;default:return null}else switch(t){case te.deactivated:return E.infoFlare.DEACTIVATED_OFF;case te.emailVerified:return E.infoFlare.EMAIL_VERIFIED_OFF;case te.identityCertified:return E.infoFlare.IDENTITY_CERTIFIED_OFF;case te.incomeApproved:return E.infoFlare.INCOME_APPROVED_OFF;default:return null}},re=1,ae="all",oe="profilePicture",ce="submittedDocument",ie={optionLoginCreate:{LOGIN:"LOGIN",CREATE:"CREATE"},optionUserMenu:{ADD:"ADD",USER:"USER",PAY:"PAY",MANAGE:"MANAGE"},optionKeyboardMode:{ADD:"ADD",UPDATE:"UPDATE"}},ue={id:null,role:null,deactivated:null,emailVerified:null,identityCertified:null,incomeApproved:null,name:null,surname:null,email:null,document:null,profilePicture:null,optionKeyboardMode:null,optionLoginCreate:ie.optionLoginCreate.CREATE,optionUserMenu:ie.optionUserMenu.ADD,optionAdvancedMode:!1,optionViewHistory:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.APP_SHUTDOWN:case N.LOGOUT:return Object.assign({},ue);case N.LOGIN:return Object.assign({},e,{id:parseInt(t.payload.userId),role:parseInt(t.payload.userRole),optionKeyboardMode:null});case N.RECEIVE_USER_FLAGS:return Object.assign({},e,{deactivated:parseInt(t.payload.deactivated)===e.deactivated?e.deactivated:parseInt(t.payload.deactivated),emailVerified:parseInt(t.payload.emailVerified)===e.emailVerified?e.emailVerified:parseInt(t.payload.emailVerified),identityCertified:parseInt(t.payload.identityCertified)===e.identityCertified?e.identityCertified:parseInt(t.payload.identityCertified),incomeApproved:parseInt(t.payload.incomeApproved)===e.incomeApproved?e.incomeApproved:parseInt(t.payload.incomeApproved)});case N.SET_USER_ACTIVATED:return Object.assign({},e,{deactivated:0});case N.SET_USER_DEACTIVATED:return Object.assign({},e,{deactivated:1});case N.RECEIVE_USER_DETAILS:return Object.assign({},e,{name:t.payload.name?t.payload.name:ue.name,surname:t.payload.surname?t.payload.surname:ue.surname,email:t.payload.email?t.payload.email:ue.email,document:t.payload.document?t.payload.document:ue.document,profilePicture:t.payload.profilePicture?t.payload.profilePicture:ue.profilePicture});case N.DELETE_USER_DETAILS:return Object.assign({},e,{name:null,surname:null,email:null,document:null,profilePicture:null});case N.DELETE_PROFILE_PICTURE:return Object.assign({},e,{profilePicture:null});case N.ABANDON_KEYBOARD:return Object.assign({},e,{optionKeyboardMode:null});case N.CHOOSE_KEYBOARD:return Object.assign({},e,{optionKeyboardMode:t.payload.optionKeyboardMode?t.payload.optionKeyboardMode:e.optionLoginCreate});case N.SWITCH_OPTION_LOGIN_CREATE:return Object.assign({},e,{optionLoginCreate:e.optionLoginCreate===ie.optionLoginCreate.LOGIN?ie.optionLoginCreate.CREATE:ie.optionLoginCreate.LOGIN,optionKeyboardMode:e.optionKeyboardMode?e.optionLoginCreate===ie.optionLoginCreate.LOGIN?ie.optionLoginCreate.CREATE:ie.optionLoginCreate.LOGIN:null});case N.SWITCH_OPTION_USER_MENU:return Object.assign({},e,{optionUserMenu:t.payload.optionUserMenu});case N.SET_OPTION_ADVANCED_MODE:return Object.assign({},e,{optionAdvancedMode:t.payload.optionAdvancedMode,optionViewHistory:!!t.payload.optionAdvancedMode&&t.payload.optionViewHistory});case N.SET_OPTION_VIEW_HISTORY:return Object.assign({},e,{optionViewHistory:t.payload.optionViewHistory});default:return e}},se={ethNetwork:null,ethAddress:null,autoLogin:!1,loggedIn:!1,loginChannel:null,payChannel:null,receiveChannel:null,channels:{TWITTER:0,FACEBOOK:0,GOOGLE:0,LINKEDIN:0,BLOCKCHAIN_ETHEREUM:0,PAYPAL:0,KEYBOARD:0},facebookStatus:null,facebookUserId:null,facebookUserAccessToken:null,linkedInWindow:null,linkedInListener:null,linkedInCode:null,linkedInState:null,googleWindow:null,googleListener:null,googleCode:null,twitterWindow:null,twitterListener:null,twitterRequestToken:null,twitterOAuthVerifier:null,accessJwt:null,refreshJwt:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.APP_SHUTDOWN:return Object.assign({},se);case N.LOGOUT:return Object.assign({},se,{ethNetwork:e.ethNetwork,ethAddress:e.ethAddress,autoLogin:!(!t.payload||!t.payload.autoLogin)&&t.payload.autoLogin});case N.STOP_AUTO_LOGIN:return Object.assign({},se,{autoLogin:!1});case N.UPDATE_ETH_NETWORK:return Object.assign({},e,{ethNetwork:t.payload.ethNetwork});case N.UPDATE_ETH_ADDRESS:return Object.assign({},e,{ethAddress:t.payload.ethAddress});case N.REFRESH_TOKENS:return Object.assign({},e,{accessJwt:t.payload.accessJwt,refreshJwt:t.payload.refreshJwt});case N.RECEIVE_CHANNELS:case N.RECEIVE_USER_CHANNELS:return Object.assign({},e,{channels:{TWITTER:t.payload.TWITTER?t.payload.TWITTER:e.channels.TWITTER,FACEBOOK:t.payload.FACEBOOK?t.payload.FACEBOOK:e.channels.FACEBOOK,GOOGLE:t.payload.GOOGLE?t.payload.GOOGLE:e.channels.GOOGLE,LINKEDIN:t.payload.LINKEDIN?t.payload.LINKEDIN:e.channels.LINKEDIN,BLOCKCHAIN_ETHEREUM:t.payload.BLOCKCHAIN_ETHEREUM?t.payload.BLOCKCHAIN_ETHEREUM:e.channels.BLOCKCHAIN_ETHEREUM,PAYPAL:t.payload.PAYPAL?t.payload.PAYPAL:e.channels.PAYPAL,KEYBOARD:t.payload.KEYBOARD?t.payload.KEYBOARD:e.channels.KEYBOARD}});case N.RECEIVE_LOGIN_CHANNEL:return Object.assign({},e,{loginChannel:t.payload.loginChannel});case N.RECEIVE_PAY_CHANNEL:return Object.assign({},e,{payChannel:t.payload.payChannel});case N.RECEIVE_RECEIVE_CHANNEL:return Object.assign({},e,{receiveChannel:t.payload.receiveChannel});case N.RECEIVE_FACEBOOK_LOGIN_STATUS:return Object.assign({},e,{facebookStatus:t.payload.facebookStatus,facebookUserId:t.payload.facebookUserId,facebookUserAccessToken:t.payload.facebookUserAccessToken});case N.RECEIVE_LINKEDIN_WINDOW_AND_LISTENER:return Object.assign({},e,{linkedInWindow:t.payload.linkedInWindow,linkedInListener:t.payload.linkedInListener});case N.CLEAR_LINKEDIN_WINDOW_AND_LISTENER:return Object.assign({},e,{linkedInWindow:null,linkedInListener:null});case N.RECEIVE_LINKEDIN_LOGIN:return Object.assign({},e,{linkedInCode:t.payload.code,linkedInState:t.payload.state});case N.RECEIVE_GOOGLE_WINDOW_AND_LISTENER:return Object.assign({},e,{googleWindow:t.payload.googleWindow,googleListener:t.payload.googleListener});case N.CLEAR_GOOGLE_WINDOW_AND_LISTENER:return Object.assign({},e,{googleWindow:null,googleListener:null});case N.RECEIVE_GOOGLE_LOGIN:return Object.assign({},e,{googleCode:t.payload.code});case N.RECEIVE_TWITTER_WINDOW_AND_LISTENER:return Object.assign({},e,{twitterWindow:t.payload.twitterWindow,twitterListener:t.payload.twitterListener});case N.CLEAR_TWITTER_WINDOW_AND_LISTENER:return Object.assign({},e,{twitterWindow:null,twitterListener:null});case N.RECEIVE_TWITTER_LOGIN:return Object.assign({},e,{twitterRequestToken:t.payload.twitterRequestToken,twitterOAuthVerifier:t.payload.twitterOAuthVerifier});case N.LOGIN:return Object.assign({},e,{loggedIn:!0,accessJwt:t.payload.accessJwt,refreshJwt:t.payload.refreshJwt,payChannel:t.payload.payChannel,receiveChannel:t.payload.receiveChannel});default:return e}},de={populations:[],exists:null,id:null,countryId:null,countryName:null,ccyId:null,ccyName:null,ccySymbol:null,filter:null,thrubiPriceSilver:0,thrubiPriceSilverNext:0,thrubiPriceGold:1.5,brake:0,mincome:0,equality:0,warperMincome:0,warperEquality:0,thrubiFees:.005},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.APP_SHUTDOWN:case N.LOGOUT:return de;case N.CLEAR_POPULATION:return Object.assign({},de,{populations:e.populations});case N.RECEIVE_POPULATIONS:return Object.assign({},e,{populations:t.payload.populations});case N.SELECT_POPULATION:return Object.assign({},e,{id:parseInt(t.payload.population.populationId),countryId:t.payload.population.countryId,countryName:t.payload.population.countryName,ccyId:t.payload.population.ccyId,ccyName:t.payload.population.ccyName,ccySymbol:t.payload.population.ccySymbol});case N.RECEIVE_THRUBI_PRICE_SILVER:return Object.assign({},e,{thrubiPriceSilver:t.payload.thrubiPriceSilver});case N.RECEIVE_THRUBI_PRICE_SILVER_NEXT:return Object.assign({},e,{thrubiPriceSilverNext:t.payload.thrubiPriceSilverNext});case N.RECEIVE_STATS:return Object.assign({},e,{mincome:parseFloat(t.payload.stats.mincome),equality:parseFloat(t.payload.stats.equality)});case N.RECEIVE_CONFIG:return Object.assign({},e,{brake:parseFloat(t.payload.config.brake),warperMincome:parseFloat(t.payload.config.warperMincome),warperEquality:parseFloat(t.payload.config.warperEquality)});case N.POPULATION_EXISTS:return Object.assign({},e,{exists:t.payload.exists});case N.RECEIVE_POPULATION_FILTER:return Object.assign({},e,{filter:t.payload.filter});default:return e}},fe={isMember:!1,mCurrent:0,thrubiMode:-1,thrubiBlue:0,thrubiBlueNext:0,thrubiBlueEth:0,thrubiBlueAward:0,thrubiBlueAwardTotal:0,thrubiBlueClaimTotal:0,thrubiSilver:0,thrubiSilverNext:0,thrubiSilverEth:0,thrubiSilverTransformTotal:0,thrubiGold:0},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.APP_SHUTDOWN:case N.LOGOUT:case N.CLEAR_MEMBER:return fe;case N.RECEIVE_MEMBER:return Object.assign({},e,{isMember:!0,mCurrent:parseFloat(t.payload.member.mCurrent),thrubiMode:parseInt(t.payload.member.thrubiMode),thrubiBlue:parseFloat(t.payload.member.thrubiBlue),thrubiBlueNext:parseFloat(t.payload.member.thrubiBlueNext),thrubiBlueEth:parseFloat(t.payload.member.thrubiBlueEth),thrubiBlueAward:parseFloat(t.payload.member.thrubiBlueAward),thrubiBlueAwardTotal:parseFloat(t.payload.member.thrubiBlueAwardTotal),thrubiBlueClaimTotal:parseFloat(t.payload.member.thrubiBlueClaimTotal),thrubiSilver:parseFloat(t.payload.member.thrubiSilver),thrubiSilverNext:parseFloat(t.payload.member.thrubiSilverNext),thrubiSilverEth:parseFloat(t.payload.member.thrubiSilverEth),thrubiSilverTransformTotal:parseFloat(t.payload.member.thrubiSilverTransformTotal),thrubiGold:parseFloat(t.payload.member.thrubiGold)});default:return e}},he=Object(p.c)({guest:z,user:le,userAccess:pe,population:me,member:Ee}),be=Object(p.c)({session:B,global:J,client:he}),ye=[S,f];ye.push(m.a);var Oe=function(){return Object(p.d)(be,p.a.apply(void 0,ye))},ve=n(7),Te=n(6),ge=n(8),_e=Object(s.b)((function(e){return{nUser:e.global.stats.nUser}}),{})((function(e){e.nUser;return o.a.createElement("p",{className:"text-primary text-center small my-0 mr-2"},"Thrubi is a ","worldwide community for sustainable income redistribution.")})),Ie=Object(s.b)((function(e){return{ethNetwork:e.client.userAccess.ethNetwork,ethAddress:e.client.userAccess.ethAddress}}))((function(e){var t=e.ethNetwork,n=e.ethAddress;return o.a.createElement("div",{className:"container-fluid navbar fixed-top flex-md-nowrap p-0 titleBar bg-light"},o.a.createElement("div",{className:"col-lg-8 d-flex justify-content-center justify-content-md-center justify-content-lg-start fullWidth text-left bg-light",style:{backgroundImage:"url(/logo.png",backgroundSize:"50%",backgroundPosition:"left",backgroundRepeat:"no-repeat",backgroundBlendMode:"color-dodge"}},o.a.createElement("img",{className:"mr-2 logoThrubi",src:"/logo.png",alt:"Thrubi logo",height:"20px",width:"20px",style:{filter:"brightness(90%)"}}),o.a.createElement("span",{className:"mr-2 alignBottom navbar-brand thrubiGradient"},o.a.createElement("h4",null,o.a.createElement("b",null,"Thrubi"))),o.a.createElement("div",{className:"d-none d-lg-block alignBottom"},o.a.createElement(_e,null))),o.a.createElement("div",{className:"col-lg-4 d-none d-lg-block float-right mr-0 my-2 text-right consoleFont"},o.a.createElement("div",{className:"navbar-nav small alignBottom"},t&&n?o.a.createElement("div",null,o.a.createElement("span",{className:"badge badge-warning d-none d-xl-inline"},o.a.createElement("span",{className:""},"network/"),t),o.a.createElement("span",{className:"badge badge-info d-inline"},n)):"")))})),Ne=Object(s.b)((function(e){return{ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiSilver:e.client.member.thrubiSilver,thrubiSilverNext:e.client.member.thrubiSilverNext,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiPriceSilverNext:e.client.population.thrubiPriceSilverNext,thrubiPriceGold:e.client.population.thrubiPriceGold}}),{})((function(e){var t=e.ccySymbol,n=e.exrate,r=e.thrubiSilver,a=e.thrubiSilverNext,c=e.thrubiPriceSilver;e.thrubiPriceSilverNext,e.thrubiPriceGold;return o.a.createElement("div",{className:"container-fluid p-0 m-0 small consoleFont"},o.a.createElement("div",{className:"col-sm-12 container-fluid row p-0 m-0"},o.a.createElement("div",{className:"col-5 container-fluid p-0 m-0 text-right"},o.a.createElement("div",{className:"col-sm-12 p-0"},"1.00\u039e"),r||a?o.a.createElement("div",{className:"col-sm-12 p-0"},"1.00\u20aeS"):""),o.a.createElement("div",{className:"col-2 container-fluid p-0 m-0 text-center"},o.a.createElement("div",{className:"col-sm-12 p-0"},"="),r||a?o.a.createElement("div",{className:"col-sm-12 p-0"},"="):""),o.a.createElement("div",{className:"col-5 container-fluid p-0 m-0 text-left"},o.a.createElement("div",{className:"col-sm-12 p-0"},n.toFixed(2),t),r||a?o.a.createElement("div",{className:"col-sm-12 p-0"},c.toFixed(2),t):"")))})),Re=function(e){var t=e.text,n=e.bold,r=e.value,a=e.ccySymbol;return o.a.createElement("div",{className:"small row ccyRowContainer"},o.a.createElement("span",{className:"text-left ccyRowElement col-6"},t),o.a.createElement("span",{className:"text-right ccyRowElement col-5"},isNaN(r)?"n/a":n?o.a.createElement("b",null,r.toFixed(2)):r.toFixed(2)),o.a.createElement("span",{className:"text-right ccyRowElement col-1"},n?o.a.createElement("b",null,a):a))},we=function(){function e(){Object(O.a)(this,e)}return Object(v.a)(e,null,[{key:"channelIsOpen",value:function(e){return e>0}},{key:"channelIsForLogin",value:function(e){return Math.abs(e)%2}},{key:"channelIsForPay",value:function(e){return(Math.abs(e)>>1)%2}},{key:"channelColor",value:function(t){switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"blockchain-ethereum";case e.channelName.KEYBOARD:return"keyboard";case e.channelName.FACEBOOK:return"facebook";case e.channelName.LINKEDIN:return"linkedin";case e.channelName.GOOGLE:return"google";case e.channelName.PAYPAL:return"paypal";case e.channelName.TWITTER:return"twitter";default:return""}}},{key:"channelAuthFunctionName",value:function(t){switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"BlockchainEthereum";case e.channelName.KEYBOARD:return"Keyboard";case e.channelName.FACEBOOK:return"Facebook";case e.channelName.LINKEDIN:return"LinkedIn";case e.channelName.GOOGLE:return"Google";case e.channelName.PAYPAL:return"PayPal";case e.channelName.TWITTER:return"Twitter";default:return""}}},{key:"keyboardChannelMessage",value:function(e){switch(e){case"LOGIN":return"Sign in with username/password";case"CREATE":return"Create a new Thrubi account with username/password";case"ADD":return"Add username/password credentials to my account";case"UPDATE":return"Update my username/password credentials";default:return""}}},{key:"channelUserFriendlyName",value:function(t,n){switch(n){case"USE":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Use my Ethereum wallet";case e.channelName.PAYPAL:return"Use my PayPal account";default:return""}case"USING":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Using my Ethereum wallet";case e.channelName.PAYPAL:return"Using my PayPal account";default:return""}case"LINK":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Connect an Ethereum wallet to use it";case e.channelName.PAYPAL:return"Connect a PayPal account to use it";default:return""}case"LOGIN":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Sign in with Ethereum wallet";case e.channelName.KEYBOARD:return"Sign in with username/password";case e.channelName.FACEBOOK:return"Sign in with Facebook";case e.channelName.LINKEDIN:return"Sign in with LinkedIn";case e.channelName.GOOGLE:return"Sign in with Google";case e.channelName.TWITTER:return"Sign in with Twitter";default:return""}case"CREATE":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Sign up with Ethereum wallet";case e.channelName.KEYBOARD:return"Sign up with username/password";case e.channelName.FACEBOOK:return"Sign up with Facebook";case e.channelName.LINKEDIN:return"Sign up with LinkedIn";case e.channelName.GOOGLE:return"Sign up with Google";case e.channelName.TWITTER:return"Sign up with Twitter";default:return""}case"ADD":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Connect an Ethereum wallet";case e.channelName.KEYBOARD:return"Enable username/password";case e.channelName.FACEBOOK:return"Connect a Facebook account";case e.channelName.LINKEDIN:return"Connect a LinkedIn account";case e.channelName.GOOGLE:return"Connect a Google account";case e.channelName.PAYPAL:return"Connect a PayPal account";case e.channelName.TWITTER:return"Connect a Twitter account";default:return""}case"DELETE":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Disconnect my Ethereum wallet";case e.channelName.KEYBOARD:return"Disable username/password";case e.channelName.FACEBOOK:return"Disconnect my Facebook account";case e.channelName.LINKEDIN:return"Disconnect my LinkedIn account";case e.channelName.GOOGLE:return"Disconnect my Google account";case e.channelName.PAYPAL:return"Disconnect my PayPal account";case e.channelName.TWITTER:return"Disconnect my Twitter account";default:return""}case"UPDATE":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Connect another Ethereum wallet";case e.channelName.KEYBOARD:return"Update username/password";case e.channelName.FACEBOOK:return"Connect another Facebook account";case e.channelName.LINKEDIN:return"Connect another LinkedIn account";case e.channelName.GOOGLE:return"Connect another Google account";case e.channelName.PAYPAL:return"Connect another PayPal account";case e.channelName.TWITTER:return"Connect another Twitter account";default:return""}default:return""}}}]),e}();we.channelName={NOT_AVAILABLE:"N/A",BLOCKCHAIN_ETHEREUM:"BLOCKCHAIN_ETHEREUM",KEYBOARD:"KEYBOARD",FACEBOOK:"FACEBOOK",LINKEDIN:"LINKEDIN",GOOGLE:"GOOGLE",PAYPAL:"PAYPAL",TWITTER:"TWITTER"};var Se=we,Ae=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.action,n=e.payload,r=e.text,a=e.buttonType,c=e.disabled,i=void 0!==c&&c,u=e.channel,l=void 0!==u&&u,s=e.noMargin,p=void 0!==s&&s;return o.a.createElement("button",{disabled:i,onClick:function(e){e.preventDefault(),t(n)},className:"btn btn-sm btn-block rounded-0 "+(p||"my-2 py-2 ")+a+(l?Se.channelColor(l):"")},o.a.createElement("div",{className:"container-fluid row p-0 m-0"+(p.toString().includes("small")?" small":"")+(l?"":" fullWidth")},o.a.createElement("div",{className:l?"":"fullWidth"},l?o.a.createElement("img",{className:"p-0 my-0 mx-2",alt:l,height:"32",width:"32",src:"/png/"+Se.channelColor(l)+".png"}):"",o.a.createElement("div",{className:(l?"ml-4":"fullWidth")+" d-inline-block text-"+(l?"left":"center")},r||this.props.children))))}}]),t}(a.Component),Ce=n(78),xe=n.n(Ce),Pe="https://t001002.herokuapp.com",Le="get",ke="post",Ue="X-Access-Token",Fe="Bearer ",je=function(e,t,n){return function(r,a){return new Promise((function(r,o){var c=function(e,t){var n,a;if(e)o(E.errorFlare.THRUBI_CONNECTION_FAILED);else if(n=t.body,200===t.statusCode)a=n.result,r(a);else{var c=E.errorFlare.THRUBI_SERVER_ERROR;c.serverError=n.error,o(c)}};try{var i={url:Pe+t,json:null===n?{}:n};a().client.userAccess.loggedIn&&(i.headers=Object(P.a)({},Ue,Fe+a().client.userAccess.accessJwt)),e===Le?xe.a.get(i,c):e===ke&&xe.a.post(i,c)}catch(u){o(E.errorFlare.THRUBI_CONNECTION_FAILED)}}))}},De=n(79),Be=n.n(De),Me="confirmation",Ve=[{constant:!0,inputs:[],name:"userCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x07973ccf"},{constant:!0,inputs:[],name:"lastProcessedClaim",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x17f0f244"},{constant:!0,inputs:[],name:"lastProcessedTransform",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x7b306690"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8da5cb5b"},{constant:!0,inputs:[],name:"lastClaim",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xa8adb564"},{constant:!0,inputs:[],name:"lastTransform",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xaa2ddbf1"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor",signature:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"}],name:"UserCreated",type:"event",signature:"0x0b0376a109cbb578b709f85f6a7befcdac3ac1ab251c99ede87f30c9572ac4d3"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"name",type:"string"},{indexed:!1,name:"surname",type:"string"}],name:"UserUpdated",type:"event",signature:"0xe5d18d6612696bff7df1db8015eac613241613297fa2ba2783993e4fd0e76f3d"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"deactivated",type:"bool"}],name:"UserActivated",type:"event",signature:"0x778b37e4212438e31bb36f033dd30e024005d668a4df069a75261d4e41f4013f"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"deactivated",type:"bool"}],name:"UserDeactivated",type:"event",signature:"0x1b32d41cdfc3bfbfff6b3c55227176d2d8d97ea2494e509db5d8b60d246e680b"},{anonymous:!1,inputs:[{indexed:!1,name:"userId",type:"uint256"},{indexed:!1,name:"populationId",type:"uint256"},{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"weiAmount",type:"uint256"}],name:"ClaimSubmitted",type:"event",signature:"0x3a30d1c4069e097873e77443df9683e8de5c7ba3674315b8670a0211e3130195"},{anonymous:!1,inputs:[{indexed:!1,name:"userId",type:"uint256"},{indexed:!1,name:"populationId",type:"uint256"},{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"weiAmount",type:"uint256"}],name:"TransformSubmitted",type:"event",signature:"0xd7d9057eeb8d77c85b055fd0a383e2cbb00c462d8d90a53f7dea6493d376661d"},{constant:!1,inputs:[{name:"_userId",type:"uint256"},{name:"_populationId",type:"uint256"},{name:"_ethAddress",type:"address"}],name:"transform",outputs:[],payable:!0,stateMutability:"payable",type:"function",signature:"0x723ed1db"},{constant:!0,inputs:[],name:"getLastTransform",outputs:[{name:"_lastTransform",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8a3f8702"},{constant:!0,inputs:[],name:"getLastProcessedTransform",outputs:[{name:"_lastProcessedTransform",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x766dcc9c"},{constant:!0,inputs:[{name:"_i",type:"uint256"}],name:"getTransform",outputs:[{name:"_userId",type:"uint256"},{name:"_populationId",type:"uint256"},{name:"_ethAddress",type:"address"},{name:"_weiAmount",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x21347ab1"},{constant:!1,inputs:[],name:"signalProcessedTransforms",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x764103fc"},{constant:!1,inputs:[{name:"_userId",type:"uint256"},{name:"_populationId",type:"uint256"},{name:"_ethAddress",type:"address"},{name:"_weiAmount",type:"uint256"}],name:"claimEth",outputs:[],payable:!0,stateMutability:"payable",type:"function",signature:"0xd8875079"},{constant:!0,inputs:[],name:"getLastClaim",outputs:[{name:"_lastClaim",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x68a825ad"},{constant:!0,inputs:[],name:"getLastProcessedClaim",outputs:[{name:"_lastProcessedClaim",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8fdfde42"},{constant:!0,inputs:[{name:"_i",type:"uint256"}],name:"getClaim",outputs:[{name:"_userId",type:"uint256"},{name:"_populationId",type:"uint256"},{name:"_address",type:"address"},{name:"_weiAmount",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x5aef2447"},{constant:!0,inputs:[{name:"_ethAddress",type:"address"}],name:"findMe",outputs:[{name:"foundMe",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x3223a182"},{constant:!0,inputs:[{name:"_ethAddress",type:"address"}],name:"findMyUser",outputs:[{name:"found",type:"bool"},{name:"name",type:"string"},{name:"surname",type:"string"},{name:"deactivated",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0xc77489f1"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"},{name:"_name",type:"string"},{name:"_surname",type:"string"}],name:"updateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x10e8b22d"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"createUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xcdd87618"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"activateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xb4acfe1c"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"deactivateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x1a47767b"}],Ge=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){var e;t((e=n().client.population.ccyId,function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",new Promise((function(t,r){xe.a.get({url:"https://api.coinbase.com/v2/prices/ETH-"+e+"/spot",json:{}},(function(e,a){if(e)r(E.errorFlare.EXRATE_FETCH_ERROR);else{var o=parseFloat(a.body.data.amount);n({type:N.RECEIVE_EXRATE,payload:{exrate:o}}),t(o)}}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()))};return e(),e}(),1e3),t({type:N.RECEIVE_MARKET_WORKER,payload:{marketWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},He=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.market),t({type:N.STOP_MARKET_WORKER,payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},We="/guest/subscribeNewsletter",Ye="/actions/log",Ke="/auth/challenge/blockchainEthereum",qe="/auth/listChannels",Je="/auth/refresh",Xe="/auth/logout",ze="/auth/create/blockchainEthereum",Qe="/auth/login/blockchainEthereum",$e="/auth/create/keyboard",Ze="/auth/login/keyboard",et="/auth/create/facebook",tt="/auth/login/facebook",nt="/auth/create/linkedIn",rt="/auth/login/linkedIn",at="/auth/create/google",ot="/auth/login/google",ct="/auth/token/twitter",it="/auth/create/twitter",ut="/auth/login/twitter",lt="/country/list",st="/ccy/list",pt="/member/create",dt="/member/delete",mt="/member/request/claim",ft="/member",Et="/member/request/declareIncome",ht="/stats/nUser",bt="/stats/nCountry",yt="/stats/nCcy",Ot="/user/getFlags",vt="/user/activate",Tt="/user/deactivate",gt="/user/details/fetch",_t="/user/details/delete",It="/user/details/store",Nt="/user/profilePicture/sign",Rt="/user/certify",wt="/user/close",St="/userAccess/listUserChannels",At="/userAccess/setPayChannel",Ct="/userAccess/setReceiveChannel",xt="/userAccess/delete",Pt="/userAccess/add/keyboard",Lt="/userAccess/update/keyboard",kt="/userAccess/add/blockchainEthereum",Ut="/userAccess/update/blockchainEthereum",Ft="/userAccess/add/facebook",jt="/userAccess/update/facebook",Dt="/userAccess/add/linkedIn",Bt="/userAccess/update/linkedIn",Mt="/userAccess/add/google",Vt="/userAccess/update/google",Gt="/userAccess/add/twitter",Ht="/userAccess/update/twitter",Wt="/population/forUser",Yt="/population/thrubiPrice/silver",Kt="/population/thrubiPrice/silver/next",qt="/population/create",Jt="/population/delete",Xt="/population/stats/read",zt="/population/config/read",Qt="/population/config/change",$t="/population/exists",Zt=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){t(function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){return t(je(Le,ft+"/"+n().client.population.id,null))})).then((function(e){return t({type:N.RECEIVE_MEMBER,payload:{member:e}})})).catch((function(e){return t(R(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())};return e(),e}(),1e3),t({type:N.RECEIVE_MEMBER_WORKER,payload:{memberWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},en=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.member),t({type:N.STOP_MEMBER_WORKER,payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},tn=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:N.SELECT_POPULATION,payload:{population:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},nn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(en()),t(an()),t(He()),t({type:N.CLEAR_POPULATION,payload:{}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},rn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){t(on(n().client.population.id)),t(cn(n().client.population.id)),n().client.user.auth&&(t(un(n().client.population.id)),t(ln(n().client.population.id)))};return e(),e}(),1e3),t({type:N.RECEIVE_POPULATION_WORKER,payload:{populationWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},an=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.population),t({type:N.STOP_POPULATION_WORKER,payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},on=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(Le,Yt+"/"+e,null))})).then((function(e){return n({type:N.RECEIVE_THRUBI_PRICE_SILVER,payload:{thrubiPriceSilver:parseFloat(e.thrubiPriceSilver)}})})).catch((function(e){return n(R(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},cn=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(Le,Kt+"/"+e,null))})).then((function(e){return n({type:N.RECEIVE_THRUBI_PRICE_SILVER_NEXT,payload:{thrubiPriceSilverNext:parseFloat(e.thrubiPriceSilverNext)}})})).catch((function(e){return n(R(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},un=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(Le,Xt+"/"+e,null))})).then((function(e){return n({type:N.RECEIVE_STATS,payload:{stats:e}})})).catch((function(e){return n(R(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ln=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(Le,zt+"/"+e,null))})).then((function(e){return n({type:N.RECEIVE_CONFIG,payload:{config:e}})})).catch((function(e){return n(R(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},sn={connected:"connected",unknown:"unknown",not_authorized:"not_authorized"},pn="/me?fields=first_name,last_name,email,picture.type(large)",dn="email",mn=function(e,t,n){return"https://www.linkedin.com/oauth/v2/authorization?response_type=code&redirect_uri="+e+"&state="+t+"&scope=r_liteprofile%20r_emailaddress&client_id="+n},fn=function(e,t){return"https://accounts.google.com/o/oauth2/auth?response_type=code&redirect_uri="+e+"&scope=email%20profile&client_id="+t},En=function(e){return"https://twitter.com/oauth/authenticate?oauth_token="+e},hn="https://www.thrubi.com",bn="https://www.thrubi.com",yn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:N.SWITCH_OPTION_LOGIN_CREATE,payload:{}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},On=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().client.userAccess.loggedIn){t.next=4;break}return t.next=3,Promise.resolve().then((function(){return n({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return n(je(ke,Xe,{refreshJwt:r().client.userAccess.refreshJwt}))})).then((function(){return n({type:N.LOGOUT,payload:e})})).then((function(){return n(vn())})).then((function(){return n(gn())})).then((function(){return n(Cr())})).then((function(){return n(nn())})).then((function(){return n(qn())})).catch((function(e){throw E.flareFallback(e,E.errorFlare.FAILED_LOGOUT)})).finally((function(){return n({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},vn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return clearTimeout(n().session.workers.refreshTokens)})).then((function(){return t({type:N.STOP_REFRESH_TOKENS_WORKER,payload:{}})})).catch((function(){throw E.errorFlare.ERROR_STOP_TOKEN_REFRESH}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Tn=function e(t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){var o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=setTimeout(Object(y.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){return r(je(ke,Je,{refreshJwt:a().client.userAccess.refreshJwt}))})).then((function(e){n=e})).then((function(){return r({type:N.REFRESH_TOKENS,payload:n})})).then((function(){return r(e(n.accessJwtExpiry))})).catch((function(e){throw E.flareFallback(e,E.errorFlare.FAILED_LOGIN)})).catch((function(e){console.error(e),r(On({autoLogin:!1}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),t/2),r({type:N.RECEIVE_REFRESH_TOKENS_WORKER,payload:{refreshTokensWorker:o}});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},gn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then((function(){return t(je(Le,qe,null))})).then((function(e){return e.map((function(e,t){return r[e.channelName]=e.channelMode}))})).then((function(){return t({type:N.RECEIVE_CHANNELS,payload:r})})).catch((function(e){return t(R(E.flareType.ERROR,E.errorFlare.ERR_CHANNEL_FETCH))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},_n=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then((function(){return t(je(Le,St,null))})).then((function(e){return e.map((function(e,t){return r[e.channelName]=e.channelMode}))})).then((function(){return t({type:N.RECEIVE_USER_CHANNELS,payload:r})})).catch((function(e){return t(R(E.flareType.ERROR,E.errorFlare.ERR_USER_CHANNEL_FETCH))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},In=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){return n({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return n(je(ke,xt+"/"+e,{}))})).then((function(){return n(_n())})).catch((function(e){return n(R(E.flareType.ERROR,e))})).finally((function(){return n({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Nn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Rn=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){if(e!==Se.channelName.NOT_AVAILABLE&&!Se.channelIsOpen(r().client.userAccess.channels[e]))throw n(Rr("ADD")),E.errorFlare.CHANNEL_CLOSED})).then((function(){return n(je(ke,At,{payChannel:e}))})).then((function(e){return n({type:N.RECEIVE_PAY_CHANNEL,payload:{payChannel:e}})})).catch((function(e){if(e!==E.errorFlare.CHANNEL_CLOSED)throw e})).catch((function(e){return n(R(E.flareType.ERROR,E.errorFlare.ERR_PAY_CHANNEL_UPDATE))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},wn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Sn=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){if(e!==Se.channelName.NOT_AVAILABLE&&!Se.channelIsOpen(r().client.userAccess.channels[e]))throw n(Rr("ADD")),E.errorFlare.CHANNEL_CLOSED})).then((function(){return n(je(ke,Ct,{receiveChannel:e}))})).then((function(e){return n({type:N.RECEIVE_RECEIVE_CHANNEL,payload:{receiveChannel:e}})})).catch((function(e){if(e!==E.errorFlare.CHANNEL_CLOSED)throw e})).catch((function(e){return n(R(E.flareType.ERROR,E.errorFlare.ERR_RECEIVE_CHANNEL_UPDATE))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},An=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){if(!e.userId)throw e.loginError})).then((function(){return n({type:N.LOGIN,payload:e})})).then((function(){return n(Tn(e.accessJwtExpiry))})).then((function(){return n(wr())})).then((function(){return n(Ar())})).then((function(){return n(_n())})).catch((function(){return n(On({autoLogin:!1}))})).finally((function(){return n({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Cn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().client.userAccess.ethNetwork,a=n().client.userAccess.ethAddress,e.next=4,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){if(!r||!a)throw E.errorFlare.NO_ETHEREUM_CONFIG})).then((function(){return t(je(ke,Ke,{ethAddress:a}))})).then((function(e){o={challengeJwt:e.challengeJwt,hashedJwt:e.hashedJwt}})).then((function(){return t((e=o.hashedJwt,function(){var t=Object(y.a)(b.a.mark((function t(n,r){var a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Be.a(Be.a.givenProvider),o=r().client.userAccess.ethAddress,t.next=4,a.eth.personal.sign(e,o,null);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));var e})).then((function(e){return{ethAddress:a,challengeSolution:{challengeJwt:o.challengeJwt,hashedJwt:o.hashedJwt,signedMessage:e}}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},xn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Cn())})).then((function(e){return t(je(ke,ze,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Pn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Cn())})).then((function(e){return t(je(ke,Qe,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ln=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Cn())})).then((function(e){return t(je(ke,kt,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},kn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Cn())})).then((function(e){return t(je(ke,Ut,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Un=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return r(je(ke,$e,{username:e,password:t}))})).catch((function(e){return r(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return r(An(e))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Fn=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return r(je(ke,Ze,{username:e,password:t}))})).catch((function(e){return r(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return r(An(e))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},jn=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return r(je(ke,Pt,{username:e,password:t}))})).then((function(){return r(_n())})).then((function(){return r(Bn())})).catch((function(e){return r(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return r({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Dn=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return r(je(ke,Lt,{username:e,password:t}))})).then((function(){return r(_n())})).then((function(){return r(Bn())})).catch((function(e){return r(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return r({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Bn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:N.ABANDON_KEYBOARD,payload:{}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Mn=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){return n({type:N.CHOOSE_KEYBOARD,payload:e})}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Vn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Mn({}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Gn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Mn({}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Hn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Mn({optionKeyboardMode:ie.optionKeyboardMode.ADD}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Wn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Mn({optionKeyboardMode:ie.optionKeyboardMode.UPDATE}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Yn=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){var o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={},n.next=3,Promise.resolve().then((function(){o.facebookStatus=e.status,o.facebookUserId=e.authResponse?e.authResponse.userID:null,o.facebookUserAccessToken=e.authResponse?e.authResponse.accessToken:null})).then((function(){return r({type:N.RECEIVE_FACEBOOK_LOGIN_STATUS,payload:o})})).then((function(){return t(o.facebookStatus)}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Kn=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){if(!window.FB)throw E.errorFlare.FB_NOT_FOUND})).then((function(){return new Promise((function(e){window.FB.getLoginStatus((function(t){return n(Yn(t,e))}))}))})).then((function(t){return e&&e(t),t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},qn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Kn(null))})).then((function(e){if(e===sn.connected)return new Promise((function(e){window.FB.logout((function(){return e(),!1}))}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Jn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){if(!window.FB)throw E.errorFlare.FB_NOT_FOUND})).then((function(){return t(Kn(null))})).then((function(e){if(e===sn.unknown||e===sn.not_authorized)return t(function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return new Promise((function(e){window.FB.login((function(){return t(Kn(e))}),{scope:dn})}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).then((function(){return{facebookUserId:n().client.userAccess.facebookUserId,facebookUserAccessToken:n().client.userAccess.facebookUserAccessToken}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Xn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then((function(){return t(Kn(null))})).then((function(e){return new Promise((function(t){e===sn.connected&&window.FB.api(pn,(function(e){return t(e)}))}))})).then((function(e){return r={name:e.first_name,surname:e.last_name,email:e.email,profilePicture:e.picture.data.url}})).then((function(){return t(Sr(r,{overwrite:!1}))})).catch((function(e){t(R(E.flareType.ERROR,E.errorFlare.FB_NOT_FOUND))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},zn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Jn())})).then((function(e){return t(je(ke,et,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))})).then((function(){return t(Xn())}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Qn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Jn())})).then((function(e){return t(je(ke,tt,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))})).then((function(){return t(Xn())}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},$n=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Jn())})).then((function(e){return t(je(ke,Ft,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(){return t(Xn())})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Zn=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Jn())})).then((function(e){return t(je(ke,jt,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(){return t(Xn())})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},er=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){var o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=null,n.next=3,Promise.resolve().then((function(){if(e.data.origin&&"THRUBI"===e.data.origin)return e.data;throw E.errorFlare.MESSAGE_IGNORED})).then((function(e){r({type:N.RECEIVE_LINKEDIN_LOGIN,payload:e})})).then((function(){o=a().client.userAccess.linkedInListener})).then((function(){window.removeEventListener("message",o)})).then((function(){return a().client.userAccess.linkedInWindow})).then((function(e){e.close()})).then((function(){return r({type:N.CLEAR_LINKEDIN_WINDOW_AND_LISTENER,payload:{}})})).then((function(){t()})).catch((function(){return null}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},tr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r,a,o,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,o=null,c=null,i=new Promise((function(e){return c=e})),e.next=7,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){r=n().client.userAccess.linkedInWindow})).then((function(){return null===r||r.closed})).then((function(e){e&&(r=window.open(mn(hn,"ec178df0ec26b9584b3702c8ee98071f76f40b11121c19ff18f674b16169a9e95fee8b82a6334152ba70565c41cf0d1a0b33ff9dda5298a34ce271008e8c09f7","78w03u1p8bc928"),"Login to Thrubi using your LinkedIn account","toolbar=no, menubar=no, width=600, height=500, top=50, left=100"))})).then((function(){return r.focus()})).then((function(){o=setInterval((function(){r.closed&&(c(),clearInterval(o))}),500)})).then((function(){a=function(e){return t(er(e,c))}})).then((function(){window.addEventListener("message",a)})).then((function(){return t({type:N.RECEIVE_LINKEDIN_WINDOW_AND_LISTENER,payload:{linkedInWindow:r,linkedInListener:a}})})).then((function(){return i})).then((function(){return{linkedInCode:n().client.userAccess.linkedInCode,linkedInState:n().client.userAccess.linkedInState}}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},nr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(tr())})).then((function(e){return t(je(ke,nt,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},rr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(tr())})).then((function(e){return t(je(ke,rt,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ar=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(tr())})).then((function(e){return t(je(ke,Dt,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},or=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(tr())})).then((function(e){return t(je(ke,Bt,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},cr=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){var o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=null,n.next=3,Promise.resolve().then((function(){if(e.data.origin&&"THRUBI"===e.data.origin)return e.data;throw E.errorFlare.MESSAGE_IGNORED})).then((function(e){r({type:N.RECEIVE_GOOGLE_LOGIN,payload:e})})).then((function(){o=a().client.userAccess.googleListener})).then((function(){window.removeEventListener("message",o)})).then((function(){return a().client.userAccess.googleWindow})).then((function(e){e.close()})).then((function(){return r({type:N.CLEAR_GOOGLE_WINDOW_AND_LISTENER,payload:{}})})).then((function(){t()})).catch((function(){return null}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ir=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r,a,o,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,o=null,c=null,i=new Promise((function(e){return c=e})),e.next=7,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){r=n().client.userAccess.googleWindow})).then((function(){return null===r||r.closed})).then((function(e){e&&(r=window.open(fn(bn,"627523329723-5kfvuqg068851dsf6efh911ue4v7ttur.apps.googleusercontent.com"),"Login to Thrubi using your Google account","toolbar=no, menubar=no, width=600, height=500, top=50, left=100"))})).then((function(){return r.focus()})).then((function(){o=setInterval((function(){r.closed&&(c(),clearInterval(o))}),500)})).then((function(){a=function(e){return t(cr(e,c))}})).then((function(){window.addEventListener("message",a)})).then((function(){return t({type:N.RECEIVE_GOOGLE_WINDOW_AND_LISTENER,payload:{googleWindow:r,googleListener:a}})})).then((function(){return i})).then((function(){return{googleCode:n().client.userAccess.googleCode}}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ur=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(ir())})).then((function(e){return t(je(ke,at,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},lr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(ir())})).then((function(e){return t(je(ke,ot,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},sr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(ir())})).then((function(e){return t(je(ke,Mt,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},pr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(ir())})).then((function(e){return t(je(ke,Vt,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},dr=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){var o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=null,n.next=3,Promise.resolve().then((function(){if(e.data.origin&&"THRUBI"===e.data.origin)return e.data;throw E.errorFlare.MESSAGE_IGNORED})).then((function(e){r({type:N.RECEIVE_TWITTER_LOGIN,payload:e})})).then((function(){o=a().client.userAccess.twitterListener})).then((function(){window.removeEventListener("message",o)})).then((function(){return a().client.userAccess.twitterWindow})).then((function(e){e.close()})).then((function(){return r({type:N.CLEAR_TWITTER_WINDOW_AND_LISTENER,payload:{}})})).then((function(){t()})).catch((function(){return null}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},mr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r,a,o,c,i,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,o=null,c=null,i=null,u=new Promise((function(e){return i=e})),e.next=8,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return t(je(Le,ct,{}))})).then((function(e){return r=e.requestToken})).then((function(){a=n().client.userAccess.twitterWindow})).then((function(){return null===a||a.closed})).then((function(e){e&&(a=window.open(En(r),"Login to Thrubi using your Twitter account","toolbar=no, menubar=no, width=600, height=500, top=50, left=100"))})).then((function(){return a.focus()})).then((function(){c=setInterval((function(){a.closed&&(i(),clearInterval(c))}),500)})).then((function(){o=function(e){return t(dr(e,i))}})).then((function(){window.addEventListener("message",o)})).then((function(){return t({type:N.RECEIVE_TWITTER_WINDOW_AND_LISTENER,payload:{twitterWindow:a,twitterListener:o}})})).then((function(){return u})).then((function(){return{twitterRequestToken:n().client.userAccess.twitterRequestToken,twitterOAuthVerifier:n().client.userAccess.twitterOAuthVerifier}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},fr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(mr())})).then((function(e){return t(je(ke,it,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Er=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(mr())})).then((function(e){return t(je(ke,ut,e))})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(An(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},hr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(mr())})).then((function(e){return t(je(ke,Gt,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},br=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(mr())})).then((function(e){return t(je(ke,Ht,e))})).then((function(){return t(_n())})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},yr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Or=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},vr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Tr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},gr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return window.location.search})).then((function(e){return JSON.parse('{"'+decodeURI(e).replace("?","").replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')})).then((function(e){return{origin:"THRUBI",code:e.code,state:e.state,twitterRequestToken:e.oauth_token,twitterOAuthVerifier:e.oauth_verifier}})).then((function(e){window.opener&&window.opener.postMessage(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},_r=n(236),Ir=n.n(_r),Nr=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){var o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={headers:{"Content-Type":t.type}},n.abrupt("return",Promise.resolve().then((function(){return Ir.a.put(e,t,o)})).catch((function(e){throw E.errorFlare.S3_UPLOAD_ERROR})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Rr=function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:N.SWITCH_OPTION_USER_MENU,payload:{optionUserMenu:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},wr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then((function(){return t(je(Le,gt,null))})).then((function(e){return e.map((function(e,t){return r[e.detailName]=e.detailValue}))})).then((function(){return t({type:N.RECEIVE_USER_DETAILS,payload:r})})).catch((function(e){return t(R(E.flareType.ERROR,E.errorFlare.ERR_USER_DETAILS))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Sr=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:N.SET_BUSY,payload:I.BUSY_ACTION_USERDETAILS})})).then((function(){return r(je(ke,It,Object.assign({},{userDetails:e},t)))})).then((function(){return r(wr())})).catch((function(e){return r(R(E.flareType.ERROR,E.errorFlare.ERR_USER_DETAILS))})).finally((function(){return r({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_USERDETAILS})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Ar=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e,n=function(){var n=Object(y.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return t(je(Le,Ot,null))})).then((function(t){return e=t})).then((function(){return t((n=e,function(){var e=Object(y.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.keys(te).map(function(){var e=Object(y.a)(b.a.mark((function e(a){var o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r().client.user[a],c=n[a],null===o||!(0===o^0===c||Math.sign(o)>0^Math.sign(c)>0)){e.next=6;break}return e.next=5,t(R(E.flareType.INFO,ne(c,a)));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n})).then((function(){return t({type:N.RECEIVE_USER_FLAGS,payload:e})})).catch((function(e){return t(R(E.flareType.ERROR,E.errorFlare.ERR_USER_FLAGS))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),n}(),1e3),t({type:N.RECEIVE_USER_WORKER,payload:{userWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Cr=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.user),t({type:N.STOP_USER_WORKER,payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},xr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.mCurrent,r=t.ccySymbol,c=t.declareIncomeBusy,i=t.incomeApproved,u=this.props.declareIncome;return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"navbar-light col-lg-4 container-fluid row m-0"},c?"":o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"col-lg-12"},o.a.createElement(Re,{text:"Declared income",bold:!1,value:n,ccySymbol:r})),o.a.createElement("div",{className:"col-lg-12 small py-2"},"Your income of ",n," ",r," is currently:\xa0",o.a.createElement("span",{className:"badge "+(i>0?"badge-info":"badge-danger")},i>0?"Officially approved":i<0?"Pending approval":"Not approved")))),o.a.createElement("div",{className:"navbar-light col-lg-4 container-fluid row m-0"},c?"Busy processing income declaration":o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("input",{ref:function(t){return e=t},type:"text",className:"form-control form-control-sm rounded-0 m-0",placeholder:n.toFixed(2)+" "+r,required:!0}))),o.a.createElement("div",{className:"col-lg-12 p-0 m-0"},o.a.createElement(Ae,{text:"Declare new income",action:function(){return u(e.value)},buttonType:"btn-primary m-0"})))))}}]),t}(a.Component),Pr=Object(s.b)((function(e){return{ccySymbol:e.client.population.ccySymbol,mCurrent:e.client.member.mCurrent,incomeApproved:e.client.user.incomeApproved,declareIncomeBusy:e.session.busy.action.declareIncome}}),{declareIncome:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n({type:N.SET_BUSY,payload:I.BUSY_ACTION_DECLAREINCOME})})).then((function(){return n(je(ke,Et+"/"+r().client.population.id+"/"+e,null))})).catch((function(e){return n(R(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})).finally((function(){return n({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_DECLAREINCOME})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(xr),Lr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.countryName,n=e.ccyId,r=e.busy,c=e.loggedIn,i=e.populationId,u=e.identityCertified,l=this.props.removeMembership;return o.a.createElement("div",{className:"container-fluid row p-0 m-0 text-primary text-center mt-3"},r?"Viewport loading...":!c||i<0?"":o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"col-lg-12 p-2 m-0 bg-primary text-light text-center mb-3"},o.a.createElement("span",{className:"mt-3"},o.a.createElement("b",null,t),"\xa0",o.a.createElement("small",null,n,"\xa0",o.a.createElement("i",null,"pid#",i))),o.a.createElement("button",{className:"close memberPaddingX text-light",type:"button",onClick:function(){return l()},"data-dismiss":"alert"},o.a.createElement("span",null,"\xd7"))),u<=0?o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(Ne,null)):o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"col-sm-4"},o.a.createElement(Ne,null)),o.a.createElement(Pr,null))))}}]),t}(a.Component),kr=Object(s.b)((function(e){return{countryName:e.client.population.countryName,ccyId:e.client.population.ccyId,ccySymbol:e.client.population.ccySymbol,busy:e.session.busy.component.viewport,loggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id,identityCertified:e.client.user.identityCertified}}),{removeMembership:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){return t(an())})).then((function(){return t(en())})).then((function(){return t(He())})).then((function(){return t(je(ke,dt+"/"+n().client.population.id,null))})).then((function(){return t({type:N.CLEAR_POPULATION,payload:{}})})).then((function(){return t({type:N.CLEAR_MEMBER,payload:{}})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(Lr),Ur=function(e){var t=e.columnSize,n=(e.color,e.activeFilter),r=e.checkedFilter,a=e.action,c=e.elements;return o.a.createElement("div",{"data-toggle":"buttons",className:"btn btn-block btn-group btn-group-toggle border-0 row p-0 m-0 my-2"},c.map((function(e,c){return o.a.createElement("button",{key:e.key,id:e.key,onClick:function(t){t.preventDefault(),a(e.key)},defaultChecked:r===e.key,disabled:!1,className:"btn btn-sm btn-block small rounded-0 p-0 m-0 py-2 "+e.color+" "+t+(n===e.key?" active":"")},o.a.createElement("div",{className:"container row p-0 m-0"+(e.channel?"":" fullWidth")},o.a.createElement("div",{className:e.channel?"":"fullWidth"},e.channel?o.a.createElement("img",{className:"p-0 my-0 mx-2",alt:e.channel,height:"32",width:"32",src:"/png/"+Se.channelColor(e.channel)+".png"}):"",o.a.createElement("div",{className:(e.channel?"ml-4":"fullWidth")+" d-inline-block text-"+(e.channel?"left":"center")},e.text))))})))},Fr=function(e){var t=e.text,n=e.action,r=e.abandonAction,a=e.buttonType,c=e.abandonButtonType,i={username:null,password:null};return o.a.createElement("div",null,o.a.createElement("input",{id:"username",ref:function(e){return i.username=e},type:"text",className:"form-control form-control-sm rounded-0 my-2",placeholder:"username",required:!0}),o.a.createElement("input",{id:"password",ref:function(e){return i.password=e},type:"text",className:"form-control form-control-sm rounded-0 my-2",placeholder:"password",required:!0}),o.a.createElement(Ae,{text:t,action:function(){n(i.username.value,i.password.value)},buttonType:a}),o.a.createElement(Ae,{text:"Back",action:r,buttonType:c}))},jr=function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r(je(ke,Ye,{actionType:e,actionValue:t}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Dr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.busy,n=e.loggedIn,r=e.autoLogin,a=e.ethAddress,o=this.props.loginBlockchainEthereum;!t&&!n&&r&&a&&o()}},{key:"componentWillUnmount",value:function(){(0,this.props.logout)({autoLogin:!1})}},{key:"authFunction",value:function(e,t){var n=this,r=this.props.logAction;return function(){e!==ie.optionLoginCreate.LOGIN&&e!==ie.optionLoginCreate.CREATE||r(Q,e+"_"+t),n.props[e.toLowerCase()+Se.channelAuthFunctionName(t)]()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.loggedIn,c=t.optionLoginCreate,i=t.optionKeyboardMode,u=t.optionUserMenu,l=t.payChannel,s=t.receiveChannel,p=t.channels,d=this.props,m=d.switchOptionLoginCreate,f=d.switchOptionUserMenu,E=d.abandonKeyboard,h=d.setPayChannel,b=d.setReceiveChannel,y=d.deleteChannel,O=d.logout;return o.a.createElement("div",{className:"text-center small text-dark"},n?"Auth module busy...":o.a.createElement(a.Fragment,null,null===i?"":o.a.createElement(Fr,{text:Se.keyboardChannelMessage(i),action:this.props[i.toLowerCase()+"KeyboardForm"],buttonType:"btn btn-sm p-0 btn-primary",abandonAction:E,abandonButtonType:"btn btn-sm p-0 btn-secondary"}),null!==i||r?"":o.a.createElement(a.Fragment,null,Object.keys(p).map((function(t){return Se.channelIsForLogin(p[t])?o.a.createElement(Ae,{channel:t,text:Se.channelUserFriendlyName(t,c),key:(c===ie.optionLoginCreate.LOGIN?"login":"create")+t,action:e.authFunction(c,t),buttonType:"btn btn-sm p-0 btn-"+(c===ie.optionLoginCreate.LOGIN?"outline-":"")}):""}))),r?"":o.a.createElement(Ae,{text:c===ie.optionLoginCreate.LOGIN?"Create a new Thrubi account":"I already have a Thrubi account",action:m,buttonType:"nav-link border-0 text-small text-primary"}),null===i&&r?o.a.createElement(a.Fragment,null,o.a.createElement(Ae,{text:"Logout",action:O,payload:{autoLogin:!1},buttonType:"btn btn-sm p-0 btn-secondary"}),o.a.createElement(Ur,{columnSize:"col-lg-6",activeFilter:u,checkedFilter:u,action:f,elements:[{color:"btn-outline-primary",key:ie.optionUserMenu.USER,text:"My account",disabledFilter:u===ie.optionUserMenu.USER},{color:"btn-outline-primary",key:ie.optionUserMenu.PAY,text:"Payment",disabledFilter:u===ie.optionUserMenu.PAY},{color:"btn-outline-primary",key:ie.optionUserMenu.MANAGE,text:"Manage login credentials",disabledFilter:u===ie.optionUserMenu.MANAGE},{color:"btn-outline-primary",key:ie.optionUserMenu.ADD,text:"Connect login credentials",disabledFilter:u===ie.optionUserMenu.ADD}]}),u===ie.optionUserMenu.USER?"":o.a.createElement(a.Fragment,null,u!==ie.optionUserMenu.PAY?"":[{message:"My payment method:",channel:l,setter:h},{message:"My inbound payment method:",channel:s,setter:b}].map((function(e){return o.a.createElement("div",{className:"my-4"},e.message,o.a.createElement(Ur,{columnSize:"col-lg-12",activeFilter:e.channel,checkedFilter:e.channel,action:e.setter,elements:Object.keys(p).map((function(t){return Se.channelIsForPay(p[t])?{key:t===e.channel?Se.channelName.NOT_AVAILABLE:t,channel:t,color:"btn-"+(t===e.channel?"":"outline-")+Se.channelColor(t),disabledFilter:t===e.channel,text:Se.channelUserFriendlyName(t,t===e.channel?"USING":Se.channelIsOpen(p[t])?"USE":"LINK")}:null})).filter((function(e){return null!==e}))}))})),o.a.createElement("div",{className:"my-4"},[{mode:"UPDATE",action:function(t){return e.authFunction("UPDATE",t)},color:"",filter:function(e){return u===ie.optionUserMenu.MANAGE&&(Se.channelIsForLogin(e)||Se.channelIsForPay(e))&&Se.channelIsOpen(e)}},{mode:"ADD",action:function(t){return e.authFunction("ADD",t)},color:"outline-",filter:function(e){return u===ie.optionUserMenu.ADD&&!Se.channelIsOpen(e)}},{mode:"DELETE",action:function(e){return function(){return y(e)}},color:"outline-",filter:function(e){return u===ie.optionUserMenu.MANAGE&&(Se.channelIsForLogin(e)||Se.channelIsForPay(e))&&Se.channelIsOpen(e)}}].map((function(e){return o.a.createElement("div",{key:e.mode},Object.keys(p).map((function(t){return e.filter(p[t])?o.a.createElement(Ae,{channel:t,text:Se.channelUserFriendlyName(t,e.mode),action:e.action(t),key:e.mode+t,buttonType:"btn btn-sm p-0 btn-"+e.color}):""})))}))))):""))}}]),t}(a.Component),Br=Object(s.b)((function(e){return{busy:e.session.busy.component.auth,ethAddress:e.client.userAccess.ethAddress,optionLoginCreate:e.client.user.optionLoginCreate,optionKeyboardMode:e.client.user.optionKeyboardMode,optionUserMenu:e.client.user.optionUserMenu,loggedIn:e.client.userAccess.loggedIn,autoLogin:e.client.userAccess.autoLogin,payChannel:e.client.userAccess.payChannel,receiveChannel:e.client.userAccess.receiveChannel,channels:e.client.userAccess.channels}}),Object.assign({},r,{logAction:jr,switchOptionUserMenu:Rr}))(Dr),Mr=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(ve.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(c)))).visionText=function(){return o.a.createElement(a.Fragment,null,o.a.createElement("ul",null,o.a.createElement("li",null,"Become a Thrubi member"),o.a.createElement("li",null,"Certify your identity"),o.a.createElement("li",null,"Declare and verify your income"),o.a.createElement("li",null,"Get your ",o.a.createElement("b",null,"Thrubi Blue")," level assigned (the lower your income, the higher your level)"),o.a.createElement("li",null,"Receive your basic income")))},n.wealthyText=function(){return o.a.createElement(a.Fragment,null,o.a.createElement("ul",null,o.a.createElement("li",null,"Become a Thrubi member"),o.a.createElement("li",null,"Certify your identity"),o.a.createElement("li",null,"Declare and verify your income"),o.a.createElement("li",null,"Get your ",o.a.createElement("b",null,"Thrubi Silver")," level assigned (the higher your income, the higher your level)"),o.a.createElement("li",null,"Purchase ",o.a.createElement("b",null,"Thrubi Gold")),o.a.createElement("li",null,"The purchase proceedings will fund basic income in your country")))},n.societiesText=function(){return o.a.createElement(a.Fragment,null,"Thrubi is powered by:",o.a.createElement("ul",null,o.a.createElement("li",null,"In-house social models"),o.a.createElement("li",null,"Public ",o.a.createElement("a",{target:"_blank",className:"text-success",rel:"noopener noreferrer",href:"https://www.irs.gov"},"IRS.gov")," and ",o.a.createElement("a",{target:"_blank",className:"text-success",rel:"noopener noreferrer",href:"https://wid.world"},"wid.world")," income inequality data")))},n}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.faqState,t=this.props.toggleFaq;return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row py-2 rounded-bottom"},[{actions:[{actionValue:Z.VISION_IDENTITY,buttonText:"How to certify my identity?",text:"We are considering various partners for identity certification, from official government agencies to country-agnostic services such as Veriff."},{actionValue:Z.VISION_INCOME_DISCLOSE,buttonText:"Should I disclose my income?",text:"Yes, Thrubi needs to be informed of your earnings in order to calculate how to distribute basic income to you and to others in your country."},{actionValue:Z.VISION_INCOME_VERIFY,buttonText:"How will Thrubi verify my income?",text:"We are working to collaborate with government entities in order to gather current and trustworthy information regarding your income."},{actionValue:Z.VISION_INCOME_FRAUD,buttonText:"What about those who declare a false income?",text:"Our efforts will go towards reducing fraud as much as conceivable. Thrubi will work to cover the unavoidable remaining small percentage of fraudulent income declarations by an appropriate insurance policy. It should cover basic income unfairly attributed to fraudulent declarations and taken away from legitimate recipients. Those responsible would be banned from receiving basic income in the future."},{actionValue:Z.VISION_TAX_HAVENS,buttonText:"How does Thrubi deal with undeclared offshore incomes?",text:"Tax havens are an ongoing issue for the realization of a fair universal basic income and will be until countries agree on common rules for income declaration and transparency on financial matters. It is still important to implement basic income plans to the extent of our capabilities, while governments work together to define more efficient schemes of financial cooperation."},{actionValue:Z.VISION_UBI_MONTHLY,buttonText:"Will I receive basic income every month?",text:"No, initially you will receive basic income only whenever wealthy individuals in your country actively participate by transferring a sum of money. The periodicity of basic income payments could change in the future. We will keep you informed regarding that."}],style:"thrubiBlue",image:"/jpg/crowd.jpg",bg:"everybody",color:"primary",header:"Vision",text:this.visionText()},{actions:[{actionValue:Z.WEALTHY_GOLD,buttonText:"What about my Thrubi Gold?",text:"At the moment, Thrubi Gold acquired in your country is only representative of the extent to which you have contributed towards basic income. While in the future it might become possible to freely trade Thrubi Gold, it is at the moment non-transferable. We also intend to gauge interest by government agencies to accept Thrubi Gold as a means to cover your tax duties, given that by purchasing Thrubi Gold, you will have directly contributed to growth in your society."},{actionValue:Z.WEALTHY_COMPANY,buttonText:"I represent a company. Can I contribute?",text:"Please get in touch at info@thrubi.com \u2014 while at the moment Thrubi algorithms only support individuals and tax units (couples or families) that declare income together, our long-term plan is to include companies in the picture. We would be delighted to hear your intentions."},{actionValue:Z.WEALTHY_WORLDWIDE,buttonText:"Benefiting just my country seems too restrictive. What about a worldwide basic income?",text:"The long-term plans for Thrubi include extending our basic income scheme to the whole world's population. We have income distribution data to work towards that goal, already. Before it can become a reality, a few technicalities need to be covered first, such as ensuring universal identity certification and stronger income verification procedures."},{actionValue:Z.WEALTHY_PUBLIC_INFO,buttonText:"I would like people to know that I contributed to Thrubi. Will my payments be made public?",text:"Yes, all Thrubi Gold purchase proceedings go towards basic income and will be publicly available, unless you explicitly have us not reveal that information."},{actionValue:Z.WEALTHY_BUSINESS_MODEL,buttonText:"How does Thrubi make money?",text:"We are currently working on our business model. The current possibilities are: 1) advertisements, 2) a small fee on Thrubi Gold purchases, 3) donations. Let us know your suggestions: info@thrubi.com"}],style:"thrubiSilver",image:"/jpg/hanauer.jpg",bg:"wealthy",color:"secondary",header:"Wealthy individuals",text:this.wealthyText()},{actions:[{actionValue:Z.SOCIETIES_UBI_GOV,buttonText:"Shouldn't universal basic income be the government's responsibility?",text:"Probably. However, it seems a target that is hard to agree upon as a government. That leaves the wealthy who protect their own interests able to do so, and other wealthy individuals advocating basic income and even willing to actively pay towards it unable to do so, for lack of a suitable platform, and left to blame the government. Enter Thrubi."},{actionValue:Z.SOCIETIES_THRUBI_WHY,buttonText:"What is the main goal for Thrubi?",text:"Thrubi aims to create a global community where UBI can be achieved according to shared principles and rational mathematical models. The desired result is a fair, healthy society that people love being an active part of."},{actionValue:Z.SOCIETIES_MODELS_PUBLIC,buttonText:"Are the in-house models publicly available?",text:"The in-house models underlying all basic income calculations will be made open source in the future. For the time being, they are not public. The rationale behind that decision is we have an edge and would like to keep that advantage to gain traction around the intended goal for Thrubi, which is to achieve positive social change around financial fairness in an evolving world."},{actionValue:Z.SOCIETIES_GOV_CONTRIBUTE,buttonText:"I represent a government. How can we implement Thrubi in our country?",text:"Please get in touch at info@thrubi.com \u2014 The starting point would be to provide a proven way of identifying your citizens and their incomes. It would be desirable for you to start thinking whether your would accept Thrubi Gold to fulfill tax duties in your country."},{actionValue:Z.SOCIETIES_FLAT_UBI,buttonText:"Prices will rise, so basic income is useless. Right?",text:"Wrong, you are probably assuming that everybody should be paid a flat UBI amount. That is not sustainable. What needs to be addressed in any basic income scheme is not the basic income itself, as a number, but rather a country's income distribution. Given the latter, it is possible to calculate a target income distribution whereby anyone below a (variable) income threshold gets a basic income, higher for those with lower earnings. By periodically recalculating the target distribution and the individual basic incomes, it is possible to create a scheme that does not barely provide a fixed amount of money with an inevitably decreasing purchasing power, but rather connects all individuals in an overarching social scheme. Thrubi does exactly that with its inner models. By so doing, a society keeps its selfish incentives to innovate \u2014 its citizens are still rewarded by much higher incomes for higher contributions \u2014 but ensures its members that they will grow together. As an additional benefit, the extreme inequalities that put institutions at risk are smoothed out."},{actionValue:Z.SOCIETIES_MODELS_ABOUT,buttonText:"I am still curious. How do the social models used to determine basic income work exactly?",text:"Here is a short summary, but please also read the answer to the question \"Prices will rise...\" if you haven't already. Capitalism has an inherent benefit \u2014 selfish incentives to innovate, produce better goods and provide better services go at the heart of human nature \u2014 and an inherent dangerous mechanics \u2014 investment principles, as opposed to consumption, if applied at scale have the ability to starve the entire system, as is seen during financial crises. Without going into the important moral considerations of workers' rights and the consequences of owning entire sectors of a society, from the bare point of view of efficiency, it is not convenient to either the poor or the rich to have an economy swinging between periods of over-exploitation and periods of stagnation. Thrubi aims with its inner models to preserve the benefit of growth while inhibiting the dangerous mechanics of starvation. It recreates an optimal distribution that allows the poor to live a healthy life and contribute to a healthy society and the rich to keep on thriving."}],style:"thrubiGold",image:"/jpg/futuristic.jpg",bg:"societies",color:"success",header:"Thriving societies",text:this.societiesText()}].map((function(n){return o.a.createElement("div",{className:"col-lg-4 p-0 m-0 navbar-light"},o.a.createElement("h2",{className:"mr-0 mr-lg-3 mb-0 my-lg-0 text-center text-lg-center px-4 py-3 text-light bg-"+n.color,style:{backgroundImage:"url(/logo.png",backgroundSize:"contain",backgroundPosition:"left",backgroundRepeat:"no-repeat",backgroundBlendMode:"luminosity"}},n.header),o.a.createElement("div",{className:"mr-0 mr-lg-3 mb-4 my-lg-0 "+n.style},o.a.createElement("div",{style:{backgroundImage:"url("+n.image,backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"border-0 container-fluid m-0 "+n.bg+" p-4 text-"+n.color},o.a.createElement("p",null,n.text),n.actions.map((function(t){return o.a.createElement(a.Fragment,null,o.a.createElement(Ae,{text:t.buttonText,buttonType:"my-4 btn-outline-"+n.color,action:null}),e[t.actionValue]?o.a.createElement("div",{className:"p-0"},t.text):"")}))),o.a.createElement("div",{className:"border-0 container-fluid m-0 overflow-hidden topLeft p-4 opaque text-"+n.color},o.a.createElement("p",null,n.text),n.actions.map((function(r){return o.a.createElement(a.Fragment,null,o.a.createElement(Ae,{text:r.buttonText,buttonType:"my-4 btn-outline-"+n.color,action:function(){t(r.actionValue)}}),e[r.actionValue]?o.a.createElement("div",{className:"p-0"},r.text):"")})))))}))))}}]),t}(a.Component),Vr=Object(s.b)((function(e){return{faqState:e.client.guest.faqState}}),{toggleFaq:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){r().client.guest.faqState[e]||n(jr($,e))})).then((function(){return n({type:N.TOGGLE_FAQ_STATE,payload:{actionValue:e}})})).catch((function(){throw E.infoFlare.CANNOT_TOGGLE_FAQ_STATE})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Mr),Gr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e={localProfilePicture:null},t=this.props,n=t.role,r=t.deactivated,a=t.profilePicture,c=this.props,i=c.deleteProfilePicture,u=c.uploadProfilePicture;return o.a.createElement("div",{className:"mb-2"},o.a.createElement("label",{for:"profilePictureInput",className:"m-0 p-0"},o.a.createElement("img",{className:"mt-3 rounded-circle",alt:"profilePicture",height:"128",width:"128",src:a||"/icons/"+n+r+".png"})),o.a.createElement("input",{id:"profilePictureInput",className:"d-none",ref:function(t){return e.localProfilePicture=t},type:"file",onChange:function(){return u(e.localProfilePicture)}}),a?o.a.createElement(Ae,{noMargin:"small m-0 mt-2 p-0",buttonType:"nav-link border-0 text-secondary",action:i,text:"Delete my profile picture"}):o.a.createElement("div",{className:"small text-secondary m-0 p-0"},"Click on the user icon to upload a profile picture"))}}]),t}(a.Component),Hr=Object(s.b)((function(e){return{role:e.client.user.role?"admin":"user",deactivated:e.client.user.deactivated?"_deactivated":"",profilePicture:e.client.user.profilePicture}}),{deleteProfilePicture:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_ACTION_USERDETAILS})})).then((function(){return t(je(ke,_t,{userDetails:Object(P.a)({},oe,!0)}))})).then((function(){return t({type:N.DELETE_PROFILE_PICTURE,payload:{}})})).catch((function(e){return t(R(E.flareType.ERROR,E.errorFlare.ERR_USER_DETAILS))})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_USERDETAILS})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},uploadProfilePicture:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){var a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.files[0],t.next=3,Promise.resolve().then((function(){if("image/jpeg"!==o.type&&"image/png"!==o.type)throw E.errorFlare.ERR_USER_PROFILE_PICTURE})).then((function(){if(o.size>5e5)throw E.errorFlare.ERR_USER_PROFILE_PICTURE})).then((function(){return n(je(ke,Nt,{fileName:o.name,fileType:o.type,fileSize:o.size}))})).then((function(e){return a=e})).then((function(){return n(Nr(a.signedPutUri,o))})).then((function(){return n(Sr(Object(P.a)({},oe,a.unsignedGetUri),{overwrite:!0}))})).finally((function(){return e.value=null}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Gr),Wr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,r=e.surname,a=e.email,c=e.document,i=e.deactivated,u=e.emailVerified,l=e.identityCertified;return o.a.createElement("div",{className:"text-center mb-2"},o.a.createElement("div",{className:"text-primary d-inline-block p-0"},o.a.createElement("b",null,n||r?(n||"")+" "+(r||""):"No user data"),"\xa0"),o.a.createElement("div",{className:"text-secondary d-inline-block small"},"uid#",t,"\xa0",o.a.createElement("span",{className:"badge "+(i?"badge-danger":"badge-info")},i?"Deactivated":"Active account")),o.a.createElement("div",{className:"text-secondary small"},"email: ",a||"not found","\xa0",o.a.createElement("span",{className:"badge "+(u?"badge-info":"badge-danger")},u>0?"Email verified":u<0?"Pending verification":"Not verified")),o.a.createElement("div",{className:"text-secondary small"},"document: ",c||"not found","\xa0",o.a.createElement("span",{className:"badge "+(l>0?"badge-info":"badge-danger")},l>0?"Identity certified":l<0?"Pending certification":"Not certified")))}}]),t}(a.Component),Yr=Object(s.b)((function(e){return{id:e.client.user.id,name:e.client.user.name,surname:e.client.user.surname,email:e.client.user.email,document:e.client.user.document,deactivated:e.client.user.deactivated,emailVerified:e.client.user.emailVerified,identityCertified:e.client.user.identityCertified}}))(Wr),Kr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.busy,n=e.loggedIn;return o.a.createElement("div",{className:"text-center"},t?o.a.createElement("div",null,"Dashboard loading..."):n?o.a.createElement("div",null,o.a.createElement(Hr,null),o.a.createElement(Yr,null)):o.a.createElement("div",null,"User not logged in"))}}]),t}(a.Component),qr=Object(s.b)((function(e){return{busy:e.session.busy.component.dashboard,loggedIn:e.client.userAccess.loggedIn,role:e.client.user.role}}))(Kr),Jr=Object(s.b)((function(e){return{deactivated:e.client.user.deactivated,activateUserBusy:e.session.busy.action.activateUser}}),{activateUser:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_ACTION_ACTIVATEUSER})})).then((function(){return t({type:N.CLEAR_POPULATION,payload:{}})})).then((function(){return t(je(ke,vt,null))})).then((function(){return t({type:N.SET_USER_ACTIVATED,payload:{}})})).catch((function(e){throw E.flareFallback(e,E.errorFlare.USER_ACTIVATION)})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_ACTIVATEUSER})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},deactivateUser:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_ACTION_ACTIVATEUSER})})).then((function(){return t({type:N.CLEAR_POPULATION,payload:{}})})).then((function(){return t(je(ke,Tt,{activationState:re}))})).then((function(){return t({type:N.SET_USER_DEACTIVATED,payload:{}})})).catch((function(e){throw E.flareFallback(e,E.errorFlare.USER_ACTIVATION)})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_ACTIVATEUSER})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){var t=e.deactivated,n=e.activateUserBusy,r=e.activateUser,c=e.deactivateUser;return o.a.createElement(a.Fragment,null,n?"Please wait, activation request in progress...":t?o.a.createElement(Ae,{text:"Request activation",action:r,buttonType:"btn-primary"}):o.a.createElement(Ae,{text:"Deactivate my account",action:c,buttonType:"btn-secondary"}))})),Xr=Object(s.b)((function(e){return{updateUserBusy:e.session.busy.action.userDetails,name:e.client.user.name,surname:e.client.user.surname,email:e.client.user.email,document:e.client.user.document}}),{storeDetails:Sr,deleteDetails:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_ACTION_USERDETAILS})})).then((function(){return t(je(ke,_t,{userDetails:Object(P.a)({},ae,!0)}))})).then((function(){return t({type:N.DELETE_USER_DETAILS,payload:{}})})).catch((function(e){return t(R(E.flareType.ERROR,E.errorFlare.ERR_USER_DETAILS))})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_USERDETAILS})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){var t=e.updateUserBusy,n=e.name,r=e.surname,c=e.email,i=e.document,u=e.storeDetails,l=e.deleteDetails,s={name:n,surname:r,email:c},p="form-control form-control-sm rounded-0";return o.a.createElement(a.Fragment,null,t?"Updating user data...":o.a.createElement(a.Fragment,null,o.a.createElement("input",{id:"inputUserName",ref:function(e){return s.name=e},type:"text",className:p,placeholder:n||"Enter name"}),o.a.createElement("input",{id:"inputUserSurname",ref:function(e){return s.surname=e},type:"text",className:p,placeholder:r||"Enter surname"}),o.a.createElement("input",{id:"inputUserEmail",ref:function(e){return s.email=e},type:"text",className:p,placeholder:c||"Enter email address"}),o.a.createElement("input",{id:"inputUserDocument",disabled:!0,type:"text",className:p,placeholder:i||"Identity not verified"}),o.a.createElement(Ae,{text:"Update my personal data",buttonType:"btn-primary",action:function(){var e={};s.name.value&&(e.name=s.name.value),s.surname.value&&(e.surname=s.surname.value),s.email.value&&(e.email=s.email.value),u(e,{overwrite:!0})}}),o.a.createElement(Ae,{text:"Delete my personal data",action:l,buttonType:"btn-secondary"})))})),zr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.identityCertified,n=e.countryName,r=this.props.uploadDocument;return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"m-3"},"You are applying to become a Thrubi member in the following country: ",o.a.createElement("b",null,n)),o.a.createElement(Ae,{text:0===t?"Upload a document to start the identity certification procedure":"Thrubi is certifying your identity",disabled:0!==t,buttonType:"btn-primary",action:r}))}}]),t}(a.Component),Qr=Object(s.b)((function(e){return{identityCertified:e.client.user.identityCertified,countryName:e.client.population.countryName}}),{uploadDocument:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Sr(Object(P.a)({},ce,!0),{overwrite:!0}))})).then((function(){return t(je(ke,Rt,{}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(zr),$r=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={claimProcedureActive:!1},n}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.populationId,c=t.claimBusy,i=t.thrubiBlueEth,u=t.ccySymbol,l=t.exrate,s=t.claim;return o.a.createElement("div",{className:"claimItem"},n?"Claim loading...":-1===r?"Please select a population, first.":c?"Busy processing claim":o.a.createElement("div",{className:"text-primary"},this.state.claimProcedureActive?o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"small text-justify"},"Fees will be deducted to pay for the blockchain transaction. The remaining \u039e will be credited in full, values in ",u," are just an indication."),o.a.createElement("div",{className:"container"},o.a.createElement(Re,{text:"You can claim",bold:!1,value:i,ccySymbol:"\u039e"}),o.a.createElement(Re,{text:"Claimable in "+u,bold:!1,value:i*l,ccySymbol:u})),o.a.createElement(Ae,{action:s,disabled:!i,buttonType:"btn-"+(i?"primary":"light"),text:i?"Claim your "+i.toFixed(2)+" \u039e":"Nothing to claim"})):"",o.a.createElement(Ae,{disabled:!i&&!this.state.claimProcedureActive,buttonType:"btn-"+(this.state.claimProcedureActive?"":"outline-")+"primary"+(i?" active":""),text:this.state.claimProcedureActive?"Close":i?"Activate claim procedure":"Nothing to claim",action:function(){e.setState({claimProcedureActive:!e.state.claimProcedureActive})}})))}}]),t}(a.Component),Zr=Object(s.b)((function(e){return{busy:e.session.busy.component.claim,populationId:e.client.population.id,claimBusy:e.session.busy.action.claim,thrubiBlueEth:e.client.member.thrubiBlueEth,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate}}),{claim:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().client.userAccess.ethAddress,a=n().client.population.id,e.next=4,t(je(Le,mt+"/"+r+"/"+a,null));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})($r),ea=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.optionAdvancedMode,n=e.optionViewHistory,r=this.props,a=r.advancedMode,c=r.viewHistory,i=this.props.color;return o.a.createElement("div",null,o.a.createElement(Ae,{noMargin:"small m-0 mt-2 p-0",buttonType:"nav-link border-0 text-"+i,action:function(){return a(!t)},text:t?"Show less details":"Show more details..."}),t?o.a.createElement(Ae,{noMargin:"small m-0 p-0",buttonType:"nav-link border-0 text-"+i,action:function(){return c(!n)},text:n?"Hide history":"View history..."}):"")}}]),t}(a.Component),ta=Object(s.b)((function(e){return{optionAdvancedMode:e.client.user.optionAdvancedMode,optionViewHistory:e.client.user.optionViewHistory,populationId:e.client.population.id}}),{advancedMode:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:N.SET_OPTION_ADVANCED_MODE,payload:{optionAdvancedMode:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},viewHistory:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:N.SET_OPTION_VIEW_HISTORY,payload:{optionViewHistory:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(ea),na=function(e){var t=e.ccySymbol,n=e.member,r=e.exrate,c=e.optionViewHistory,i=e.optionAdvancedMode;return o.a.createElement("div",{className:"container-fluid"},i?o.a.createElement(a.Fragment,null,o.a.createElement(Re,{text:"My Thrubi Blue \u20aeB",bold:!1,value:n.thrubiBlue,ccySymbol:"\u20aeB"}),o.a.createElement(Re,{text:"Next month \u20aeB",bold:!1,value:n.thrubiBlueNext,ccySymbol:"\u20aeB"}),o.a.createElement(Re,{text:"Claimable \u039e",bold:!1,value:n.thrubiBlueEth,ccySymbol:"\u039e"}),o.a.createElement(Re,{text:"\u20aeB awards",bold:!1,value:n.thrubiBlueAward,ccySymbol:t}),o.a.createElement(Re,{text:"Claimable in "+t,bold:!0,value:n.thrubiBlueEth*r,ccySymbol:t})):o.a.createElement(a.Fragment,null,o.a.createElement(Re,{text:"My Thrubi Blue \u20aeB",bold:!1,value:n.thrubiBlue,ccySymbol:"\u20aeB"}),o.a.createElement(Re,{text:"Claimable in "+t,bold:!0,value:n.thrubiBlueEth*r,ccySymbol:t})),c?o.a.createElement(a.Fragment,null,o.a.createElement(Re,{text:"Total awards",bold:!1,value:n.thrubiBlueAwardTotal,ccySymbol:t}),o.a.createElement(Re,{text:"Total claimed",bold:!1,value:n.thrubiBlueClaimTotal,ccySymbol:t})):"",o.a.createElement(ta,{color:"primary"}))},ra=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiBlue||this.state.manualPanel||this.setState({showPanel:e.thrubiBlue})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.member,c=t.ccySymbol,i=t.exrate,u=t.optionViewHistory,l=t.optionAdvancedMode;return o.a.createElement("div",{className:"text-center text-primary"},o.a.createElement(Ae,{text:"Thrubi Blue",buttonType:"btn-outline-primary"+(this.state.showPanel?" active":""),action:function(){e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}}),this.state.showPanel?n?"Member loading...":o.a.createElement(a.Fragment,null,o.a.createElement(na,{member:r,ccySymbol:c,exrate:i,optionViewHistory:u,optionAdvancedMode:l}),o.a.createElement(Zr,null)):"")}}]),t}(a.Component),aa=Object(s.b)((function(e){return{busy:e.session.busy.component.dashboard,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,optionViewHistory:e.client.user.optionViewHistory,optionAdvancedMode:e.client.user.optionAdvancedMode}}))(ra),oa=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={transformEthValue:0,transformProcedureActive:!1},n}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.transformBusy,c=t.populationId,i=t.exrate,u=t.ccySymbol,l=t.thrubiSilver,s=t.thrubiPriceSilver,p=t.thrubiFees,d=t.transform;return o.a.createElement("div",null,n?"Transform loading...":-1===c?"Please select a population, first.":r?"Busy processing transform request":o.a.createElement(a.Fragment,null,this.state.transformProcedureActive?o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"small text-justify"},"Blockchain transaction costs will be paid by you upon submitting the transaction. Final transformed $\u20ae will depend upon \u039e exchange rates and $\u20ae price when your transaction is accepted. Any excess \u039e that you transform will be credited on the account and used whenever $\u20ae becomes available."),o.a.createElement("div",{className:"text-secondary container"},o.a.createElement(Re,{text:"\u039e to spend to transform",bold:!1,value:this.state.transformEthValue,ccySymbol:"\u039e"}),o.a.createElement(Re,{text:"Current value in "+u,bold:!1,value:this.state.transformEthValue*i,ccySymbol:u}),o.a.createElement(Re,{text:"Thrubi fees ("+(100*p).toFixed(1)+"%)",bold:!1,value:this.state.transformEthValue*i*p,ccySymbol:u}),o.a.createElement(Re,{text:"You can transform",bold:!1,value:this.state.transformEthValue*i*(1-p)*(s?1/s:0),ccySymbol:"$\u20ae"})),o.a.createElement("input",{id:"transformEth",ref:function(t){return e.transformEthRef=t},type:"text",className:"form-control form-control-sm rounded-0",placeholder:this.transformEthValue,required:!0,onChange:function(t){t.preventDefault();var n=parseFloat(e.transformEthRef.value);n||(n=0),e.setState({transformEthValue:n})}}),o.a.createElement(Ae,{buttonType:"btn-"+(this.state.transformEthValue?"primary":"light"),disabled:!this.state.transformEthValue,action:d,payload:this.state.transformEthValue,text:this.state.transformEthValue?"Transform "+this.state.transformEthValue.toFixed(2)+" \u039e":"Insert an \u039e amount"})):"",o.a.createElement(Ae,{disabled:!l&&!this.state.transformProcedureActive,buttonType:"btn-"+(this.state.transformProcedureActive?"":"outline-")+"secondary"+(l?" active":""),text:this.state.transformProcedureActive?"Close":l?"Activate transform procedure":"Nothing to transform",action:function(){return e.setState({transformProcedureActive:!e.state.transformProcedureActive})}})))}}]),t}(a.Component),ca=Object(s.b)((function(e){return{busy:e.session.busy.component.transform,transformBusy:e.session.busy.action.transform,populationId:e.client.population.id,thrubiSilver:e.client.member.thrubiSilver,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiFees:e.client.population.thrubiFees,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate}}),{transform:function(e){return function(t,n){var r=n().session.blockchain.thrubiContract.methods.transform,a=n().client.userAccess.ethAddress,o=n().client.population.id,c=n().client.user.id;return new Promise((function(t,n){try{r(c,o,a).send({from:a,value:1e18*e}).once(Me,(function(){t()}))}catch(i){throw E.errorFlare.NO_ETHEREUM_CONFIG}}))}}})(oa),ia=function(e){var t=e.ccySymbol,n=e.member,r=(e.exrate,e.thrubiPriceSilver),c=e.thrubiPriceGold,i=e.optionViewHistory,u=e.optionAdvancedMode;return o.a.createElement("div",{className:"container"},u?o.a.createElement(a.Fragment,null,o.a.createElement(Re,{text:"My Thrubi Silver \u20ae$",bold:!0,value:n.thrubiSilver,ccySymbol:"\u20aeS"}),o.a.createElement(Re,{text:"Next month \u20ae$",bold:!1,value:n.thrubiSilverNext,ccySymbol:"\u20aeS"}),o.a.createElement(Re,{text:"Conversion to gold cost",bold:!1,value:n.thrubiSilver*r,ccySymbol:t}),o.a.createElement(Re,{text:"Gold value",bold:!1,value:n.thrubiSilver*c,ccySymbol:t}),o.a.createElement(Re,{text:"Remaining \u039e",bold:!1,value:n.thrubiSilverEth,ccySymbol:"\u039e"})):o.a.createElement(a.Fragment,null,o.a.createElement(Re,{text:"My Thrubi Silver \u20ae$",bold:!0,value:n.thrubiSilver,ccySymbol:"\u20aeS"}),o.a.createElement(Re,{text:"Conversion to gold cost",bold:!1,value:n.thrubiSilver*r,ccySymbol:t}),o.a.createElement(Re,{text:"Gold value",bold:!1,value:n.thrubiSilver*c,ccySymbol:t})),i?o.a.createElement(Re,{text:"Total transformed",bold:!1,value:n.thrubiSilverTransformTotal,ccySymbol:t}):"",o.a.createElement(ta,{color:"secondary"}))},ua=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiSilver||this.state.manualPanel||this.setState({showPanel:!!e.thrubiSilver})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.member,c=t.ccySymbol,i=t.exrate,u=t.thrubiPriceSilver,l=t.thrubiPriceGold,s=t.optionViewHistory,p=t.optionAdvancedMode;return o.a.createElement("div",{className:"text-center text-secondary"},o.a.createElement(Ae,{text:"Thrubi Silver",buttonType:"btn-outline-secondary"+(this.state.showPanel?" active":""),action:function(){e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}}),this.state.showPanel?n?"Member loading...":o.a.createElement(a.Fragment,null,o.a.createElement(ia,{member:r,ccySymbol:c,exrate:i,thrubiPriceSilver:u,thrubiPriceGold:l,optionViewHistory:s,optionAdvancedMode:p}),o.a.createElement(ca,null)):"")}}]),t}(a.Component),la=Object(s.b)((function(e){return{busy:e.session.busy.component.dashboard,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiPriceGold:e.client.population.thrubiPriceGold,optionViewHistory:e.client.user.optionViewHistory,optionAdvancedMode:e.client.user.optionAdvancedMode}}))(ua),sa=function(e){var t=e.ccySymbol,n=e.member,r=e.thrubiPriceGold;return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"container-fluid"},o.a.createElement(Re,{text:"My Thrubi Gold",bold:!0,value:n.thrubiGold,ccySymbol:"\u20aeG"}),o.a.createElement(Re,{text:"Market value",bold:!1,value:n.thrubiGold*r,ccySymbol:t})),o.a.createElement(Ae,{action:function(){},text:"Find gold Thrubi marketplace",buttonType:"btn-outline-success"}))},pa=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiGold||this.state.manualPanel||this.setState({showPanel:!!e.thrubiGold})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.member,c=t.ccySymbol,i=t.exrate,u=t.thrubiPriceGold;return o.a.createElement("div",{className:"text-center text-success"},o.a.createElement(Ae,{text:"Thrubi Gold",buttonType:"btn-outline-success"+(this.state.showPanel?" active":""),action:function(){e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}}),this.state.showPanel?n?"Member loading...":o.a.createElement(a.Fragment,null,o.a.createElement(sa,{member:r,ccySymbol:c,exrate:i,thrubiPriceGold:u})):"")}}]),t}(a.Component),da=Object(s.b)((function(e){return{busy:e.session.busy.component.dashboard,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiPriceGold:e.client.population.thrubiPriceGold}}))(pa),ma=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.populations,n=e.populationId,r=e.filter,a=this.props,c=a.selectPopulation,i=a.deselectPopulation;return t.filter((function(e){return!r||e.countryId.toLowerCase().includes(r.toLowerCase())||e.countryName.toLowerCase().includes(r.toLowerCase())||e.ccyId.toLowerCase().includes(r.toLowerCase())||e.ccyName.toLowerCase().includes(r.toLowerCase())})).map((function(e,t){return o.a.createElement("div",{key:t,className:"bg-light py-0 px-2 p-lg-0 my-1"},o.a.createElement("button",{className:"btn btn-sm m-0 p-0 rounded-0 border-0 btn-block btn-outline-primary"+(n===e.populationId?" active":""),onClick:n===e.populationId?function(){return i(e)}:function(){return c(e)}},o.a.createElement("div",{className:"d-none d-lg-flex container-fluid row p-3 m-0"},o.a.createElement("div",{className:"col-lg-1 col-md-2  p-0 m-0 text-center"},e.countryId),o.a.createElement("div",{className:"col-lg-5 col-md-10 p-0 m-0 text-left"}," ",e.countryName),o.a.createElement("div",{className:"col-lg-1 col-md-2  p-0 m-0 text-center"},e.ccyId),o.a.createElement("div",{className:"col-lg-4 col-md-8  p-0 m-0 text-left"},e.ccyName),o.a.createElement("div",{className:"col-lg-1 col-md-2  p-0 m-0 text-center"},e.ccySymbol)),o.a.createElement("div",{className:"d-block d-lg-none my-3 py-3 text-center"},e.countryName," (",e.countryId,") - ",e.ccyName," (",e.ccyId," ",e.ccySymbol,")")))}))}}]),t}(a.Component),fa=Object(s.b)((function(e){return{deactivated:e.client.user.deactivated,populationId:e.client.population.id,populations:e.client.population.populations,filter:e.client.population.filter}}),{selectPopulation:tn,deselectPopulation:nn})(ma),Ea=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"componentDidUpdate",value:function(){this.reload()}},{key:"reload",value:function(){var e=this.props,t=e.userId,n=e.populationsBusy,r=e.populationsNotAvailable,a=this.props.fetchPopulations;!n&&r&&a(t)}},{key:"render",value:function(){var e,t,n=this.props,r=n.busy,c=n.populationsBusy,i=n.populationsNotAvailable,u=n.populationId,l=this.props,s=l.createMember,p=l.changeFilter;return r?"Loading...":c?"User populations loading...":i?"No populations found...":o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"d-none d-lg-flex flex-column flex-grow-1 align-items-center wMin800"},o.a.createElement("div",{className:"m-3 d-flex flex-column flex-grow-1 align-items-center wMin800"},o.a.createElement("div",{className:"d-flex flex-column flex-grow-1 wMin800 bg-light"},o.a.createElement("div",{className:"text-center bg-primary text-light p-2"},"Please select your country and currency from the list below and confirm:"),o.a.createElement("input",{ref:function(e){return t=e},onChange:function(){return p(t.value)},type:"text",className:"form-control form-control-sm rounded-0 my-3 p-3",placeholder:"Search by country or currency"}),o.a.createElement(fa,null),o.a.createElement(Ae,{action:s,payload:u,disabled:!u,text:"Confirm",noMargin:"p-2",buttonType:" btn-primary"})),o.a.createElement("a",{className:"nav-link text-primary text-center",href:"mailto:info@thrubi.com"},"Not found? Let us know: info@thrubi.com"))),o.a.createElement("div",{className:"d-flex d-lg-none flex-column flex-grow-1 align-items-center"},o.a.createElement("div",{className:"m-3 d-flex flex-column flex-grow-1 align-items-center"},o.a.createElement("div",{className:"d-flex flex-column flex-grow-1 bg-light"},o.a.createElement("div",{className:"text-center bg-primary text-light p-2"},"Please select your country and currency from the list below and confirm:"),o.a.createElement("input",{ref:function(t){return e=t},onChange:function(){return p(e.value)},type:"text",className:"form-control form-control-sm rounded-0 my-3 p-3",placeholder:"Search by country or currency"}),o.a.createElement(fa,null),o.a.createElement(Ae,{action:s,payload:u,disabled:!u,text:"Confirm",noMargin:"p-2",buttonType:" btn-primary"})),o.a.createElement("a",{className:"nav-link text-primary text-center",href:"mailto:info@thrubi.com"},"Not found? Let us know: info@thrubi.com"))))}}]),t}(a.Component),ha=Object(s.b)((function(e){return{busy:e.session.busy.component.userMenu,populationsBusy:e.session.busy.action.populations,populationsNotAvailable:!e.client.population.populations||!e.client.population.populations.length,userId:e.client.user.id,populationId:e.client.population.id}}),{fetchPopulations:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})).then((function(){return t(je(Le,Wt,null))})).then((function(e){return r=e})).then((function(){return r.forEach((function(e){e.isMember&&(t(tn(e)),t(rn()),t(Zt()),t(Ge()))}))})).then((function(){return t({type:N.RECEIVE_POPULATIONS,payload:{populations:r}})})).catch((function(e){return t(R(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},createMember:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n({type:N.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})).then((function(){return n(je(ke,pt+"/"+e,null))})).then((function(){return n(Zt())})).then((function(){return n(rn())})).then((function(){return n(Ge())})).catch((function(e){return n(R(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})).finally((function(){return n({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},changeFilter:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n({type:N.RECEIVE_POPULATION_FILTER,payload:{filter:e}})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Ea),ba=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:N.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS}),e.abrupt("return",je(ke,Jt+"/"+n().client.population.id,null)(t,n).then((function(e){nn()(t,n)})).catch((function(e){return t(R(E.flareType.ERROR,e))})).then((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ya=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchCountries)()}},{key:"render",value:function(){var e=this.props,t=e.countries,n=e.countryId,r=this.props,a=r.selectCountry,c=r.deselectCountry;return o.a.createElement("div",null,t.map((function(e,t){return o.a.createElement("div",{key:t,className:"country p-0"},o.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(n===e.countryId?"light":"primary"),value:n===e.countryId?"Selected":"Select #"+e.countryId,onClick:n===e.countryId?function(e){c()}:function(t){a(e.countryId)}},o.a.createElement("div",{className:"container-fluid row p-0 m-0"},o.a.createElement("div",{className:"small col-lg-4 p-0 m-0 text-center"},n===e.countryId?"Selected":"Select #"+e.countryId),o.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.countryId),o.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-left"},e.countryName))))})))}}]),t}(a.Component),Oa=Object(s.b)((function(e){return{countries:e.global.country.countries,countryId:e.global.country.id}}),{fetchCountries:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je(Le,lt,null)(t,n).then((function(e){t({type:N.RECEIVE_COUNTRIES,payload:{countries:e}})})).catch((function(e){return t(R(E.flareType.ERROR,e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},selectCountry:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:N.SELECT_COUNTRY,payload:{countryId:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},deselectCountry:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:N.DESELECT_COUNTRY,payload:{}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(ya),va=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchCcys)()}},{key:"render",value:function(){var e=this.props,t=e.ccys,n=e.ccyId,r=this.props,a=r.selectCcy,c=r.deselectCcy;return o.a.createElement("div",null,t.map((function(e,t){return o.a.createElement("div",{key:t,className:"ccy p-0"},o.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(n===e.ccyId?"light":"primary"),value:n===e.ccyId?"Selected":"Select #"+e.ccyId,onClick:n===e.ccyId?function(e){c()}:function(t){a(e.ccyId)}},o.a.createElement("div",{className:"container-fluid row p-0 m-0"},o.a.createElement("div",{className:"small col-lg-3 p-0 m-0 text-center"},n===e.ccyId?"Selected":"Select #"+e.ccyId),o.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.ccyId),o.a.createElement("div",{className:"small col-lg-5 p-0 m-0 text-left"},e.ccyName),o.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.ccySymbol))))})))}}]),t}(a.Component),Ta=Object(s.b)((function(e){return{ccys:e.global.ccy.ccys,ccyId:e.global.ccy.id}}),{fetchCcys:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je(Le,st,null)(t,n).then((function(e){t({type:N.RECEIVE_CCYS,payload:{ccys:e}})})).catch((function(e){return t(R(E.flareType.ERROR,e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},selectCcy:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:N.SELECT_CCY,payload:{ccyId:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},deselectCcy:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:N.DESELECT_CCY,payload:{}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(va),ga=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.verifyExists()}},{key:"componentDidUpdate",value:function(){this.verifyExists()}},{key:"verifyExists",value:function(){var e=this.props,t=e.countryId,n=e.ccyId,r=this.props.populationExists;t&&n&&r(t,n)}},{key:"render",value:function(){var e=this.props,t=e.countryId,n=e.ccyId,r=e.exists,c=this.props.createPopulation;return o.a.createElement(a.Fragment,null,o.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(""===t||""===n?"light":r?"secondary":"primary"),value:""===t||""===n?"Please select country and currency":r?"The selected population already exists":"Create population: "+t+" "+n,disabled:""===t||""===n||r,onClick:function(e){c(t,n)}},""===t||""===n?"Please select country and currency":r?"The selected population already exists":"Create population: "+t+" "+n),o.a.createElement("br",null),o.a.createElement("div",{className:"container-fluid row p-0 m-0"},o.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-center"},o.a.createElement(Oa,null)),o.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-center"},o.a.createElement(Ta,null))))}}]),t}(a.Component),_a=Object(s.b)((function(e){return{countryId:e.global.country.id,ccyId:e.global.ccy.id,exists:e.client.population.exists}}),{populationExists:function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",je(Le,$t+"/"+e+"/"+t,null)(r,a).then((function(e){r({type:N.POPULATION_EXISTS,payload:{exists:e.exists}})})).catch((function(e){return r(R(E.flareType.ERROR,e))})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},createPopulation:function(e,t){return function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:N.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS}),n.abrupt("return",je(ke,qt+"/"+e+"/"+t,null)(r,a).then((function(e){r({type:N.POPULATION_EXISTS,payload:{exists:1}})})).catch((function(e){return r(R(E.flareType.ERROR,e))})).then((function(){return r({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})(ga),Ia=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement(Ae,{action:ba,text:"Delete Population",buttonType:"btn-secondary"})}}]),t}(a.Component),Na=Object(s.b)((function(e){return{}}),{deletePopulation:ba})(Ia),Ra=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e,t,n,r=this.props,c=r.brake,i=r.mincome,u=r.equality,l=r.warperMincome,s=r.warperEquality,p=r.tunePopulation;return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement(Re,{text:"mincome",bold:!1,value:i,ccySymbol:""}),o.a.createElement(Re,{text:"equality",bold:!1,value:u,ccySymbol:""}),o.a.createElement(Re,{text:"brake",bold:!1,value:c,ccySymbol:""}),o.a.createElement(Re,{text:"warperMincome",bold:!1,value:l,ccySymbol:""}),o.a.createElement(Re,{text:"warperEquality",bold:!1,value:s,ccySymbol:""})),o.a.createElement("form",{onSubmit:function(){var r=Object(y.a)(b.a.mark((function r(a){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a.preventDefault(),p(e.value,t.value,n.value);case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},o.a.createElement("input",{id:"newBrake",ref:function(t){return e=t},type:"text",className:"form-control form-control-sm",placeholder:c.toFixed(2),required:!0}),o.a.createElement("input",{id:"newWarperMincome",ref:function(e){return t=e},type:"text",className:"form-control form-control-sm",placeholder:l.toFixed(2),required:!0}),o.a.createElement("input",{id:"newWarperEquality",ref:function(e){return n=e},type:"text",className:"form-control form-control-sm",placeholder:s.toFixed(2),required:!0}),o.a.createElement("input",{className:"btn btn-sm p-0 btn-block btn-primary",type:"submit",value:"Change configuration"})))}}]),t}(a.Component),wa=Object(s.b)((function(e){return{mincome:e.client.population.mincome,equality:e.client.population.equality,brake:e.client.population.brake,warperMincome:e.client.population.warperMincome,warperEquality:e.client.population.warperEquality}}),{tunePopulation:function(e,t,n){return function(){var r=Object(y.a)(b.a.mark((function r(a,o){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:N.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS}),r.abrupt("return",je(ke,Qt+"/"+o().client.population.id,{brake:e,warperMincome:t,warperEquality:n})(a,o).then((function(e){})).catch((function(e){return a(R(E.flareType.ERROR,e))})).then((function(){return a({type:N.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 2:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}})(Ra),Sa=(n(594),function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.busy,n=e.optionUserMenu,r=e.loggedIn,c=e.auth,i=e.identityCertified,u=e.isMember,l=e.member,s=this.props.close;return o.a.createElement("div",{className:"container-fluid row p-0 m-0 mb-5"},t?"User loading...":o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"col-lg-3 navbar-light"},r?o.a.createElement(qr,null):"",o.a.createElement(Br,null),r&&"USER"===n?o.a.createElement("div",null,o.a.createElement(Xr,null),o.a.createElement(Jr,null),o.a.createElement(Ae,{text:"Close my account",action:s,buttonType:"btn-outline-red"})):""),o.a.createElement("div",{className:"col-lg-9 navbar-light p-0"},r?u?o.a.createElement("div",{className:"bg-light mr-2 ml-2 ml-lg-0"},o.a.createElement(kr,null),i<=0?o.a.createElement("div",null,o.a.createElement(Qr,null)):o.a.createElement(a.Fragment,null,c?o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"col-lg-4 navbar-light"},o.a.createElement(Na,null)),o.a.createElement("div",{className:"col-lg-4 navbar-light"},o.a.createElement(wa,null))):o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"container-fluid row p-0 m-0"},o.a.createElement("div",{className:"col-lg-4 thrubiBlue navbar-light"},l.thrubiBlue||l.thrubiBlueNext||l.thrubiBlueEth||l.thrubiBlueAward||l.thrubiBlueAwardTotal||l.thrubiBlueClaimTotal?o.a.createElement(aa,null):""),o.a.createElement("div",{className:"col-lg-4 thrubiSilver navbar-light"},l.thrubiSilver||l.thrubiSilverNext||l.thrubiSilverEth||l.thrubiSilverTransformTotal?o.a.createElement(la,null):""),o.a.createElement("div",{className:"col-lg-4 thrubiGold navbar-light"},l.thrubiGold?o.a.createElement(da,null):""))))):o.a.createElement(a.Fragment,null,o.a.createElement(ha,null),c?o.a.createElement(_a,null):""):o.a.createElement(Vr,null))))}}]),t}(a.Component)),Aa=Object(s.b)((function(e){return{busy:e.session.busy.component.user,optionUserMenu:e.client.user.optionUserMenu,role:e.client.user.role,loggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id,isMember:e.client.member.isMember,member:e.client.member,identityCertified:e.client.user.identityCertified}}),{close:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:N.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return t(je(ke,wt,{}))})).then((function(){return t(On({autoLogin:!1}))})).catch((function(e){return t(R(E.flareType.ERROR,E.errorFlare.ERR_ACCOUNT_CLOSE))})).finally((function(){return t({type:N.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(Sa),Ca=Object(s.b)((function(e){return{nCountry:e.global.stats.nCountry,nCcy:e.global.stats.nCcy}}),{})((function(e){var t=e.nCcy,n=e.nCountry;return o.a.createElement("span",null,"Thrubi is launching in ",n," ",1===n?"country":"countries"," and ",t," ",1===t?"currency":"currencies",".")})),xa=Object(s.b)((function(e){return{ethNetwork:e.client.userAccess.ethNetwork,ethAddress:e.client.userAccess.ethAddress}}))((function(e){var t=e.ethNetwork,n=e.ethAddress;return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"d-block d-lg-none container-fluid flex-md-nowrap p-0 footer"},o.a.createElement("div",{className:"col-lg-12 float-right m-0 py-2 pt-2 text-center bg-light",style:{backgroundImage:"url(/logo.png",backgroundSize:"50%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"color-dodge"}},o.a.createElement(_e,null),o.a.createElement("span",{className:"small d-block"},o.a.createElement(Ca,null)),o.a.createElement("span",{className:"mb-2 small"},"Public data provided by:"),o.a.createElement("br",null),o.a.createElement("a",{href:"https://www.irs.gov",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"text-center d-inline mr-1 mb-1",alt:"IRS.gov",height:"80px",src:"/jpg/IRS.gov.jpg"})),o.a.createElement("a",{href:"https://wid.world",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"text-center d-inline mr-1 mb-1",alt:"wid.world",height:"80px",src:"/png/wid.world.png"})),o.a.createElement("br",null),o.a.createElement("div",{className:"px-1"},o.a.createElement("img",{className:"text-center d-inline mr-1 mb-1",alt:"email",width:"20px",src:"/png/email.png",style:{filter:"opacity(.5) sepia(1) hue-rotate(180deg)"}}),"\xa0",o.a.createElement("a",{className:"text-center text-secondary",href:"mailto:info@thrubi.com"},"info@thrubi.com")),o.a.createElement("a",{href:"https://twitter.com/thrubi_org?ref_src=twsrc%5Etfw","data-show-count":"false",className:"twitter-follow-button"},"Follow @thrubi_org"),o.a.createElement("br",null)),t&&n?o.a.createElement("div",{className:"col-lg-12 float-right mx-0 my-0 pb-1 text-center bg-light"},o.a.createElement("div",{className:"navbar-nav small consoleFont"},o.a.createElement("div",null,o.a.createElement("span",{className:"badge badge-warning d-inline"},o.a.createElement("span",{className:""},"network/"),t),o.a.createElement("span",{className:"badge badge-info d-inline"},n)))):"",o.a.createElement("div",{className:"col-lg-12 float-right mx-0 my-0 pb-1 text-center bg-light"},o.a.createElement("a",{href:"https://discord.gg/ZUHPgyt",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"text-center d-inline mx-0 my-3",alt:"discord",height:"50px",src:"/png/discord_grey.png"}))),o.a.createElement("div",{className:"col-lg-12 float-right m-0 p-0 text-center text-success bg-light"},o.a.createElement("span",{className:"d-block navbar-nav small"},o.a.createElement("p",{className:"d-inline-block"},"Rising inequality is toxic to growth"),o.a.createElement("i",{className:"d-inline-block small"},"\xa0\u2014 Nick Hanauer")),o.a.createElement("div",{className:"pt-0 pb-3"},"\xa9 2020 Thrubi.com"))),o.a.createElement("div",{className:"d-none d-lg-flex flex-md-nowrap m-0 p-4 container-fluid flex-grow-1 footer bg-light",style:{backgroundImage:"url(/logo.png",backgroundSize:"50%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"color-dodge"}},o.a.createElement("div",{className:"col-lg-4 float-right m-0 px-0 py-3 text-left"},o.a.createElement("p",{className:"m-0 p-0 mb-3"},"Public data provided by:"),o.a.createElement("a",{href:"https://www.irs.gov",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"text-center d-inline mr-1 mb-1",alt:"IRS.gov",height:"80px",src:"/jpg/IRS.gov.jpg"})),o.a.createElement("a",{href:"https://wid.world",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"text-center d-inline mr-1 mb-1",alt:"wid.world",height:"80px",src:"/png/wid.world.png"})),o.a.createElement("p",{className:"m-0 p-0 mt-3"}),o.a.createElement(Ca,null),o.a.createElement("div",{className:"py-3"},o.a.createElement("img",{className:"text-center d-inline mr-1 mb-1",alt:"email",width:"20px",src:"/png/email.png",style:{filter:"opacity(.5) sepia(1) hue-rotate(180deg)"}}),"\xa0",o.a.createElement("a",{className:"text-center text-secondary",href:"mailto:info@thrubi.com"},"info@thrubi.com")),o.a.createElement("a",{href:"https://twitter.com/thrubi_org?ref_src=twsrc%5Etfw","data-show-count":"false",className:"twitter-follow-button"},"Follow @thrubi_org"),o.a.createElement("br",null)),o.a.createElement("div",{className:"col-lg-4 float-right m-0 px-0 py-3 text-center text-secondary"},o.a.createElement("a",{href:"https://discord.gg/ZUHPgyt",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"text-center d-inline mx-0 mb-3",alt:"discord",height:"50px",src:"/png/discord_grey.png"})),o.a.createElement("iframe",{src:"https://discordapp.com/widget?id=681677187044343841&theme=dark",width:"350",height:"300",allowTransparency:"true",frameBorder:"0"})),o.a.createElement("div",{className:"col-lg-4 float-right m-0 px-0 py-3 text-right text-success"},o.a.createElement("span",{className:"d-block navbar-nav"},o.a.createElement("p",{className:"d-inline-block"},"Rising inequality is toxic to growth"),o.a.createElement("i",{className:"d-inline-block small"},"\xa0\u2014 Nick Hanauer")),o.a.createElement("div",{className:"pb-3"},"\xa9 2020 Thrubi.com"))))})),Pa=(n(595),function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.deactivated,n=e.flares,r=this.props,c=r.deleteFlare,i=r.refreshFlare;return o.a.createElement(a.Fragment,null,t?"":o.a.createElement("div",{className:"fixed-bottom flareBox"},Object.keys(n).map((function(e,t){return o.a.createElement("div",{key:e,role:"alert",onMouseOver:function(){return i(e,!0)},onMouseOut:function(){return i(e)},className:"alert alert-dismissible fade show "+(n[e].flareType===E.flareType.ERROR?"alert-red":n[e].flareType===E.flareType.WARNING?"alert-danger":"alert-secondary")},o.a.createElement("span",null,n[e].message?n[e].message.slice(0,200):"Internal error"),"\xa0",o.a.createElement("i",null,n[e].details?n[e].details.slice(0,200):""),o.a.createElement("button",{className:"close paddingX",type:"button",onClick:function(){return c(e)},"data-dismiss":"alert"},o.a.createElement("span",null,"\xd7")))}))))}}]),t}(a.Component)),La=Object(s.b)((function(e){return{deactivated:e.session.flare.deactivated,flares:e.session.flare.flares}}),{deleteFlare:w,refreshFlare:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(function(){var n=Object(y.a)(b.a.mark((function n(r,a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then((function(){return clearTimeout(a().session.flare.flares[e].deleteTimeout)})).then((function(){return setTimeout((function(){return r(w(e))}),t?3e4:7e3)})).then((function(t){return r({type:N.REFRESH_FLARE_TIMEOUT,payload:{index:e,deleteTimeout:t}})})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}})(Pa),ka=function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().session.workers.globalStats,clearInterval(r),t({type:N.STOP_GLOBAL_STATS_WORKER,payload:{}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ua=(n(233),function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.setState({guestSubscribed:!1})}},{key:"render",value:function(){var e,t=this.props.guestSubscribed,n=this.props.guestSubscribeNewsletter;return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"w-100 px-2 py-4 text-center"},o.a.createElement("p",{className:"display-4 m-2 px-2"},"A ",o.a.createElement("span",{className:"thrubiGradient"},"Thrubi")," account gets you a ",o.a.createElement("span",{className:"thrubiGradient"},"universal basic income.")),o.a.createElement("h4",{className:"m-2 px-2"},"It is calculated based on your current earnings and funded by wealthy individuals."),o.a.createElement("h4",{className:"display-3 m-0 p-2"},"Our purpose? ",o.a.createElement("span",{className:"thrubiGradient"},"Solve extreme poverty."))),o.a.createElement("div",{className:"container-fluid row mx-0 my-4 mb-5 p-0 text-center w-100 bg-light"},o.a.createElement("div",{className:"col-lg-3 p-0 d-flex flex-column"},o.a.createElement("div",{className:"mx-md-0 mx-lg-3 px-0 py-2 pb-4 bg-primary text-light d-flex flex-grow-1"},o.a.createElement("div",{className:"w-100 h-100"},o.a.createElement("p",{className:"display-1"},"1."),o.a.createElement("p",{className:"p-4"},"Sign up for a Thrubi account using one of the methods below")))),o.a.createElement("div",{className:"col-lg-6 p-0 m-0 d-flex flex-column"},o.a.createElement("div",{className:"mx-md-0 ml-lg-0 mr-lg-3 px-0 py-2 pb-4 bg-secondary text-light d-flex flex-grow-1"},o.a.createElement("div",{className:"w-100 h-100"},o.a.createElement("p",{className:"display-1"},"2."),o.a.createElement("p",{className:"px-2 mb-2"},t?"Subscribed to the newsletter!":"Subscribe to the newsletter"),t?"":o.a.createElement(a.Fragment,null,o.a.createElement("br",{className:"d-lg-none"}),o.a.createElement("input",{ref:function(t){return e=t},type:"text",className:"d-inline-block form-control form-control-sm rounded-0 m-0 w-75",placeholder:"My email address",required:!0}),o.a.createElement("br",{className:"d-lg-none"}),o.a.createElement(Ae,{buttonType:" d-inline-block w-75 btn-outline-light mx-2 ",noMargin:"px-2",text:"Keep me up to date",action:function(){return n(e.value)}}))))),o.a.createElement("div",{className:"col-lg-3 p-0 d-flex flex-column"},o.a.createElement("div",{className:"mx-md-0 ml-lg-0 mr-lg-3 px-0 py-2 pb-4 bg-success text-light d-flex flex-grow-1"},o.a.createElement("div",{className:"w-100 h-100"},o.a.createElement("p",{className:"display-1"},"3."),o.a.createElement("p",{className:"p-4"},"Learn more about Thrubi in the sections below"))))))}}]),t}(a.Component)),Fa=Object(s.b)((function(e){return{guestSubscribed:e.client.guest.subscribed}}),{guestSubscribeNewsletter:function(e){return function(){var t=Object(y.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(ke,We,{guestEmail:e}))})).then((function(){return n({type:N.SET_GUEST_SUBSCRIBED,payload:{guestSubscribed:!0}})})).catch((function(){throw E.infoFlare.CANNOT_SUBSCRIBE_NEWSLETTER})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Ua),ja=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.sendRedirect;window.location.search?e():this.reload()}},{key:"componentWillUnmount",value:function(){ka()}},{key:"reload",value:function(){var e=this.props,t=e.startGlobalStatsWorker,n=e.fetchChannels,r=e.enableBlockchain;return Promise.all([t(),n(),r()])}},{key:"render",value:function(){var e=this.props,t=e.busy,n=e.loggedIn;return o.a.createElement("div",{className:"thrubiApp text-primary d-flex flex-column align-items-stretch"},o.a.createElement(Ie,null),o.a.createElement("div",{className:"mainView"},n?"":o.a.createElement(Fa,null),t?o.a.createElement("div",{className:"text-center"},"App loading... or Ethereum config not found. Please authorize Thrubi in MetaMask. Not sure what this means? Find out how to enable Thrubi ",o.a.createElement("b",null,"here"),"!"):o.a.createElement(Aa,null)),o.a.createElement(xa,null),o.a.createElement(La,null))}}]),t}(a.Component),Da=Object(s.b)((function(e){return{busy:e.session.busy.component.app,loggedIn:e.client.userAccess.loggedIn}}),{startGlobalStatsWorker:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){return Promise.resolve().then((function(){return t(function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.abrupt("return",Promise.all([t(je(Le,ht,null)),t(je(Le,bt,null)),t(je(Le,yt,null))]).then((function(e){for(var t=0;t<=2;t++)for(var n in e[t])r[n]=e[t][n];return r})).catch((function(e){return t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.ERR_FETCH_GLOBAL_STATS)))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).then((function(e){t({type:N.RECEIVE_GLOBAL_STATS,payload:{globalStats:e}})})).catch((function(e){t(R(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.ERR_RECEIVE_GLOBAL_STATS)))}))};return e(),e}(),3e4),t({type:N.RECEIVE_GLOBAL_STATS_WORKER,payload:{globalStatsWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},stopGlobalStatsWorker:ka,fetchChannels:gn,enableBlockchain:function(){return function(){var e=Object(y.a)(b.a.mark((function e(t,n){var r,a,o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Be.a(Be.a.givenProvider),a=new r.eth.Contract(Ve,"0xeC6020cd56349ED60512c9985BdC5F3B7098315d"),t({type:N.RECEIVE_THRUBI_CONTRACT,payload:{thrubiContract:a}}),o=setInterval((function(){r.eth.net.getNetworkType().then((function(e){return{ethNetwork:e,changed:e!==n().client.userAccess.ethNetwork}})).then((function(e){return e.changed&&t({type:N.UPDATE_ETH_NETWORK,payload:{ethNetwork:e.ethNetwork}}),e}))}),1e3),t({type:N.RECEIVE_ETH_NETWORK_WORKER,payload:{ethNetworkWorker:o}}),c=setInterval((function(){window.ethereum.enable().then((function(){return r.eth.getAccounts()})).catch((function(e){return t(R(E.flareType.ERROR,E.errorFlare.CANNOT_ENABLE_ETHEREUM))})).then((function(e){return e[0]})).then((function(e){return{ethAddress:e,changed:e!==n().client.userAccess.ethAddress}})).then((function(e){return e.changed&&t(On({autoLogin:!1})),e})).then((function(e){return e.changed&&t({type:N.UPDATE_ETH_ADDRESS,payload:{ethAddress:e.ethAddress}}),e}))}),1e3),t({type:N.RECEIVE_ETH_ADDRESS_WORKER,payload:{ethAddressWorker:c}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},sendRedirect:gr})(ja),Ba=(n(596),Oe());i.a.render(o.a.createElement(s.a,{store:Ba},o.a.createElement(l.a,{basename:""},o.a.createElement(u.a,{exact:!0,path:"/",component:Da}))),document.getElementById("root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.9d95cce3.chunk.js.map