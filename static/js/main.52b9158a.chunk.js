(this["webpackJsonpthrubi-client"]=this["webpackJsonpthrubi-client"]||[]).push([[0],{239:function(e,t,n){e.exports=n(598)},263:function(e,t){},265:function(e,t){},295:function(e,t){},296:function(e,t){},360:function(e,t){},593:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){},596:function(e,t,n){},598:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"switchOptionLoginCreate",(function(){return bn})),n.d(r,"logout",(function(){return On})),n.d(r,"fetchChannels",(function(){return Nn})),n.d(r,"fetchUserChannels",(function(){return _n})),n.d(r,"deleteChannel",(function(){return In})),n.d(r,"getPayChannel",(function(){return Rn})),n.d(r,"setPayChannel",(function(){return gn})),n.d(r,"getReceiveChannel",(function(){return wn})),n.d(r,"setReceiveChannel",(function(){return An})),n.d(r,"createBlockchainEthereum",(function(){return xn})),n.d(r,"loginBlockchainEthereum",(function(){return Pn})),n.d(r,"addBlockchainEthereum",(function(){return Ln})),n.d(r,"updateBlockchainEthereum",(function(){return kn})),n.d(r,"createKeyboardForm",(function(){return Un})),n.d(r,"loginKeyboardForm",(function(){return Fn})),n.d(r,"addKeyboardForm",(function(){return jn})),n.d(r,"updateKeyboardForm",(function(){return Dn})),n.d(r,"abandonKeyboard",(function(){return Bn})),n.d(r,"chooseKeyboard",(function(){return Mn})),n.d(r,"createKeyboard",(function(){return Gn})),n.d(r,"loginKeyboard",(function(){return Vn})),n.d(r,"addKeyboard",(function(){return Hn})),n.d(r,"updateKeyboard",(function(){return Yn})),n.d(r,"createFacebook",(function(){return zn})),n.d(r,"loginFacebook",(function(){return $n})),n.d(r,"addFacebook",(function(){return Qn})),n.d(r,"updateFacebook",(function(){return Zn})),n.d(r,"createLinkedIn",(function(){return nr})),n.d(r,"loginLinkedIn",(function(){return rr})),n.d(r,"addLinkedIn",(function(){return ar})),n.d(r,"updateLinkedIn",(function(){return cr})),n.d(r,"createGoogle",(function(){return ir})),n.d(r,"loginGoogle",(function(){return lr})),n.d(r,"addGoogle",(function(){return sr})),n.d(r,"updateGoogle",(function(){return pr})),n.d(r,"createTwitter",(function(){return mr})),n.d(r,"loginTwitter",(function(){return Er})),n.d(r,"addTwitter",(function(){return hr})),n.d(r,"updateTwitter",(function(){return yr})),n.d(r,"createPayPal",(function(){return br})),n.d(r,"loginPayPal",(function(){return Or})),n.d(r,"addPayPal",(function(){return vr})),n.d(r,"updatePayPal",(function(){return Tr})),n.d(r,"sendRedirect",(function(){return Nr}));var a=n(0),c=n.n(a),o=n(97),u=n.n(o),i=n(40),l=n(236),s=n(3),p=n(29),d=n(234),f=n.n(d),m=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"===typeof r.action?r.action((function(e){return t({action:e})}),n):e(r.action)}}},E={flareType:{ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO"},flareFallback:function(e,t){return e&&e.thrubiFlareId?e:(t.details=e,t)},infoFlare:{DETECTED_ETH_NETWORK_CHANGE:{thrubiFlareId:"I001",message:"Detected Ethereum network change"},DETECTED_ETH_ADDRESS_CHANGE:{thrubiFlareId:"I002",message:"Detected Ethereum address change"},DEACTIVATED_ON:{thrubiFlareId:"I003",message:"User account is deactivated"},DEACTIVATED_OFF:{thrubiFlareId:"I004",message:"User account is now active"},DEACTIVATED_PENDING:{thrubiFlareId:"I005",message:"User account is now pending activation"},EMAIL_VERIFIED_ON:{thrubiFlareId:"I006",message:"Email address has been verified"},EMAIL_VERIFIED_OFF:{thrubiFlareId:"I007",message:"Unverified email address detected. Please check your inbox."},EMAIL_VERIFIED_PENDING:{thrubiFlareId:"I008",message:"Email address pending verification. Please check your inbox."},IDENTITY_CERTIFIED_ON:{thrubiFlareId:"I009",message:"Identity document certified"},IDENTITY_CERTIFIED_OFF:{thrubiFlareId:"I010",message:"Non-certified identity document detected. Please certify."},IDENTITY_CERTIFIED_PENDING:{thrubiFlareId:"I011",message:"Identity certification procedure pending. Please wait."},INCOME_APPROVED_ON:{thrubiFlareId:"I012",message:"Declared income has been officially approved"},INCOME_APPROVED_OFF:{thrubiFlareId:"I013",message:"Newly declared income is not approved, please check."},INCOME_APPROVED_PENDING:{thrubiFlareId:"I014",message:"Newly declared income is pending approval. Please wait."}},errorFlare:{USER_ACTIVATION:{thrubiFlareId:"0021",message:"User activation module error"},UNEXPECTED_FLARE:{thrubiFlareId:"0009",message:"Flares must have an ID to be dispatched"},THRUBI_SERVER_ERROR:{thrubiFlareId:"0001",message:"Thrubi server returned an error"},THRUBI_CONNECTION_FAILED:{thrubiFlareId:"0002",message:"Thrubi server not available, please check your connection"},FAILED_LOGOUT:{thrubiFlareId:"0003",message:"Unable to logout"},FAILED_LOGIN:{thrubiFlareId:"0008",message:"Login failed"},EXRATE_FETCH_ERROR:{thrubiFlareId:"0010",message:"Failed fetching exchange rate from Coinbase server"},FB_NOT_FOUND:{thrubiFlareId:"0004",message:"Unable to connect to Facebook"},ERR_FETCH_GLOBAL_STATS:{thrubiFlareId:"0011",message:"Error while receiving global stats"},ERR_RECEIVE_GLOBAL_STATS:{thrubiFlareId:"0012",message:"Error while processing global stats"},NO_ETHEREUM_CONFIG:{thrubiFlareId:"0022",message:"Ethereum wallet not found, please configure or enable MetaMask"},CANNOT_ENABLE_ETHEREUM:{thrubiFlareId:"0013",message:"Could not enable Ethereum"},ERR_USER_DETAILS:{thrubiFlareId:"0014",message:"Error processing user details"},ERR_USER_PROFILE_PICTURE:{thrubiFlareId:"0023",message:"Please upload a JPG or PNG file, max size: "+500..toFixed(0)+" kB"},S3_UPLOAD_ERROR:{thrubiFlareId:"0024",message:"Could not upload picture to Amazon S3"},ERR_ACCOUNT_CLOSE:{thrubiFlareId:"0015",message:"Could not close user account"},ERR_GENERIC_USERMENU:{thrubiFlareId:"0016",message:"Internal: error with an user menu operation"},ERR_PAY_CHANNEL_UPDATE:{thrubiFlareId:"0017",message:"Error updating user pay channel"},ERR_RECEIVE_CHANNEL_UPDATE:{thrubiFlareId:"0023",message:"Error updating user receive channel"},ERR_USER_CHANNEL_FETCH:{thrubiFlareId:"0018",message:"Error fetching user channels"},ERR_CHANNEL_FETCH:{thrubiFlareId:"0019",message:"Error fetching channels"},ERR_USER_FLAGS:{thrubiFlareId:"0020",message:"Could not update user flags"},CHANNEL_CLOSED:{thrubiFlareId:"0005",message:"Switching to Add Channel page, channel is not open"},MESSAGE_IGNORED:{thrubiFlareId:"0006",message:"Internal: message from login popup ignored"},ERROR_STOP_TOKEN_REFRESH:{thrubiFlareId:"0007",message:"Internal: error stopping token refresh"}}},h=n(1),y=n.n(h),b=n(2),O=n(4),v=n(5),T=function(){function e(){Object(O.a)(this,e)}return Object(v.a)(e,null,[{key:"addToQueue",value:function(e){this.queue=this.queue.then(e)}}]),e}();T.queue=Promise.resolve();var N=T,_={APP_SHUTDOWN:null,LOGOUT:null,STOP_AUTO_LOGIN:null,UPDATE_ETH_NETWORK:null,UPDATE_ETH_ADDRESS:null,REFRESH_TOKENS:null,RECEIVE_CHANNELS:null,RECEIVE_USER_CHANNELS:null,RECEIVE_LOGIN_CHANNEL:null,RECEIVE_PAY_CHANNEL:null,RECEIVE_RECEIVE_CHANNEL:null,RECEIVE_FACEBOOK_LOGIN_STATUS:null,RECEIVE_LINKEDIN_WINDOW_AND_LISTENER:null,CLEAR_LINKEDIN_WINDOW_AND_LISTENER:null,RECEIVE_LINKEDIN_LOGIN:null,RECEIVE_GOOGLE_WINDOW_AND_LISTENER:null,CLEAR_GOOGLE_WINDOW_AND_LISTENER:null,RECEIVE_GOOGLE_LOGIN:null,RECEIVE_TWITTER_WINDOW_AND_LISTENER:null,CLEAR_TWITTER_WINDOW_AND_LISTENER:null,RECEIVE_TWITTER_LOGIN:null,LOGIN:null,RECEIVE_USER_FLAGS:null,SET_USER_ACTIVATED:null,SET_USER_DEACTIVATED:null,RECEIVE_USER_DETAILS:null,DELETE_USER_DETAILS:null,DELETE_PROFILE_PICTURE:null,ABANDON_KEYBOARD:null,CHOOSE_KEYBOARD:null,SWITCH_OPTION_LOGIN_CREATE:null,SWITCH_OPTION_USER_MENU:null,SET_OPTION_ADVANCED_MODE:null,SET_OPTION_VIEW_HISTORY:null,CHANGE_POPULATION:null,RECEIVE_POPULATIONS:null,CLEAR_POPULATION:null,SELECT_POPULATION:null,POPULATION_EXISTS:null,RECEIVE_THRUBI_PRICE_SILVER:null,RECEIVE_THRUBI_PRICE_SILVER_NEXT:null,RECEIVE_STATS:null,RECEIVE_CONFIG:null,CLEAR_MEMBER:null,RECEIVE_MEMBER:null,RECEIVE_CCYS:null,SELECT_CCY:null,DESELECT_CCY:null,RECEIVE_COUNTRIES:null,SELECT_COUNTRY:null,RECEIVE_POPULATION_FILTER:null,DESELECT_COUNTRY:null,RECEIVE_EXRATE:null,RECEIVE_GLOBAL_STATS:null,RECEIVE_THRUBI_CONTRACT:null,SET_BUSY:null,SET_NOT_BUSY:null,INCREASE_FLARE_NEXT:null,EMIT_FLARE:null,DELETE_FLARE:null,REFRESH_FLARE_TIMEOUT:null,RECEIVE_ETH_NETWORK_WORKER:null,RECEIVE_ETH_ADDRESS_WORKER:null,RECEIVE_REFRESH_TOKENS_WORKER:null,RECEIVE_GLOBAL_STATS_WORKER:null,RECEIVE_USER_WORKER:null,RECEIVE_MEMBER_WORKER:null,RECEIVE_MARKET_WORKER:null,RECEIVE_POPULATION_WORKER:null,STOP_ETH_NETWORK_WORKER:null,STOP_ETH_ADDRESS_WORKER:null,STOP_REFRESH_TOKENS_WORKER:null,STOP_GLOBAL_STATS_WORKER:null,STOP_USER_WORKER:null,STOP_MEMBER_WORKER:null,STOP_MARKET_WORKER:null,STOP_POPULATION_WORKER:null};Object.keys(_).map((function(e){return _[e]=e}));var I={BUSY_COMPONENT_APP:{busyType:"component",busyId:"app"},BUSY_COMPONENT_TITLEBAR:{busyType:"component",busyId:"titlebar"},BUSY_COMPONENT_VIEWPORT:{busyType:"component",busyId:"viewport"},BUSY_COMPONENT_DASHBOARD:{busyType:"component",busyId:"dashboard"},BUSY_COMPONENT_CLIENT:{busyType:"component",busyId:"client"},BUSY_COMPONENT_AUTH:{busyType:"component",busyId:"auth"},BUSY_COMPONENT_USER:{busyType:"component",busyId:"user"},BUSY_COMPONENT_CLAIM:{busyType:"component",busyId:"claim"},BUSY_COMPONENT_TRANSFORM:{busyType:"component",busyId:"transform"},BUSY_COMPONENT_USERMENU:{busyType:"component",busyId:"userMenu"},BUSY_COMPONENT_ADMINMENU:{busyType:"component",busyId:"adminMenu"},BUSY_ACTION_FETCHPOPULATIONS:{busyType:"action",busyId:"fetchPopulations"},BUSY_ACTION_ACTIVATION:{busyType:"action",busyId:"activation"},BUSY_ACTION_CLAIM:{busyType:"action",busyId:"claim"},BUSY_ACTION_TRANSFORM:{busyType:"action",busyId:"transform"},BUSY_ACTION_USERDETAILS:{busyType:"action",busyId:"userDetails"},BUSY_ACTION_ACTIVATEUSER:{busyType:"action",busyId:"activateUser"},BUSY_ACTION_DECLAREINCOME:{busyType:"action",busyId:"declareIncome"},BUSY_ACTION_POPULATIONS:{busyType:"action",busyId:"populations"}},R=_,g=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){var c,o,u,i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.error("flare: ",t),n.abrupt("return",Promise.resolve().then((function(){return r(function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise((function(e){return r=e})),c={},N.addToQueue((function(){return Promise.resolve().then((function(){return c.value=n().session.flare.next})).then((function(){return t({type:R.INCREASE_FLARE_NEXT,payload:{}})})).then((function(){return r(c.value)}))})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).then((function(e){return c=e})).then((function(){return o=E.flareFallback(t,E.errorFlare.UNEXPECTED_FLARE)})).then((function(){return u=o.thrubiFlareId===E.errorFlare.THRUBI_SERVER_ERROR.thrubiFlareId?o.serverError:o.message})).then((function(){return JSON.stringify(o.details)})).then((function(e){return i="string"===typeof o.details?o.details:e})).then((function(){return setTimeout((function(){return r(w(c))}),7e3)})).then((function(t){return r({type:R.EMIT_FLARE,payload:{index:c,flareType:e,message:u,details:i,deleteTimeout:t}})})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return clearTimeout(r().session.flare.flares[e].deleteTimeout)})).then((function(){return n({type:R.DELETE_FLARE,payload:{index:e}})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},A=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){return"function"===typeof n?t({action:n}).catch((function(e){t({action:g(E.flareType.ERROR,e)})})):n.action?e(n):void 0}}},S={thrubiContract:{}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.RECEIVE_THRUBI_CONTRACT:return Object.assign({},e,{thrubiContract:t.payload.thrubiContract});default:return e}},x=n(238),P=n(25),L={deactivated:!0,next:0,flares:{}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.INCREASE_FLARE_NEXT:return Object.assign({},e,{next:e.next+1});case R.EMIT_FLARE:return Object.assign({},e,{deactivated:!1,flares:Object.assign({},e.flares,Object(P.a)({},t.payload.index,{flareType:t.payload.flareType,message:t.payload.message,details:t.payload.details,deleteTimeout:t.payload.deleteTimeout}))});case R.DELETE_FLARE:return Object.assign({},e,{deactivated:1===Object.keys(e.flares).length&&Object.keys(e.flares)[0]===t.payload.index,flares:Object.assign.apply(Object,[{}].concat(Object(x.a)(Object.keys(e.flares).map((function(n){return n.toString()!==t.payload.index.toString()?Object(P.a)({},n,e.flares[n]):null})).filter((function(e){return null!==e})))))});case R.REFRESH_FLARE_TIMEOUT:return Object.assign({},e,{deactivated:e.deactivated,flares:Object.assign({},e.flares,Object(P.a)({},t.payload.index,{flareType:e.flares[t.payload.index].flareType,message:e.flares[t.payload.index].message,details:e.flares[t.payload.index].details,deleteTimeout:t.payload.deleteTimeout}))});default:return e}},U={ethNetwork:null,ethAddress:null,refreshTokens:null,globalStats:null,user:null,member:null,market:null,population:null},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.RECEIVE_ETH_NETWORK_WORKER:return Object.assign({},e,{ethNetwork:t.payload.ethNetworkWorker});case R.RECEIVE_ETH_ADDRESS_WORKER:return Object.assign({},e,{ethAddress:t.payload.ethAddressWorker});case R.RECEIVE_REFRESH_TOKENS_WORKER:return Object.assign({},e,{refreshTokens:t.payload.refreshTokensWorker});case R.RECEIVE_GLOBAL_STATS_WORKER:return Object.assign({},e,{globalStats:t.payload.globalStatsWorker});case R.RECEIVE_USER_WORKER:return Object.assign({},e,{user:t.payload.userWorker});case R.RECEIVE_MEMBER_WORKER:return Object.assign({},e,{member:t.payload.memberWorker});case R.RECEIVE_MARKET_WORKER:return Object.assign({},e,{market:t.payload.marketWorker});case R.RECEIVE_POPULATION_WORKER:return Object.assign({},e,{population:t.payload.populationWorker});case R.STOP_ETH_NETWORK_WORKER:return Object.assign({},e,{ethNetwork:null});case R.STOP_ETH_ADDRESS_WORKER:return Object.assign({},e,{ethAddress:null});case R.STOP_REFRESH_TOKENS_WORKER:return Object.assign({},e,{refreshTokens:null});case R.STOP_GLOBAL_STATS_WORKER:return Object.assign({},e,{globalStats:null});case R.STOP_USER_WORKER:return Object.assign({},e,{user:null});case R.STOP_MEMBER_WORKER:return Object.assign({},e,{member:null});case R.STOP_MARKET_WORKER:return Object.assign({},e,{market:null});case R.STOP_POPULATION_WORKER:return Object.assign({},e,{population:null});default:return e}},j={component:{app:!1,titlebar:!1,viewport:!1,dashboard:!1,client:!1,auth:!1,user:!1,claim:!1,transform:!1,userMenu:!1,adminMenu:!1},action:{fetchPopulations:!1,activation:!1,claim:!1,transform:!1,userDetails:!1,activateUser:!1,declareIncome:!1,populations:!1}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.SET_BUSY:return Object.assign({},e,Object(P.a)({},t.payload.busyType,Object.assign({},e[t.payload.busyType],Object(P.a)({},t.payload.busyId,!0))));case R.SET_NOT_BUSY:return Object.assign({},e,Object(P.a)({},t.payload.busyType,Object.assign({},e[t.payload.busyType],Object(P.a)({},t.payload.busyId,!1))));default:return e}},B=Object(p.c)({blockchain:C,workers:F,busy:D,flare:k}),M={exrate:0},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.RECEIVE_EXRATE:return Object.assign({},e,{exrate:t.payload.exrate});case R.STOP_MARKET_WORKER:return{exrate:0};default:return e}},V={nUser:0,nCountry:0,nCcy:0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.RECEIVE_GLOBAL_STATS:return{nUser:t.payload.globalStats.nUser,nCountry:t.payload.globalStats.nCountry,nCcy:t.payload.globalStats.nCcy};default:return e}},Y={countries:[],id:null},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.RECEIVE_COUNTRIES:return Object.assign({},e,{countries:t.payload.countries});case R.SELECT_COUNTRY:return Object.assign({},e,{id:t.payload.countryId});case R.DESELECT_COUNTRY:return Object.assign({},e,{id:null});default:return e}},K={ccys:[],id:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.RECEIVE_CCYS:return Object.assign({},e,{ccys:t.payload.ccys});case R.SELECT_CCY:return Object.assign({},e,{id:t.payload.ccyId});case R.DESELECT_CCY:return Object.assign({},e,{id:null});default:return e}},J=Object(p.c)({market:G,stats:H,country:W,ccy:q}),X="CLICK_CHANNEL",z="CLICK_HOME_BUTTON",$="EVERYBODY",Q="WEALTHY",Z="SOCIETIES",ee={deactivated:null,emailVerified:null,identityCertified:null,incomeApproved:null};Object.keys(ee).map((function(e){return ee[e]=e}));var te=ee,ne=function(e,t){if(e<0)switch(t){case te.deactivated:return E.infoFlare.DEACTIVATED_PENDING;case te.emailVerified:return E.infoFlare.EMAIL_VERIFIED_PENDING;case te.identityCertified:return E.infoFlare.IDENTITY_CERTIFIED_PENDING;case te.incomeApproved:return E.infoFlare.INCOME_APPROVED_PENDING;default:return null}else if(e)switch(t){case te.deactivated:return E.infoFlare.DEACTIVATED_ON;case te.emailVerified:return E.infoFlare.EMAIL_VERIFIED_ON;case te.identityCertified:return E.infoFlare.IDENTITY_CERTIFIED_ON;case te.incomeApproved:return E.infoFlare.INCOME_APPROVED_ON;default:return null}else switch(t){case te.deactivated:return E.infoFlare.DEACTIVATED_OFF;case te.emailVerified:return E.infoFlare.EMAIL_VERIFIED_OFF;case te.identityCertified:return E.infoFlare.IDENTITY_CERTIFIED_OFF;case te.incomeApproved:return E.infoFlare.INCOME_APPROVED_OFF;default:return null}},re=1,ae="all",ce="profilePicture",oe="submittedDocument",ue={optionLoginCreate:{LOGIN:"LOGIN",CREATE:"CREATE"},optionUserMenu:{ADD:"ADD",USER:"USER",PAY:"PAY",MANAGE:"MANAGE"},optionKeyboardMode:{ADD:"ADD",UPDATE:"UPDATE"}},ie={id:null,role:null,deactivated:null,emailVerified:null,identityCertified:null,incomeApproved:null,name:null,surname:null,email:null,document:null,profilePicture:null,optionKeyboardMode:null,optionLoginCreate:ue.optionLoginCreate.LOGIN,optionUserMenu:ue.optionUserMenu.ADD,optionAdvancedMode:!1,optionViewHistory:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.APP_SHUTDOWN:case R.LOGOUT:return Object.assign({},ie);case R.LOGIN:return Object.assign({},e,{id:parseInt(t.payload.userId),role:parseInt(t.payload.userRole),optionKeyboardMode:null});case R.RECEIVE_USER_FLAGS:return Object.assign({},e,{deactivated:parseInt(t.payload.deactivated)===e.deactivated?e.deactivated:parseInt(t.payload.deactivated),emailVerified:parseInt(t.payload.emailVerified)===e.emailVerified?e.emailVerified:parseInt(t.payload.emailVerified),identityCertified:parseInt(t.payload.identityCertified)===e.identityCertified?e.identityCertified:parseInt(t.payload.identityCertified),incomeApproved:parseInt(t.payload.incomeApproved)===e.incomeApproved?e.incomeApproved:parseInt(t.payload.incomeApproved)});case R.SET_USER_ACTIVATED:return Object.assign({},e,{deactivated:0});case R.SET_USER_DEACTIVATED:return Object.assign({},e,{deactivated:1});case R.RECEIVE_USER_DETAILS:return Object.assign({},e,{name:t.payload.name?t.payload.name:ie.name,surname:t.payload.surname?t.payload.surname:ie.surname,email:t.payload.email?t.payload.email:ie.email,document:t.payload.document?t.payload.document:ie.document,profilePicture:t.payload.profilePicture?t.payload.profilePicture:ie.profilePicture});case R.DELETE_USER_DETAILS:return Object.assign({},e,{name:null,surname:null,email:null,document:null,profilePicture:null});case R.DELETE_PROFILE_PICTURE:return Object.assign({},e,{profilePicture:null});case R.ABANDON_KEYBOARD:return Object.assign({},e,{optionKeyboardMode:null});case R.CHOOSE_KEYBOARD:return Object.assign({},e,{optionKeyboardMode:t.payload.optionKeyboardMode?t.payload.optionKeyboardMode:e.optionLoginCreate});case R.SWITCH_OPTION_LOGIN_CREATE:return Object.assign({},e,{optionLoginCreate:e.optionLoginCreate===ue.optionLoginCreate.LOGIN?ue.optionLoginCreate.CREATE:ue.optionLoginCreate.LOGIN,optionKeyboardMode:e.optionKeyboardMode?e.optionLoginCreate===ue.optionLoginCreate.LOGIN?ue.optionLoginCreate.CREATE:ue.optionLoginCreate.LOGIN:null});case R.SWITCH_OPTION_USER_MENU:return Object.assign({},e,{optionUserMenu:t.payload.optionUserMenu});case R.SET_OPTION_ADVANCED_MODE:return Object.assign({},e,{optionAdvancedMode:t.payload.optionAdvancedMode,optionViewHistory:!!t.payload.optionAdvancedMode&&t.payload.optionViewHistory});case R.SET_OPTION_VIEW_HISTORY:return Object.assign({},e,{optionViewHistory:t.payload.optionViewHistory});default:return e}},se={ethNetwork:null,ethAddress:null,autoLogin:!1,loggedIn:!1,loginChannel:null,payChannel:null,receiveChannel:null,channels:{TWITTER:0,FACEBOOK:0,GOOGLE:0,LINKEDIN:0,BLOCKCHAIN_ETHEREUM:0,PAYPAL:0,KEYBOARD:0},facebookStatus:null,facebookUserId:null,facebookUserAccessToken:null,linkedInWindow:null,linkedInListener:null,linkedInCode:null,linkedInState:null,googleWindow:null,googleListener:null,googleCode:null,twitterWindow:null,twitterListener:null,twitterRequestToken:null,twitterOAuthVerifier:null,accessJwt:null,refreshJwt:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.APP_SHUTDOWN:return Object.assign({},se);case R.LOGOUT:return Object.assign({},se,{ethNetwork:e.ethNetwork,ethAddress:e.ethAddress,autoLogin:!(!t.payload||!t.payload.autoLogin)&&t.payload.autoLogin});case R.STOP_AUTO_LOGIN:return Object.assign({},se,{autoLogin:!1});case R.UPDATE_ETH_NETWORK:return Object.assign({},e,{ethNetwork:t.payload.ethNetwork});case R.UPDATE_ETH_ADDRESS:return Object.assign({},e,{ethAddress:t.payload.ethAddress});case R.REFRESH_TOKENS:return Object.assign({},e,{accessJwt:t.payload.accessJwt,refreshJwt:t.payload.refreshJwt});case R.RECEIVE_CHANNELS:case R.RECEIVE_USER_CHANNELS:return Object.assign({},e,{channels:{TWITTER:t.payload.TWITTER?t.payload.TWITTER:e.channels.TWITTER,FACEBOOK:t.payload.FACEBOOK?t.payload.FACEBOOK:e.channels.FACEBOOK,GOOGLE:t.payload.GOOGLE?t.payload.GOOGLE:e.channels.GOOGLE,LINKEDIN:t.payload.LINKEDIN?t.payload.LINKEDIN:e.channels.LINKEDIN,BLOCKCHAIN_ETHEREUM:t.payload.BLOCKCHAIN_ETHEREUM?t.payload.BLOCKCHAIN_ETHEREUM:e.channels.BLOCKCHAIN_ETHEREUM,PAYPAL:t.payload.PAYPAL?t.payload.PAYPAL:e.channels.PAYPAL,KEYBOARD:t.payload.KEYBOARD?t.payload.KEYBOARD:e.channels.KEYBOARD}});case R.RECEIVE_LOGIN_CHANNEL:return Object.assign({},e,{loginChannel:t.payload.loginChannel});case R.RECEIVE_PAY_CHANNEL:return Object.assign({},e,{payChannel:t.payload.payChannel});case R.RECEIVE_RECEIVE_CHANNEL:return Object.assign({},e,{receiveChannel:t.payload.receiveChannel});case R.RECEIVE_FACEBOOK_LOGIN_STATUS:return Object.assign({},e,{facebookStatus:t.payload.facebookStatus,facebookUserId:t.payload.facebookUserId,facebookUserAccessToken:t.payload.facebookUserAccessToken});case R.RECEIVE_LINKEDIN_WINDOW_AND_LISTENER:return Object.assign({},e,{linkedInWindow:t.payload.linkedInWindow,linkedInListener:t.payload.linkedInListener});case R.CLEAR_LINKEDIN_WINDOW_AND_LISTENER:return Object.assign({},e,{linkedInWindow:null,linkedInListener:null});case R.RECEIVE_LINKEDIN_LOGIN:return Object.assign({},e,{linkedInCode:t.payload.code,linkedInState:t.payload.state});case R.RECEIVE_GOOGLE_WINDOW_AND_LISTENER:return Object.assign({},e,{googleWindow:t.payload.googleWindow,googleListener:t.payload.googleListener});case R.CLEAR_GOOGLE_WINDOW_AND_LISTENER:return Object.assign({},e,{googleWindow:null,googleListener:null});case R.RECEIVE_GOOGLE_LOGIN:return Object.assign({},e,{googleCode:t.payload.code});case R.RECEIVE_TWITTER_WINDOW_AND_LISTENER:return Object.assign({},e,{twitterWindow:t.payload.twitterWindow,twitterListener:t.payload.twitterListener});case R.CLEAR_TWITTER_WINDOW_AND_LISTENER:return Object.assign({},e,{twitterWindow:null,twitterListener:null});case R.RECEIVE_TWITTER_LOGIN:return Object.assign({},e,{twitterRequestToken:t.payload.twitterRequestToken,twitterOAuthVerifier:t.payload.twitterOAuthVerifier});case R.LOGIN:return Object.assign({},e,{loggedIn:!0,accessJwt:t.payload.accessJwt,refreshJwt:t.payload.refreshJwt,payChannel:t.payload.payChannel,receiveChannel:t.payload.receiveChannel});default:return e}},de={populations:[],exists:null,id:null,countryId:null,countryName:null,ccyId:null,ccyName:null,ccySymbol:null,filter:null,thrubiPriceSilver:0,thrubiPriceSilverNext:0,thrubiPriceGold:1.5,brake:0,mincome:0,equality:0,warperMincome:0,warperEquality:0,thrubiFees:.005},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.APP_SHUTDOWN:case R.LOGOUT:return de;case R.CLEAR_POPULATION:return Object.assign({},de,{populations:e.populations});case R.RECEIVE_POPULATIONS:return Object.assign({},e,{populations:t.payload.populations});case R.SELECT_POPULATION:return Object.assign({},e,{id:parseInt(t.payload.population.populationId),countryId:t.payload.population.countryId,countryName:t.payload.population.countryName,ccyId:t.payload.population.ccyId,ccyName:t.payload.population.ccyName,ccySymbol:t.payload.population.ccySymbol});case R.RECEIVE_THRUBI_PRICE_SILVER:return Object.assign({},e,{thrubiPriceSilver:t.payload.thrubiPriceSilver});case R.RECEIVE_THRUBI_PRICE_SILVER_NEXT:return Object.assign({},e,{thrubiPriceSilverNext:t.payload.thrubiPriceSilverNext});case R.RECEIVE_STATS:return Object.assign({},e,{mincome:parseFloat(t.payload.stats.mincome),equality:parseFloat(t.payload.stats.equality)});case R.RECEIVE_CONFIG:return Object.assign({},e,{brake:parseFloat(t.payload.config.brake),warperMincome:parseFloat(t.payload.config.warperMincome),warperEquality:parseFloat(t.payload.config.warperEquality)});case R.POPULATION_EXISTS:return Object.assign({},e,{exists:t.payload.exists});case R.RECEIVE_POPULATION_FILTER:return Object.assign({},e,{filter:t.payload.filter});default:return e}},me={isMember:!1,mCurrent:0,thrubiMode:-1,thrubiBlue:0,thrubiBlueNext:0,thrubiBlueEth:0,thrubiBlueAward:0,thrubiBlueAwardTotal:0,thrubiBlueClaimTotal:0,thrubiSilver:0,thrubiSilverNext:0,thrubiSilverEth:0,thrubiSilverTransformTotal:0,thrubiGold:0},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.APP_SHUTDOWN:case R.LOGOUT:case R.CLEAR_MEMBER:return me;case R.RECEIVE_MEMBER:return Object.assign({},e,{isMember:!0,mCurrent:parseFloat(t.payload.member.mCurrent),thrubiMode:parseInt(t.payload.member.thrubiMode),thrubiBlue:parseFloat(t.payload.member.thrubiBlue),thrubiBlueNext:parseFloat(t.payload.member.thrubiBlueNext),thrubiBlueEth:parseFloat(t.payload.member.thrubiBlueEth),thrubiBlueAward:parseFloat(t.payload.member.thrubiBlueAward),thrubiBlueAwardTotal:parseFloat(t.payload.member.thrubiBlueAwardTotal),thrubiBlueClaimTotal:parseFloat(t.payload.member.thrubiBlueClaimTotal),thrubiSilver:parseFloat(t.payload.member.thrubiSilver),thrubiSilverNext:parseFloat(t.payload.member.thrubiSilverNext),thrubiSilverEth:parseFloat(t.payload.member.thrubiSilverEth),thrubiSilverTransformTotal:parseFloat(t.payload.member.thrubiSilverTransformTotal),thrubiGold:parseFloat(t.payload.member.thrubiGold)});default:return e}},he=Object(p.c)({user:le,userAccess:pe,population:fe,member:Ee}),ye=Object(p.c)({session:B,global:J,client:he}),be=[A,m];be.push(f.a);var Oe=function(){return Object(p.d)(ye,p.a.apply(void 0,be))},ve=n(7),Te=n(6),Ne=n(8),_e=Object(s.b)((function(e){return{nUser:e.global.stats.nUser}}),{})((function(e){e.nUser;return c.a.createElement("span",{className:"text-primary text-center small mr-2"},"A ","worldwide community for sustainable income redistribution.")})),Ie=Object(s.b)((function(e){return{ethNetwork:e.client.userAccess.ethNetwork,ethAddress:e.client.userAccess.ethAddress}}))((function(e){var t=e.ethNetwork,n=e.ethAddress;return c.a.createElement("div",{className:"container-fluid navbar fixed-top flex-md-nowrap p-0 titleBar bg-light"},c.a.createElement("div",{className:"col-lg-8 d-flex justify-content-center justify-content-md-center justify-content-lg-start fullWidth text-left"},c.a.createElement("img",{className:"mr-2 logoThrubi",src:"/logo.png",alt:"Thrubi logo",height:"20px",width:"20px"}),c.a.createElement("span",{className:"mr-2 alignBottom navbar-brand thrubiGradient"},c.a.createElement("b",null,"Thrubi App")),c.a.createElement("span",{className:"d-block mr-2 mt-1 alignBottom text-dark navbar-nav"},c.a.createElement("a",{href:"https://twitter.com/thrubi_org?ref_src=twsrc%5Etfw","data-show-count":"false",className:"twitter-follow-button alignBottom"},"Follow @thrubi_org")),c.a.createElement("div",{className:"d-none d-lg-block alignBottom"},c.a.createElement(_e,null))),c.a.createElement("div",{className:"col-lg-4 d-none d-lg-block float-right mr-0 my-2 text-right consoleFont"},c.a.createElement("div",{className:"navbar-nav small alignBottom"},t&&n?c.a.createElement("div",null,c.a.createElement("span",{className:"badge badge-warning d-none d-xl-inline"},c.a.createElement("span",{className:""},"network/"),t),c.a.createElement("span",{className:"badge badge-info"},n)):"")))})),Re=Object(s.b)((function(e){return{ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiSilver:e.client.member.thrubiSilver,thrubiSilverNext:e.client.member.thrubiSilverNext,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiPriceSilverNext:e.client.population.thrubiPriceSilverNext,thrubiPriceGold:e.client.population.thrubiPriceGold}}),{})((function(e){var t=e.ccySymbol,n=e.exrate,r=e.thrubiSilver,a=e.thrubiSilverNext,o=e.thrubiPriceSilver;e.thrubiPriceSilverNext,e.thrubiPriceGold;return c.a.createElement("div",{className:"container-fluid p-0 m-0 small consoleFont"},c.a.createElement("div",{className:"col-sm-12 container-fluid row p-0 m-0"},c.a.createElement("div",{className:"col-5 container-fluid p-0 m-0 text-right"},c.a.createElement("div",{className:"col-sm-12 p-0"},"1.00\u039e"),r||a?c.a.createElement("div",{className:"col-sm-12 p-0"},"1.00\u20aeS"):""),c.a.createElement("div",{className:"col-2 container-fluid p-0 m-0 text-center"},c.a.createElement("div",{className:"col-sm-12 p-0"},"="),r||a?c.a.createElement("div",{className:"col-sm-12 p-0"},"="):""),c.a.createElement("div",{className:"col-5 container-fluid p-0 m-0 text-left"},c.a.createElement("div",{className:"col-sm-12 p-0"},n.toFixed(2),t),r||a?c.a.createElement("div",{className:"col-sm-12 p-0"},o.toFixed(2),t):"")))})),ge=function(e){var t=e.text,n=e.bold,r=e.value,a=e.ccySymbol;return c.a.createElement("div",{className:"small row ccyRowContainer"},c.a.createElement("span",{className:"text-left ccyRowElement col-6"},t),c.a.createElement("span",{className:"text-right ccyRowElement col-5"},isNaN(r)?"n/a":n?c.a.createElement("b",null,r.toFixed(2)):r.toFixed(2)),c.a.createElement("span",{className:"text-right ccyRowElement col-1"},n?c.a.createElement("b",null,a):a))},we=function(){function e(){Object(O.a)(this,e)}return Object(v.a)(e,null,[{key:"channelIsOpen",value:function(e){return e>0}},{key:"channelIsForLogin",value:function(e){return Math.abs(e)%2}},{key:"channelIsForPay",value:function(e){return(Math.abs(e)>>1)%2}},{key:"channelColor",value:function(t){switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"blockchain-ethereum";case e.channelName.KEYBOARD:return"keyboard";case e.channelName.FACEBOOK:return"facebook";case e.channelName.LINKEDIN:return"linkedin";case e.channelName.GOOGLE:return"google";case e.channelName.PAYPAL:return"paypal";case e.channelName.TWITTER:return"twitter";default:return""}}},{key:"channelAuthFunctionName",value:function(t){switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"BlockchainEthereum";case e.channelName.KEYBOARD:return"Keyboard";case e.channelName.FACEBOOK:return"Facebook";case e.channelName.LINKEDIN:return"LinkedIn";case e.channelName.GOOGLE:return"Google";case e.channelName.PAYPAL:return"PayPal";case e.channelName.TWITTER:return"Twitter";default:return""}}},{key:"keyboardChannelMessage",value:function(e){switch(e){case"LOGIN":return"Sign in with username/password";case"CREATE":return"Create a new Thrubi account with username/password";case"ADD":return"Add username/password credentials to my account";case"UPDATE":return"Update my username/password credentials";default:return""}}},{key:"channelUserFriendlyName",value:function(t,n){switch(n){case"USE":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Use my Ethereum wallet";case e.channelName.PAYPAL:return"Use my PayPal account";default:return""}case"USING":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Using my Ethereum wallet";case e.channelName.PAYPAL:return"Using my PayPal account";default:return""}case"LINK":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Connect an Ethereum wallet to use it";case e.channelName.PAYPAL:return"Connect a PayPal account to use it";default:return""}case"LOGIN":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Sign in with Ethereum wallet";case e.channelName.KEYBOARD:return"Sign in with username/password";case e.channelName.FACEBOOK:return"Sign in with Facebook";case e.channelName.LINKEDIN:return"Sign in with LinkedIn";case e.channelName.GOOGLE:return"Sign in with Google";case e.channelName.TWITTER:return"Sign in with Twitter";default:return""}case"CREATE":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Sign up with Ethereum wallet";case e.channelName.KEYBOARD:return"Sign up with username/password";case e.channelName.FACEBOOK:return"Sign up with Facebook";case e.channelName.LINKEDIN:return"Sign up with LinkedIn";case e.channelName.GOOGLE:return"Sign up with Google";case e.channelName.TWITTER:return"Sign up with Twitter";default:return""}case"ADD":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Connect an Ethereum wallet";case e.channelName.KEYBOARD:return"Enable username/password";case e.channelName.FACEBOOK:return"Connect a Facebook account";case e.channelName.LINKEDIN:return"Connect a LinkedIn account";case e.channelName.GOOGLE:return"Connect a Google account";case e.channelName.PAYPAL:return"Connect a PayPal account";case e.channelName.TWITTER:return"Connect a Twitter account";default:return""}case"DELETE":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Disconnect my Ethereum wallet";case e.channelName.KEYBOARD:return"Disable username/password";case e.channelName.FACEBOOK:return"Disconnect my Facebook account";case e.channelName.LINKEDIN:return"Disconnect my LinkedIn account";case e.channelName.GOOGLE:return"Disconnect my Google account";case e.channelName.PAYPAL:return"Disconnect my PayPal account";case e.channelName.TWITTER:return"Disconnect my Twitter account";default:return""}case"UPDATE":switch(t){case e.channelName.BLOCKCHAIN_ETHEREUM:return"Connect another Ethereum wallet";case e.channelName.KEYBOARD:return"Update username/password";case e.channelName.FACEBOOK:return"Connect another Facebook account";case e.channelName.LINKEDIN:return"Connect another LinkedIn account";case e.channelName.GOOGLE:return"Connect another Google account";case e.channelName.PAYPAL:return"Connect another PayPal account";case e.channelName.TWITTER:return"Connect another Twitter account";default:return""}default:return""}}}]),e}();we.channelName={NOT_AVAILABLE:"N/A",BLOCKCHAIN_ETHEREUM:"BLOCKCHAIN_ETHEREUM",KEYBOARD:"KEYBOARD",FACEBOOK:"FACEBOOK",LINKEDIN:"LINKEDIN",GOOGLE:"GOOGLE",PAYPAL:"PAYPAL",TWITTER:"TWITTER"};var Ae=we,Se=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.action,n=e.payload,r=e.text,a=e.buttonType,o=e.disabled,u=void 0!==o&&o,i=e.channel,l=void 0!==i&&i,s=e.noMargin,p=void 0!==s&&s;return c.a.createElement("button",{disabled:u,onClick:function(e){e.preventDefault(),t(n)},className:"btn btn-sm btn-block rounded-0 "+(p||"my-2 py-2 ")+a+(l?Ae.channelColor(l):"")},c.a.createElement("div",{className:"container-fluid row p-0 m-0"+(p.toString().includes("small")?" small":"")+(l?"":" fullWidth")},c.a.createElement("div",{className:l?"":"fullWidth"},l?c.a.createElement("img",{className:"p-0 my-0 mx-2",alt:l,height:"32",width:"32",src:"/png/"+Ae.channelColor(l)+".png"}):"",c.a.createElement("div",{className:(l?"ml-4":"fullWidth")+" d-inline-block text-"+(l?"left":"center")},r||this.props.children))))}}]),t}(a.Component),Ce=n(78),xe=n.n(Ce),Pe="https://t001002.herokuapp.com",Le="get",ke="post",Ue="X-Access-Token",Fe="Bearer ",je=function(e,t,n){return function(r,a){return new Promise((function(r,c){var o=function(e,t){var n,a;if(e)c(E.errorFlare.THRUBI_CONNECTION_FAILED);else if(n=t.body,200===t.statusCode)a=n.result,r(a);else{var o=E.errorFlare.THRUBI_SERVER_ERROR;o.serverError=n.error,c(o)}};try{var u={url:Pe+t,json:null===n?{}:n};a().client.userAccess.loggedIn&&(u.headers=Object(P.a)({},Ue,Fe+a().client.userAccess.accessJwt)),e===Le?xe.a.get(u,o):e===ke&&xe.a.post(u,o)}catch(i){c(E.errorFlare.THRUBI_CONNECTION_FAILED)}}))}},De=n(79),Be=n.n(De),Me="confirmation",Ge=[{constant:!0,inputs:[],name:"userCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x07973ccf"},{constant:!0,inputs:[],name:"lastProcessedClaim",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x17f0f244"},{constant:!0,inputs:[],name:"lastProcessedTransform",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x7b306690"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8da5cb5b"},{constant:!0,inputs:[],name:"lastClaim",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xa8adb564"},{constant:!0,inputs:[],name:"lastTransform",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xaa2ddbf1"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor",signature:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"}],name:"UserCreated",type:"event",signature:"0x0b0376a109cbb578b709f85f6a7befcdac3ac1ab251c99ede87f30c9572ac4d3"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"name",type:"string"},{indexed:!1,name:"surname",type:"string"}],name:"UserUpdated",type:"event",signature:"0xe5d18d6612696bff7df1db8015eac613241613297fa2ba2783993e4fd0e76f3d"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"deactivated",type:"bool"}],name:"UserActivated",type:"event",signature:"0x778b37e4212438e31bb36f033dd30e024005d668a4df069a75261d4e41f4013f"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"deactivated",type:"bool"}],name:"UserDeactivated",type:"event",signature:"0x1b32d41cdfc3bfbfff6b3c55227176d2d8d97ea2494e509db5d8b60d246e680b"},{anonymous:!1,inputs:[{indexed:!1,name:"userId",type:"uint256"},{indexed:!1,name:"populationId",type:"uint256"},{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"weiAmount",type:"uint256"}],name:"ClaimSubmitted",type:"event",signature:"0x3a30d1c4069e097873e77443df9683e8de5c7ba3674315b8670a0211e3130195"},{anonymous:!1,inputs:[{indexed:!1,name:"userId",type:"uint256"},{indexed:!1,name:"populationId",type:"uint256"},{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"weiAmount",type:"uint256"}],name:"TransformSubmitted",type:"event",signature:"0xd7d9057eeb8d77c85b055fd0a383e2cbb00c462d8d90a53f7dea6493d376661d"},{constant:!1,inputs:[{name:"_userId",type:"uint256"},{name:"_populationId",type:"uint256"},{name:"_ethAddress",type:"address"}],name:"transform",outputs:[],payable:!0,stateMutability:"payable",type:"function",signature:"0x723ed1db"},{constant:!0,inputs:[],name:"getLastTransform",outputs:[{name:"_lastTransform",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8a3f8702"},{constant:!0,inputs:[],name:"getLastProcessedTransform",outputs:[{name:"_lastProcessedTransform",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x766dcc9c"},{constant:!0,inputs:[{name:"_i",type:"uint256"}],name:"getTransform",outputs:[{name:"_userId",type:"uint256"},{name:"_populationId",type:"uint256"},{name:"_ethAddress",type:"address"},{name:"_weiAmount",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x21347ab1"},{constant:!1,inputs:[],name:"signalProcessedTransforms",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x764103fc"},{constant:!1,inputs:[{name:"_userId",type:"uint256"},{name:"_populationId",type:"uint256"},{name:"_ethAddress",type:"address"},{name:"_weiAmount",type:"uint256"}],name:"claimEth",outputs:[],payable:!0,stateMutability:"payable",type:"function",signature:"0xd8875079"},{constant:!0,inputs:[],name:"getLastClaim",outputs:[{name:"_lastClaim",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x68a825ad"},{constant:!0,inputs:[],name:"getLastProcessedClaim",outputs:[{name:"_lastProcessedClaim",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8fdfde42"},{constant:!0,inputs:[{name:"_i",type:"uint256"}],name:"getClaim",outputs:[{name:"_userId",type:"uint256"},{name:"_populationId",type:"uint256"},{name:"_address",type:"address"},{name:"_weiAmount",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x5aef2447"},{constant:!0,inputs:[{name:"_ethAddress",type:"address"}],name:"findMe",outputs:[{name:"foundMe",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x3223a182"},{constant:!0,inputs:[{name:"_ethAddress",type:"address"}],name:"findMyUser",outputs:[{name:"found",type:"bool"},{name:"name",type:"string"},{name:"surname",type:"string"},{name:"deactivated",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0xc77489f1"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"},{name:"_name",type:"string"},{name:"_surname",type:"string"}],name:"updateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x10e8b22d"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"createUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xcdd87618"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"activateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xb4acfe1c"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"deactivateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x1a47767b"}],Ve=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){var e;t((e=n().client.population.ccyId,function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",new Promise((function(t,r){xe.a.get({url:"https://api.coinbase.com/v2/prices/ETH-"+e+"/spot",json:{}},(function(e,a){if(e)r(E.errorFlare.EXRATE_FETCH_ERROR);else{var c=parseFloat(a.body.data.amount);n({type:R.RECEIVE_EXRATE,payload:{exrate:c}}),t(c)}}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()))};return e(),e}(),1e3),t({type:R.RECEIVE_MARKET_WORKER,payload:{marketWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},He=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.market),t({type:R.STOP_MARKET_WORKER,payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ye="/actions/log",We="/auth/challenge/blockchainEthereum",Ke="/auth/listChannels",qe="/auth/refresh",Je="/auth/logout",Xe="/auth/create/blockchainEthereum",ze="/auth/login/blockchainEthereum",$e="/auth/create/keyboard",Qe="/auth/login/keyboard",Ze="/auth/create/facebook",et="/auth/login/facebook",tt="/auth/create/linkedIn",nt="/auth/login/linkedIn",rt="/auth/create/google",at="/auth/login/google",ct="/auth/token/twitter",ot="/auth/create/twitter",ut="/auth/login/twitter",it="/country/list",lt="/ccy/list",st="/member/create",pt="/member/delete",dt="/member/request/claim",ft="/member",mt="/member/request/declareIncome",Et="/stats/nUser",ht="/stats/nCountry",yt="/stats/nCcy",bt="/user/getFlags",Ot="/user/activate",vt="/user/deactivate",Tt="/user/details/fetch",Nt="/user/details/delete",_t="/user/details/store",It="/user/profilePicture/sign",Rt="/user/certify",gt="/user/close",wt="/userAccess/listUserChannels",At="/userAccess/setPayChannel",St="/userAccess/setReceiveChannel",Ct="/userAccess/delete",xt="/userAccess/add/keyboard",Pt="/userAccess/update/keyboard",Lt="/userAccess/add/blockchainEthereum",kt="/userAccess/update/blockchainEthereum",Ut="/userAccess/add/facebook",Ft="/userAccess/update/facebook",jt="/userAccess/add/linkedIn",Dt="/userAccess/update/linkedIn",Bt="/userAccess/add/google",Mt="/userAccess/update/google",Gt="/userAccess/add/twitter",Vt="/userAccess/update/twitter",Ht="/population/forUser",Yt="/population/thrubiPrice/silver",Wt="/population/thrubiPrice/silver/next",Kt="/population/create",qt="/population/delete",Jt="/population/stats/read",Xt="/population/config/read",zt="/population/config/change",$t="/population/exists",Qt=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){return t(an())})).then((function(){return t(en())})).then((function(){return t(He())})).then((function(){return t(je(ke,pt+"/"+n().client.population.id,null))})).then((function(){return t({type:R.CLEAR_POPULATION,payload:{}})})).then((function(){return t({type:R.CLEAR_MEMBER,payload:{}})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Zt=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){t(function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){return t(je(Le,ft+"/"+n().client.population.id,null))})).then((function(e){return t({type:R.RECEIVE_MEMBER,payload:{member:e}})})).catch((function(e){return t(g(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())};return e(),e}(),1e3),t({type:R.RECEIVE_MEMBER_WORKER,payload:{memberWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},en=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.member),t({type:R.STOP_MEMBER_WORKER,payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},tn=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:R.SELECT_POPULATION,payload:{population:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},nn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(en()),t(an()),t(He()),t({type:R.CLEAR_POPULATION,payload:{}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},rn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){t(cn(n().client.population.id)),t(on(n().client.population.id)),n().client.user.auth&&(t(un(n().client.population.id)),t(ln(n().client.population.id)))};return e(),e}(),1e3),t({type:R.RECEIVE_POPULATION_WORKER,payload:{populationWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},an=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.population),t({type:R.STOP_POPULATION_WORKER,payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},cn=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(Le,Yt+"/"+e,null))})).then((function(e){return n({type:R.RECEIVE_THRUBI_PRICE_SILVER,payload:{thrubiPriceSilver:parseFloat(e.thrubiPriceSilver)}})})).catch((function(e){return n(g(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},on=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(Le,Wt+"/"+e,null))})).then((function(e){return n({type:R.RECEIVE_THRUBI_PRICE_SILVER_NEXT,payload:{thrubiPriceSilverNext:parseFloat(e.thrubiPriceSilverNext)}})})).catch((function(e){return n(g(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},un=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(Le,Jt+"/"+e,null))})).then((function(e){return n({type:R.RECEIVE_STATS,payload:{stats:e}})})).catch((function(e){return n(g(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ln=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n(je(Le,Xt+"/"+e,null))})).then((function(e){return n({type:R.RECEIVE_CONFIG,payload:{config:e}})})).catch((function(e){return n(g(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},sn={connected:"connected",unknown:"unknown",not_authorized:"not_authorized"},pn="/me?fields=first_name,last_name,email,picture.type(large)",dn="email",fn=function(e,t,n){return"https://www.linkedin.com/oauth/v2/authorization?response_type=code&redirect_uri="+e+"&state="+t+"&scope=r_liteprofile%20r_emailaddress&client_id="+n},mn=function(e,t){return"https://accounts.google.com/o/oauth2/auth?response_type=code&redirect_uri="+e+"&scope=email%20profile&client_id="+t},En=function(e){return"https://twitter.com/oauth/authenticate?oauth_token="+e},hn="https://www.thrubi.com",yn="https://www.thrubi.com",bn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:R.SWITCH_OPTION_LOGIN_CREATE,payload:{}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},On=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().client.userAccess.loggedIn){t.next=4;break}return t.next=3,Promise.resolve().then((function(){return n({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return n(je(ke,Je,{refreshJwt:r().client.userAccess.refreshJwt}))})).then((function(){return n({type:R.LOGOUT,payload:e})})).then((function(){return n(vn())})).then((function(){return n(Nn())})).then((function(){return n(Cr())})).then((function(){return n(nn())})).then((function(){return n(qn())})).catch((function(e){throw E.flareFallback(e,E.errorFlare.FAILED_LOGOUT)})).finally((function(){return n({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},vn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return clearTimeout(n().session.workers.refreshTokens)})).then((function(){return t({type:R.STOP_REFRESH_TOKENS_WORKER,payload:{}})})).catch((function(){throw E.errorFlare.ERROR_STOP_TOKEN_REFRESH}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Tn=function e(t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=setTimeout(Object(b.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){return r(je(ke,qe,{refreshJwt:a().client.userAccess.refreshJwt}))})).then((function(e){n=e})).then((function(){return r({type:R.REFRESH_TOKENS,payload:n})})).then((function(){return r(e(n.accessJwtExpiry))})).catch((function(e){throw E.flareFallback(e,E.errorFlare.FAILED_LOGIN)})).catch((function(e){console.error(e),r(On({autoLogin:!1}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),t/2),r({type:R.RECEIVE_REFRESH_TOKENS_WORKER,payload:{refreshTokensWorker:c}});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Nn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then((function(){return t(je(Le,Ke,null))})).then((function(e){return e.map((function(e,t){return r[e.channelName]=e.channelMode}))})).then((function(){return t({type:R.RECEIVE_CHANNELS,payload:r})})).catch((function(e){return t(g(E.flareType.ERROR,E.errorFlare.ERR_CHANNEL_FETCH))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},_n=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then((function(){return t(je(Le,wt,null))})).then((function(e){return e.map((function(e,t){return r[e.channelName]=e.channelMode}))})).then((function(){return t({type:R.RECEIVE_USER_CHANNELS,payload:r})})).catch((function(e){return t(g(E.flareType.ERROR,E.errorFlare.ERR_USER_CHANNEL_FETCH))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},In=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){return n({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return n(je(ke,Ct+"/"+e,{}))})).then((function(){return n(_n())})).catch((function(e){return n(g(E.flareType.ERROR,e))})).finally((function(){return n({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Rn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},gn=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){if(e!==Ae.channelName.NOT_AVAILABLE&&!Ae.channelIsOpen(r().client.userAccess.channels[e]))throw n(gr("ADD")),E.errorFlare.CHANNEL_CLOSED})).then((function(){return n(je(ke,At,{payChannel:e}))})).then((function(e){return n({type:R.RECEIVE_PAY_CHANNEL,payload:{payChannel:e}})})).catch((function(e){if(e!==E.errorFlare.CHANNEL_CLOSED)throw e})).catch((function(e){return n(g(E.flareType.ERROR,E.errorFlare.ERR_PAY_CHANNEL_UPDATE))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},wn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},An=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){if(e!==Ae.channelName.NOT_AVAILABLE&&!Ae.channelIsOpen(r().client.userAccess.channels[e]))throw n(gr("ADD")),E.errorFlare.CHANNEL_CLOSED})).then((function(){return n(je(ke,St,{receiveChannel:e}))})).then((function(e){return n({type:R.RECEIVE_RECEIVE_CHANNEL,payload:{receiveChannel:e}})})).catch((function(e){if(e!==E.errorFlare.CHANNEL_CLOSED)throw e})).catch((function(e){return n(g(E.flareType.ERROR,E.errorFlare.ERR_RECEIVE_CHANNEL_UPDATE))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Sn=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){if(!e.userId)throw e.loginError})).then((function(){return n({type:R.LOGIN,payload:e})})).then((function(){return n(Tn(e.accessJwtExpiry))})).then((function(){return n(wr())})).then((function(){return n(Sr())})).then((function(){return n(_n())})).catch((function(){return n(On({autoLogin:!1}))})).finally((function(){return n({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Cn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().client.userAccess.ethNetwork,a=n().client.userAccess.ethAddress,e.next=4,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){if(!r||!a)throw E.errorFlare.NO_ETHEREUM_CONFIG})).then((function(){return t(je(ke,We,{ethAddress:a}))})).then((function(e){c={challengeJwt:e.challengeJwt,hashedJwt:e.hashedJwt}})).then((function(){return t((e=c.hashedJwt,function(){var t=Object(b.a)(y.a.mark((function t(n,r){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Be.a(Be.a.givenProvider),c=r().client.userAccess.ethAddress,t.next=4,a.eth.personal.sign(e,c,null);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));var e})).then((function(e){return{ethAddress:a,challengeSolution:{challengeJwt:c.challengeJwt,hashedJwt:c.hashedJwt,signedMessage:e}}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},xn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Cn())})).then((function(e){return t(je(ke,Xe,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Pn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Cn())})).then((function(e){return t(je(ke,ze,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ln=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Cn())})).then((function(e){return t(je(ke,Lt,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},kn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Cn())})).then((function(e){return t(je(ke,kt,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Un=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return r(je(ke,$e,{username:e,password:t}))})).catch((function(e){return r(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return r(Sn(e))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Fn=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return r(je(ke,Qe,{username:e,password:t}))})).catch((function(e){return r(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return r(Sn(e))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},jn=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return r(je(ke,xt,{username:e,password:t}))})).then((function(){return r(_n())})).then((function(){return r(Bn())})).catch((function(e){return r(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return r({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Dn=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return r(je(ke,Pt,{username:e,password:t}))})).then((function(){return r(_n())})).then((function(){return r(Bn())})).catch((function(e){return r(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return r({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Bn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:R.ABANDON_KEYBOARD,payload:{}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Mn=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){return n({type:R.CHOOSE_KEYBOARD,payload:e})}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Gn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Mn({}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Vn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Mn({}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Hn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Mn({optionKeyboardMode:ue.optionKeyboardMode.ADD}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Yn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Mn({optionKeyboardMode:ue.optionKeyboardMode.UPDATE}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Wn=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={},n.next=3,Promise.resolve().then((function(){c.facebookStatus=e.status,c.facebookUserId=e.authResponse?e.authResponse.userID:null,c.facebookUserAccessToken=e.authResponse?e.authResponse.accessToken:null})).then((function(){return r({type:R.RECEIVE_FACEBOOK_LOGIN_STATUS,payload:c})})).then((function(){return t(c.facebookStatus)}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Kn=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){if(!window.FB)throw E.errorFlare.FB_NOT_FOUND})).then((function(){return new Promise((function(e){window.FB.getLoginStatus((function(t){return n(Wn(t,e))}))}))})).then((function(t){return e&&e(t),t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},qn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Kn(null))})).then((function(e){if(e===sn.connected)return new Promise((function(e){window.FB.logout((function(){return e(),!1}))}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Jn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){if(!window.FB)throw E.errorFlare.FB_NOT_FOUND})).then((function(){return t(Kn(null))})).then((function(e){if(e===sn.unknown||e===sn.not_authorized)return t(function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return new Promise((function(e){window.FB.login((function(){return t(Kn(e))}),{scope:dn})}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).then((function(){return{facebookUserId:n().client.userAccess.facebookUserId,facebookUserAccessToken:n().client.userAccess.facebookUserAccessToken}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Xn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then((function(){return t(Kn(null))})).then((function(e){return new Promise((function(t){e===sn.connected&&window.FB.api(pn,(function(e){return t(e)}))}))})).then((function(e){return r={name:e.first_name,surname:e.last_name,email:e.email,profilePicture:e.picture.data.url}})).then((function(){return t(Ar(r,{overwrite:!1}))})).catch((function(e){t(g(E.flareType.ERROR,E.errorFlare.FB_NOT_FOUND))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},zn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Jn())})).then((function(e){return t(je(ke,Ze,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))})).then((function(){return t(Xn())}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},$n=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Jn())})).then((function(e){return t(je(ke,et,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))})).then((function(){return t(Xn())}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Qn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Jn())})).then((function(e){return t(je(ke,Ut,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(){return t(Xn())})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Zn=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Jn())})).then((function(e){return t(je(ke,Ft,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(){return t(Xn())})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},er=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=null,n.next=3,Promise.resolve().then((function(){if(e.data.origin&&"THRUBI"===e.data.origin)return e.data;throw E.errorFlare.MESSAGE_IGNORED})).then((function(e){r({type:R.RECEIVE_LINKEDIN_LOGIN,payload:e})})).then((function(){c=a().client.userAccess.linkedInListener})).then((function(){window.removeEventListener("message",c)})).then((function(){return a().client.userAccess.linkedInWindow})).then((function(e){e.close()})).then((function(){return r({type:R.CLEAR_LINKEDIN_WINDOW_AND_LISTENER,payload:{}})})).then((function(){t()})).catch((function(){return null}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},tr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r,a,c,o,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,c=null,o=null,u=new Promise((function(e){return o=e})),e.next=7,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){r=n().client.userAccess.linkedInWindow})).then((function(){return null===r||r.closed})).then((function(e){e&&(r=window.open(fn(hn,"ec178df0ec26b9584b3702c8ee98071f76f40b11121c19ff18f674b16169a9e95fee8b82a6334152ba70565c41cf0d1a0b33ff9dda5298a34ce271008e8c09f7","78w03u1p8bc928"),"Login to Thrubi using your LinkedIn account","toolbar=no, menubar=no, width=600, height=500, top=50, left=100"))})).then((function(){return r.focus()})).then((function(){c=setInterval((function(){r.closed&&(o(),clearInterval(c))}),500)})).then((function(){a=function(e){return t(er(e,o))}})).then((function(){window.addEventListener("message",a)})).then((function(){return t({type:R.RECEIVE_LINKEDIN_WINDOW_AND_LISTENER,payload:{linkedInWindow:r,linkedInListener:a}})})).then((function(){return u})).then((function(){return{linkedInCode:n().client.userAccess.linkedInCode,linkedInState:n().client.userAccess.linkedInState}}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},nr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(tr())})).then((function(e){return t(je(ke,tt,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},rr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(tr())})).then((function(e){return t(je(ke,nt,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ar=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(tr())})).then((function(e){return t(je(ke,jt,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},cr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(tr())})).then((function(e){return t(je(ke,Dt,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},or=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=null,n.next=3,Promise.resolve().then((function(){if(e.data.origin&&"THRUBI"===e.data.origin)return e.data;throw E.errorFlare.MESSAGE_IGNORED})).then((function(e){r({type:R.RECEIVE_GOOGLE_LOGIN,payload:e})})).then((function(){c=a().client.userAccess.googleListener})).then((function(){window.removeEventListener("message",c)})).then((function(){return a().client.userAccess.googleWindow})).then((function(e){e.close()})).then((function(){return r({type:R.CLEAR_GOOGLE_WINDOW_AND_LISTENER,payload:{}})})).then((function(){t()})).catch((function(){return null}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ur=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r,a,c,o,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,c=null,o=null,u=new Promise((function(e){return o=e})),e.next=7,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){r=n().client.userAccess.googleWindow})).then((function(){return null===r||r.closed})).then((function(e){e&&(r=window.open(mn(yn,"627523329723-5kfvuqg068851dsf6efh911ue4v7ttur.apps.googleusercontent.com"),"Login to Thrubi using your Google account","toolbar=no, menubar=no, width=600, height=500, top=50, left=100"))})).then((function(){return r.focus()})).then((function(){c=setInterval((function(){r.closed&&(o(),clearInterval(c))}),500)})).then((function(){a=function(e){return t(or(e,o))}})).then((function(){window.addEventListener("message",a)})).then((function(){return t({type:R.RECEIVE_GOOGLE_WINDOW_AND_LISTENER,payload:{googleWindow:r,googleListener:a}})})).then((function(){return u})).then((function(){return{googleCode:n().client.userAccess.googleCode}}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ir=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(ur())})).then((function(e){return t(je(ke,rt,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},lr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(ur())})).then((function(e){return t(je(ke,at,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},sr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(ur())})).then((function(e){return t(je(ke,Bt,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},pr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(ur())})).then((function(e){return t(je(ke,Mt,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},dr=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=null,n.next=3,Promise.resolve().then((function(){if(e.data.origin&&"THRUBI"===e.data.origin)return e.data;throw E.errorFlare.MESSAGE_IGNORED})).then((function(e){r({type:R.RECEIVE_TWITTER_LOGIN,payload:e})})).then((function(){c=a().client.userAccess.twitterListener})).then((function(){window.removeEventListener("message",c)})).then((function(){return a().client.userAccess.twitterWindow})).then((function(e){e.close()})).then((function(){return r({type:R.CLEAR_TWITTER_WINDOW_AND_LISTENER,payload:{}})})).then((function(){t()})).catch((function(){return null}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},fr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r,a,c,o,u,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,c=null,o=null,u=null,i=new Promise((function(e){return u=e})),e.next=8,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return t(je(Le,ct,{}))})).then((function(e){return r=e.requestToken})).then((function(){a=n().client.userAccess.twitterWindow})).then((function(){return null===a||a.closed})).then((function(e){e&&(a=window.open(En(r),"Login to Thrubi using your Twitter account","toolbar=no, menubar=no, width=600, height=500, top=50, left=100"))})).then((function(){return a.focus()})).then((function(){o=setInterval((function(){a.closed&&(u(),clearInterval(o))}),500)})).then((function(){c=function(e){return t(dr(e,u))}})).then((function(){window.addEventListener("message",c)})).then((function(){return t({type:R.RECEIVE_TWITTER_WINDOW_AND_LISTENER,payload:{twitterWindow:a,twitterListener:c}})})).then((function(){return i})).then((function(){return{twitterRequestToken:n().client.userAccess.twitterRequestToken,twitterOAuthVerifier:n().client.userAccess.twitterOAuthVerifier}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},mr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(fr())})).then((function(e){return t(je(ke,ot,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Er=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(fr())})).then((function(e){return t(je(ke,ut,e))})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).then((function(e){return t(Sn(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},hr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(fr())})).then((function(e){return t(je(ke,Gt,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},yr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(fr())})).then((function(e){return t(je(ke,Vt,e))})).then((function(){return t(_n())})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.FAILED_LOGIN))),{loginError:!0}})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},br=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Or=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},vr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Tr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Nr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return window.location.search})).then((function(e){return JSON.parse('{"'+decodeURI(e).replace("?","").replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')})).then((function(e){return{origin:"THRUBI",code:e.code,state:e.state,twitterRequestToken:e.oauth_token,twitterOAuthVerifier:e.oauth_verifier}})).then((function(e){window.opener&&window.opener.postMessage(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},_r=n(235),Ir=n.n(_r),Rr=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":t.type}},n.abrupt("return",Promise.resolve().then((function(){return Ir.a.put(e,t,c)})).catch((function(e){throw E.errorFlare.S3_UPLOAD_ERROR})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},gr=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:R.SWITCH_OPTION_USER_MENU,payload:{optionUserMenu:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},wr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then((function(){return t(je(Le,Tt,null))})).then((function(e){return e.map((function(e,t){return r[e.detailName]=e.detailValue}))})).then((function(){return t({type:R.RECEIVE_USER_DETAILS,payload:r})})).catch((function(e){return t(g(E.flareType.ERROR,E.errorFlare.ERR_USER_DETAILS))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ar=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r({type:R.SET_BUSY,payload:I.BUSY_ACTION_USERDETAILS})})).then((function(){return r(je(ke,_t,Object.assign({},{userDetails:e},t)))})).then((function(){return r(wr())})).catch((function(e){return r(g(E.flareType.ERROR,E.errorFlare.ERR_USER_DETAILS))})).finally((function(){return r({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_USERDETAILS})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Sr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e,n=function(){var n=Object(b.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return t(je(Le,bt,null))})).then((function(t){return e=t})).then((function(){return t((n=e,function(){var e=Object(b.a)(y.a.mark((function e(t,r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.keys(te).map(function(){var e=Object(b.a)(y.a.mark((function e(a){var c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r().client.user[a],o=n[a],null===c||!(0===c^0===o||Math.sign(c)>0^Math.sign(o)>0)){e.next=6;break}return e.next=5,t(g(E.flareType.INFO,ne(o,a)));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n})).then((function(){return t({type:R.RECEIVE_USER_FLAGS,payload:e})})).catch((function(e){return t(g(E.flareType.ERROR,E.errorFlare.ERR_USER_FLAGS))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),n}(),1e3),t({type:R.RECEIVE_USER_WORKER,payload:{userWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Cr=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.user),t({type:R.STOP_USER_WORKER,payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},xr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.mCurrent,r=t.ccySymbol,o=t.declareIncomeBusy,u=t.incomeApproved,i=this.props.declareIncome;return c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"navbar-light col-lg-4 container-fluid row m-0"},o?"":c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(ge,{text:"Declared income",bold:!1,value:n,ccySymbol:r})),c.a.createElement("div",{className:"col-lg-12 small py-2"},"Your income of ",n," ",r," is currently:\xa0",c.a.createElement("span",{className:"badge "+(u>0?"badge-info":"badge-danger")},u>0?"Officially approved":u<0?"Pending approval":"Not approved")))),c.a.createElement("div",{className:"navbar-light col-lg-4 container-fluid row m-0"},o?"Busy processing income declaration":c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("input",{ref:function(t){return e=t},type:"text",className:"form-control form-control-sm rounded-0 m-0",placeholder:n.toFixed(2)+" "+r,required:!0}))),c.a.createElement("div",{className:"col-lg-12 p-0 m-0"},c.a.createElement(Se,{text:"Declare new income",action:function(){return i(e.value)},buttonType:"btn-primary m-0"})))))}}]),t}(a.Component),Pr=Object(s.b)((function(e){return{ccySymbol:e.client.population.ccySymbol,mCurrent:e.client.member.mCurrent,incomeApproved:e.client.user.incomeApproved,declareIncomeBusy:e.session.busy.action.declareIncome}}),{declareIncome:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n({type:R.SET_BUSY,payload:I.BUSY_ACTION_DECLAREINCOME})})).then((function(){return n(je(ke,mt+"/"+r().client.population.id+"/"+e,null))})).catch((function(e){return n(g(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})).finally((function(){return n({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_DECLAREINCOME})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(xr),Lr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.countryName,n=e.ccyId,r=e.busy,o=e.loggedIn,u=e.populationId,i=e.identityCertified,l=this.props.removeMembership;return c.a.createElement("div",{className:"container-fluid row p-0 m-0 text-primary text-center mt-3"},r?"Viewport loading...":!o||u<0?"":c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"col-lg-12 p-2 m-0 bg-primary text-light text-center mb-3"},c.a.createElement("span",{className:"mt-3"},c.a.createElement("b",null,t),"\xa0",c.a.createElement("small",null,n,"\xa0",c.a.createElement("i",null,"pid#",u))),c.a.createElement("button",{className:"close memberPaddingX text-light",type:"button",onClick:function(){return l()},"data-dismiss":"alert"},c.a.createElement("span",null,"\xd7"))),i<=0?c.a.createElement("div",{className:"col-sm-12"},c.a.createElement(Re,null)):c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"col-sm-4"},c.a.createElement(Re,null)),c.a.createElement(Pr,null))))}}]),t}(a.Component),kr=Object(s.b)((function(e){return{countryName:e.client.population.countryName,ccyId:e.client.population.ccyId,ccySymbol:e.client.population.ccySymbol,busy:e.session.busy.component.viewport,loggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id,identityCertified:e.client.user.identityCertified}}),{removeMembership:Qt})(Lr),Ur=function(e){var t=e.columnSize,n=(e.color,e.activeFilter),r=e.checkedFilter,a=e.action,o=e.elements;return c.a.createElement("div",{"data-toggle":"buttons",className:"btn btn-block btn-group btn-group-toggle border-0 row p-0 m-0 my-2"},o.map((function(e,o){return c.a.createElement("button",{key:e.key,id:e.key,onClick:function(t){t.preventDefault(),a(e.key)},defaultChecked:r===e.key,disabled:!1,className:"btn btn-sm btn-block small rounded-0 p-0 m-0 py-2 "+e.color+" "+t+(n===e.key?" active":"")},c.a.createElement("div",{className:"container row p-0 m-0"+(e.channel?"":" fullWidth")},c.a.createElement("div",{className:e.channel?"":"fullWidth"},e.channel?c.a.createElement("img",{className:"p-0 my-0 mx-2",alt:e.channel,height:"32",width:"32",src:"/png/"+Ae.channelColor(e.channel)+".png"}):"",c.a.createElement("div",{className:(e.channel?"ml-4":"fullWidth")+" d-inline-block text-"+(e.channel?"left":"center")},e.text))))})))},Fr=function(e){var t=e.text,n=e.action,r=e.abandonAction,a=e.buttonType,o=e.abandonButtonType,u={username:null,password:null};return c.a.createElement("div",null,c.a.createElement("input",{id:"username",ref:function(e){return u.username=e},type:"text",className:"form-control form-control-sm rounded-0 my-2",placeholder:"username",required:!0}),c.a.createElement("input",{id:"password",ref:function(e){return u.password=e},type:"text",className:"form-control form-control-sm rounded-0 my-2",placeholder:"password",required:!0}),c.a.createElement(Se,{text:t,action:function(){n(u.username.value,u.password.value)},buttonType:a}),c.a.createElement(Se,{text:"Back",action:r,buttonType:o}))},jr=function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return r(je(ke,Ye,{actionType:e,actionValue:t}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Dr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.busy,n=e.loggedIn,r=e.autoLogin,a=e.ethAddress,c=this.props.loginBlockchainEthereum;!t&&!n&&r&&a&&c()}},{key:"componentWillUnmount",value:function(){(0,this.props.logout)({autoLogin:!1})}},{key:"authFunction",value:function(e,t){var n=this,r=this.props.logAction;return function(){console.error(e),e!==ue.optionLoginCreate.LOGIN&&e!==ue.optionLoginCreate.CREATE||r(X,e+"_"+t),n.props[e.toLowerCase()+Ae.channelAuthFunctionName(t)]()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.loggedIn,o=t.optionLoginCreate,u=t.optionKeyboardMode,i=t.optionUserMenu,l=t.payChannel,s=t.receiveChannel,p=t.channels,d=this.props,f=d.switchOptionLoginCreate,m=d.switchOptionUserMenu,E=d.abandonKeyboard,h=d.setPayChannel,y=d.setReceiveChannel,b=d.deleteChannel,O=d.logout;return c.a.createElement("div",{className:"text-center small text-dark"},n?"Auth module busy...":c.a.createElement(a.Fragment,null,null===u?"":c.a.createElement(Fr,{text:Ae.keyboardChannelMessage(u),action:this.props[u.toLowerCase()+"KeyboardForm"],buttonType:"btn btn-sm p-0 btn-primary",abandonAction:E,abandonButtonType:"btn btn-sm p-0 btn-secondary"}),null!==u||r?"":c.a.createElement(a.Fragment,null,Object.keys(p).map((function(t){return Ae.channelIsForLogin(p[t])?c.a.createElement(Se,{channel:t,text:Ae.channelUserFriendlyName(t,o),key:(o===ue.optionLoginCreate.LOGIN?"login":"create")+t,action:e.authFunction(o,t),buttonType:"btn btn-sm p-0 btn-"+(o===ue.optionLoginCreate.LOGIN?"":"outline-")}):""}))),r?"":c.a.createElement(Se,{text:o===ue.optionLoginCreate.LOGIN?"Create a new Thrubi account":"I already have a Thrubi account",action:f,buttonType:"nav-link border-0 text-small text-primary"}),null===u&&r?c.a.createElement(a.Fragment,null,c.a.createElement(Se,{text:"Logout",action:O,payload:{autoLogin:!1},buttonType:"btn btn-sm p-0 btn-secondary"}),c.a.createElement(Ur,{columnSize:"col-lg-6",activeFilter:i,checkedFilter:i,action:m,elements:[{color:"btn-outline-primary",key:ue.optionUserMenu.USER,text:"My account",disabledFilter:i===ue.optionUserMenu.USER},{color:"btn-outline-primary",key:ue.optionUserMenu.PAY,text:"Payment",disabledFilter:i===ue.optionUserMenu.PAY},{color:"btn-outline-primary",key:ue.optionUserMenu.MANAGE,text:"Manage login credentials",disabledFilter:i===ue.optionUserMenu.MANAGE},{color:"btn-outline-primary",key:ue.optionUserMenu.ADD,text:"Connect login credentials",disabledFilter:i===ue.optionUserMenu.ADD}]}),i===ue.optionUserMenu.USER?"":c.a.createElement(a.Fragment,null,i!==ue.optionUserMenu.PAY?"":[{message:"My payment method:",channel:l,setter:h},{message:"My inbound payment method:",channel:s,setter:y}].map((function(e){return c.a.createElement("div",{className:"my-4"},e.message,c.a.createElement(Ur,{columnSize:"col-lg-12",activeFilter:e.channel,checkedFilter:e.channel,action:e.setter,elements:Object.keys(p).map((function(t){return Ae.channelIsForPay(p[t])?{key:t===e.channel?Ae.channelName.NOT_AVAILABLE:t,channel:t,color:"btn-"+(t===e.channel?"":"outline-")+Ae.channelColor(t),disabledFilter:t===e.channel,text:Ae.channelUserFriendlyName(t,t===e.channel?"USING":Ae.channelIsOpen(p[t])?"USE":"LINK")}:null})).filter((function(e){return null!==e}))}))})),c.a.createElement("div",{className:"my-4"},[{mode:"UPDATE",action:function(t){return e.authFunction("UPDATE",Ae.channelAuthFunctionName(t))},color:"",filter:function(e){return i===ue.optionUserMenu.MANAGE&&(Ae.channelIsForLogin(e)||Ae.channelIsForPay(e))&&Ae.channelIsOpen(e)}},{mode:"ADD",action:function(t){return e.authFunction("ADD",Ae.channelAuthFunctionName(t))},color:"outline-",filter:function(e){return i===ue.optionUserMenu.ADD&&!Ae.channelIsOpen(e)}},{mode:"DELETE",action:function(e){return function(){return b(e)}},color:"outline-",filter:function(e){return i===ue.optionUserMenu.MANAGE&&(Ae.channelIsForLogin(e)||Ae.channelIsForPay(e))&&Ae.channelIsOpen(e)}}].map((function(e){return c.a.createElement("div",{key:e.mode},Object.keys(p).map((function(t){return e.filter(p[t])?c.a.createElement(Se,{channel:t,text:Ae.channelUserFriendlyName(t,e.mode),action:e.action(t),key:e.mode+t,buttonType:"btn btn-sm p-0 btn-"+e.color}):""})))}))))):""))}}]),t}(a.Component),Br=Object(s.b)((function(e){return{busy:e.session.busy.component.auth,ethAddress:e.client.userAccess.ethAddress,optionLoginCreate:e.client.user.optionLoginCreate,optionKeyboardMode:e.client.user.optionKeyboardMode,optionUserMenu:e.client.user.optionUserMenu,loggedIn:e.client.userAccess.loggedIn,autoLogin:e.client.userAccess.autoLogin,payChannel:e.client.userAccess.payChannel,receiveChannel:e.client.userAccess.receiveChannel,channels:e.client.userAccess.channels}}),Object.assign({},r,{logAction:jr,switchOptionUserMenu:gr}))(Dr),Mr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.logAction;return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row py-2 rounded-bottom"},c.a.createElement("div",{className:"col-lg-4 p-0 navbar-light"},c.a.createElement("div",{className:"mr-0 mr-lg-3 my-2 my-lg-0 thrubiBlue"},c.a.createElement("div",{style:{backgroundImage:"url(/jpg/crowd.jpg)"},className:"border-0 container-fluid m-0 everybody p-4 text-primary"},c.a.createElement("h2",{className:"text-center text-lg-left"},c.a.createElement("b",null,"Vision")),c.a.createElement("p",null,"As a Thrubi member, you will receive Thrubi Blue each month, based on your current income. Your Thrubi Blue will give you rights to regular payments."),c.a.createElement(Se,{text:"Learn more",action:function(){},buttonType:"my-4 btn-outline-primary"})),c.a.createElement("div",{className:"border-0 container-fluid m-0 overflow-hidden topLeft p-4 opaque text-primary"},c.a.createElement("h2",{className:"text-center text-lg-left"},c.a.createElement("b",null,"Vision")),c.a.createElement("p",null,"As a Thrubi member, you will receive Thrubi Blue each month, based on your current income. Your Thrubi Blue will give you rights to regular payments."),c.a.createElement(Se,{text:"Learn more",action:function(){e(z,$)},buttonType:"my-4 btn-outline-primary"})))),c.a.createElement("div",{className:"col-lg-4 p-0 navbar-light"},c.a.createElement("div",{className:"mr-0 mr-lg-3 my-2 my-lg-0 thrubiSilver"},c.a.createElement("div",{style:{backgroundImage:"url(/jpg/hanauer.jpg)",backgroundSize:"100%"},className:"border-0 container-fluid m-0 wealthy p-4 text-secondary"},c.a.createElement("h2",{className:"text-center text-lg-left"},c.a.createElement("b",null,"Wealthy individuals")),c.a.createElement("p",null,"As a wealthy individual, you will have access to purchasing Thrubi Gold. The purchase costs will be awarded to all Thrubi members in your country according to their income."),c.a.createElement(Se,{text:"Learn more",action:function(){},buttonType:"my-4 btn-outline-secondary"})),c.a.createElement("div",{className:"border-0 container-fluid m-0 overflow-hidden topLeft p-4 opaque text-secondary"},c.a.createElement("h2",{className:"text-center text-lg-left"},c.a.createElement("b",null,"Wealthy individuals")),c.a.createElement("p",null,"As a wealthy individual, you will have access to purchasing Thrubi Gold. The purchase costs will be awarded to all Thrubi members in your country according to their income."),c.a.createElement(Se,{text:"Learn more",action:function(){e(z,Q)},buttonType:"my-4 btn-outline-secondary"})))),c.a.createElement("div",{className:"col-lg-4 p-0 navbar-light"},c.a.createElement("div",{className:"mr-0 mr-lg-3 my-2 my-lg-0 thrubiGold"},c.a.createElement("div",{style:{backgroundImage:"url(/jpg/futuristic.jpg)"},className:"border-0 container-fluid m-0 societies p-4 text-success"},c.a.createElement("h2",{className:"text-center text-lg-left"},c.a.createElement("b",null,"Thriving societies")),c.a.createElement("p",null,"Thrubi is powered by in-house social models and public ",c.a.createElement("a",{target:"_blank",className:"text-success",rel:"noopener noreferrer",href:"https://www.irs.gov"},"IRS.gov")," and ",c.a.createElement("a",{target:"_blank",className:"text-success",rel:"noopener noreferrer",href:"https://wid.world"},"wid.world")," income inequality data. Start accepting Thrubi Gold to fulfill tax duties for your country."),c.a.createElement(Se,{text:"Learn more",action:function(){},buttonType:"my-4 btn-outline-success"})),c.a.createElement("div",{className:"border-0 container-fluid m-0 overflow-hidden topLeft p-4 opaque text-success"},c.a.createElement("h2",{className:"text-center text-lg-left"},c.a.createElement("b",null,"Thriving societies")),c.a.createElement("p",null,"Thrubi is powered by in-house social models and public ",c.a.createElement("a",{target:"_blank",className:"text-success",rel:"noopener noreferrer",href:"https://www.irs.gov"},"IRS.gov")," and ",c.a.createElement("a",{target:"_blank",className:"text-success",rel:"noopener noreferrer",href:"https://wid.world"},"wid.world")," income inequality data. Start accepting Thrubi Gold to fulfill tax duties for your country."),c.a.createElement(Se,{text:"Learn more",action:function(){e(z,Z)},buttonType:"my-4 btn-outline-success"}))))))}}]),t}(a.Component),Gr=Object(s.b)((function(e){return{}}),{logAction:jr})(Mr),Vr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e={localProfilePicture:null},t=this.props,n=t.role,r=t.deactivated,a=t.profilePicture,o=this.props,u=o.deleteProfilePicture,i=o.uploadProfilePicture;return c.a.createElement("div",{className:"mb-2"},c.a.createElement("label",{for:"profilePictureInput",className:"m-0 p-0"},c.a.createElement("img",{className:"mt-3 rounded-circle",alt:"profilePicture",height:"128",width:"128",src:a||"/icons/"+n+r+".png"})),c.a.createElement("input",{id:"profilePictureInput",className:"d-none",ref:function(t){return e.localProfilePicture=t},type:"file",onChange:function(){return i(e.localProfilePicture)}}),a?c.a.createElement(Se,{noMargin:"small m-0 mt-2 p-0",buttonType:"nav-link border-0 text-secondary",action:u,text:"Delete my profile picture"}):c.a.createElement("div",{className:"small text-secondary m-0 p-0"},"Click on the user icon to upload a profile picture"))}}]),t}(a.Component),Hr=Object(s.b)((function(e){return{role:e.client.user.role?"admin":"user",deactivated:e.client.user.deactivated?"_deactivated":"",profilePicture:e.client.user.profilePicture}}),{deleteProfilePicture:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_ACTION_USERDETAILS})})).then((function(){return t(je(ke,Nt,{userDetails:Object(P.a)({},ce,!0)}))})).then((function(){return t({type:R.DELETE_PROFILE_PICTURE,payload:{}})})).catch((function(e){return t(g(E.flareType.ERROR,E.errorFlare.ERR_USER_DETAILS))})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_USERDETAILS})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},uploadProfilePicture:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.files[0],t.next=3,Promise.resolve().then((function(){if("image/jpeg"!==c.type&&"image/png"!==c.type)throw E.errorFlare.ERR_USER_PROFILE_PICTURE})).then((function(){if(c.size>5e5)throw E.errorFlare.ERR_USER_PROFILE_PICTURE})).then((function(){return n(je(ke,It,{fileName:c.name,fileType:c.type,fileSize:c.size}))})).then((function(e){return a=e})).then((function(){return n(Rr(a.signedPutUri,c))})).then((function(){return n(Ar(Object(P.a)({},ce,a.unsignedGetUri),{overwrite:!0}))})).finally((function(){return e.value=null}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Vr),Yr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,r=e.surname,a=e.email,o=e.document,u=e.deactivated,i=e.emailVerified,l=e.identityCertified;return c.a.createElement("div",{className:"text-center mb-2"},c.a.createElement("div",{className:"text-primary d-inline-block p-0"},c.a.createElement("b",null,n||r?(n||"")+" "+(r||""):"No user data"),"\xa0"),c.a.createElement("div",{className:"text-secondary d-inline-block small"},"uid#",t,"\xa0",c.a.createElement("span",{className:"badge "+(u?"badge-danger":"badge-info")},u?"Deactivated":"Active account")),c.a.createElement("div",{className:"text-secondary small"},"email: ",a||"not found","\xa0",c.a.createElement("span",{className:"badge "+(i?"badge-info":"badge-danger")},i>0?"Email verified":i<0?"Pending verification":"Not verified")),c.a.createElement("div",{className:"text-secondary small"},"document: ",o||"not found","\xa0",c.a.createElement("span",{className:"badge "+(l>0?"badge-info":"badge-danger")},l>0?"Identity certified":l<0?"Pending certification":"Not certified")))}}]),t}(a.Component),Wr=Object(s.b)((function(e){return{id:e.client.user.id,name:e.client.user.name,surname:e.client.user.surname,email:e.client.user.email,document:e.client.user.document,deactivated:e.client.user.deactivated,emailVerified:e.client.user.emailVerified,identityCertified:e.client.user.identityCertified}}))(Yr),Kr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.busy,n=e.loggedIn;return c.a.createElement("div",{className:"text-center"},t?c.a.createElement("div",null,"Dashboard loading..."):n?c.a.createElement("div",null,c.a.createElement(Hr,null),c.a.createElement(Wr,null)):c.a.createElement("div",null,"User not logged in"))}}]),t}(a.Component),qr=Object(s.b)((function(e){return{busy:e.session.busy.component.dashboard,loggedIn:e.client.userAccess.loggedIn,role:e.client.user.role}}))(Kr),Jr=Object(s.b)((function(e){return{deactivated:e.client.user.deactivated,activateUserBusy:e.session.busy.action.activateUser}}),{activateUser:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_ACTION_ACTIVATEUSER})})).then((function(){return t({type:R.CLEAR_POPULATION,payload:{}})})).then((function(){return t(je(ke,Ot,null))})).then((function(){return t({type:R.SET_USER_ACTIVATED,payload:{}})})).catch((function(e){throw E.flareFallback(e,E.errorFlare.USER_ACTIVATION)})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_ACTIVATEUSER})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},deactivateUser:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_ACTION_ACTIVATEUSER})})).then((function(){return t({type:R.CLEAR_POPULATION,payload:{}})})).then((function(){return t(je(ke,vt,{activationState:re}))})).then((function(){return t({type:R.SET_USER_DEACTIVATED,payload:{}})})).catch((function(e){throw E.flareFallback(e,E.errorFlare.USER_ACTIVATION)})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_ACTIVATEUSER})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){var t=e.deactivated,n=e.activateUserBusy,r=e.activateUser,o=e.deactivateUser;return c.a.createElement(a.Fragment,null,n?"Please wait, activation request in progress...":t?c.a.createElement(Se,{text:"Request activation",action:r,buttonType:"btn-primary"}):c.a.createElement(Se,{text:"Deactivate my account",action:o,buttonType:"btn-secondary"}))})),Xr=Object(s.b)((function(e){return{updateUserBusy:e.session.busy.action.userDetails,name:e.client.user.name,surname:e.client.user.surname,email:e.client.user.email,document:e.client.user.document}}),{storeDetails:Ar,deleteDetails:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_ACTION_USERDETAILS})})).then((function(){return t(je(ke,Nt,{userDetails:Object(P.a)({},ae,!0)}))})).then((function(){return t({type:R.DELETE_USER_DETAILS,payload:{}})})).catch((function(e){return t(g(E.flareType.ERROR,E.errorFlare.ERR_USER_DETAILS))})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_USERDETAILS})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){var t=e.updateUserBusy,n=e.name,r=e.surname,o=e.email,u=e.document,i=e.storeDetails,l=e.deleteDetails,s={name:n,surname:r,email:o},p="form-control form-control-sm rounded-0";return c.a.createElement(a.Fragment,null,t?"Updating user data...":c.a.createElement(a.Fragment,null,c.a.createElement("input",{id:"inputUserName",ref:function(e){return s.name=e},type:"text",className:p,placeholder:n||"Enter name"}),c.a.createElement("input",{id:"inputUserSurname",ref:function(e){return s.surname=e},type:"text",className:p,placeholder:r||"Enter surname"}),c.a.createElement("input",{id:"inputUserEmail",ref:function(e){return s.email=e},type:"text",className:p,placeholder:o||"Enter email address"}),c.a.createElement("input",{id:"inputUserDocument",disabled:!0,type:"text",className:p,placeholder:u||"Identity not verified"}),c.a.createElement(Se,{text:"Update my personal data",buttonType:"btn-primary",action:function(){var e={};s.name.value&&(e.name=s.name.value),s.surname.value&&(e.surname=s.surname.value),s.email.value&&(e.email=s.email.value),i(e,{overwrite:!0})}}),c.a.createElement(Se,{text:"Delete my personal data",action:l,buttonType:"btn-secondary"})))})),zr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.identityCertified,n=e.countryName,r=this.props.uploadDocument;return c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"m-3"},"You are applying to become a Thrubi member in the following country: ",c.a.createElement("b",null,n)),c.a.createElement(Se,{text:0===t?"Upload a document to start the identity certification procedure":"Thrubi is certifying your identity",disabled:0!==t,buttonType:"btn-primary",action:r}))}}]),t}(a.Component),$r=Object(s.b)((function(e){return{identityCertified:e.client.user.identityCertified,countryName:e.client.population.countryName}}),{uploadDocument:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t(Ar(Object(P.a)({},oe,!0),{overwrite:!0}))})).then((function(){return t(je(ke,Rt,{}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(zr),Qr=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.identityCertified,t=this.props.removeMembership;return c.a.createElement(Se,{text:(e>0?"Abandon country membership":"Terminate certification procedure")+" and select another country and currency",buttonType:"btn-outline-secondary",action:t})}}]),t}(a.Component),Zr=(Object(s.b)((function(e){return{identityCertified:e.client.user.identityCertified}}),{removeMembership:Qt})(Qr),function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={claimProcedureActive:!1},n}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.populationId,o=t.claimBusy,u=t.thrubiBlueEth,i=t.ccySymbol,l=t.exrate,s=t.claim;return c.a.createElement("div",{className:"claimItem"},n?"Claim loading...":-1===r?"Please select a population, first.":o?"Busy processing claim":c.a.createElement("div",{className:"text-primary"},this.state.claimProcedureActive?c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"small text-justify"},"Fees will be deducted to pay for the blockchain transaction. The remaining \u039e will be credited in full, values in ",i," are just an indication."),c.a.createElement("div",{className:"container"},c.a.createElement(ge,{text:"You can claim",bold:!1,value:u,ccySymbol:"\u039e"}),c.a.createElement(ge,{text:"Claimable in "+i,bold:!1,value:u*l,ccySymbol:i})),c.a.createElement(Se,{action:s,disabled:!u,buttonType:"btn-"+(u?"primary":"light"),text:u?"Claim your "+u.toFixed(2)+" \u039e":"Nothing to claim"})):"",c.a.createElement(Se,{disabled:!u&&!this.state.claimProcedureActive,buttonType:"btn-"+(this.state.claimProcedureActive?"":"outline-")+"primary"+(u?" active":""),text:this.state.claimProcedureActive?"Close":u?"Activate claim procedure":"Nothing to claim",action:function(){e.setState({claimProcedureActive:!e.state.claimProcedureActive})}})))}}]),t}(a.Component)),ea=Object(s.b)((function(e){return{busy:e.session.busy.component.claim,populationId:e.client.population.id,claimBusy:e.session.busy.action.claim,thrubiBlueEth:e.client.member.thrubiBlueEth,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate}}),{claim:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().client.userAccess.ethAddress,a=n().client.population.id,e.next=4,t(je(Le,dt+"/"+r+"/"+a,null));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(Zr),ta=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.optionAdvancedMode,n=e.optionViewHistory,r=this.props,a=r.advancedMode,o=r.viewHistory,u=this.props.color;return c.a.createElement("div",null,c.a.createElement(Se,{noMargin:"small m-0 mt-2 p-0",buttonType:"nav-link border-0 text-"+u,action:function(){return a(!t)},text:t?"Show less details":"Show more details..."}),t?c.a.createElement(Se,{noMargin:"small m-0 p-0",buttonType:"nav-link border-0 text-"+u,action:function(){return o(!n)},text:n?"Hide history":"View history..."}):"")}}]),t}(a.Component),na=Object(s.b)((function(e){return{optionAdvancedMode:e.client.user.optionAdvancedMode,optionViewHistory:e.client.user.optionViewHistory,populationId:e.client.population.id}}),{advancedMode:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:R.SET_OPTION_ADVANCED_MODE,payload:{optionAdvancedMode:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},viewHistory:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:R.SET_OPTION_VIEW_HISTORY,payload:{optionViewHistory:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(ta),ra=function(e){var t=e.ccySymbol,n=e.member,r=e.exrate,o=e.optionViewHistory,u=e.optionAdvancedMode;return c.a.createElement("div",{className:"container-fluid"},u?c.a.createElement(a.Fragment,null,c.a.createElement(ge,{text:"My Thrubi Blue \u20aeB",bold:!1,value:n.thrubiBlue,ccySymbol:"\u20aeB"}),c.a.createElement(ge,{text:"Next month \u20aeB",bold:!1,value:n.thrubiBlueNext,ccySymbol:"\u20aeB"}),c.a.createElement(ge,{text:"Claimable \u039e",bold:!1,value:n.thrubiBlueEth,ccySymbol:"\u039e"}),c.a.createElement(ge,{text:"\u20aeB awards",bold:!1,value:n.thrubiBlueAward,ccySymbol:t}),c.a.createElement(ge,{text:"Claimable in "+t,bold:!0,value:n.thrubiBlueEth*r,ccySymbol:t})):c.a.createElement(a.Fragment,null,c.a.createElement(ge,{text:"My Thrubi Blue \u20aeB",bold:!1,value:n.thrubiBlue,ccySymbol:"\u20aeB"}),c.a.createElement(ge,{text:"Claimable in "+t,bold:!0,value:n.thrubiBlueEth*r,ccySymbol:t})),o?c.a.createElement(a.Fragment,null,c.a.createElement(ge,{text:"Total awards",bold:!1,value:n.thrubiBlueAwardTotal,ccySymbol:t}),c.a.createElement(ge,{text:"Total claimed",bold:!1,value:n.thrubiBlueClaimTotal,ccySymbol:t})):"",c.a.createElement(na,{color:"primary"}))},aa=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiBlue||this.state.manualPanel||this.setState({showPanel:e.thrubiBlue})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.member,o=t.ccySymbol,u=t.exrate,i=t.optionViewHistory,l=t.optionAdvancedMode;return c.a.createElement("div",{className:"text-center text-primary"},c.a.createElement(Se,{text:"Thrubi Blue",buttonType:"btn-outline-primary"+(this.state.showPanel?" active":""),action:function(){e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}}),this.state.showPanel?n?"Member loading...":c.a.createElement(a.Fragment,null,c.a.createElement(ra,{member:r,ccySymbol:o,exrate:u,optionViewHistory:i,optionAdvancedMode:l}),c.a.createElement(ea,null)):"")}}]),t}(a.Component),ca=Object(s.b)((function(e){return{busy:e.session.busy.component.dashboard,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,optionViewHistory:e.client.user.optionViewHistory,optionAdvancedMode:e.client.user.optionAdvancedMode}}))(aa),oa=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={transformEthValue:0,transformProcedureActive:!1},n}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.transformBusy,o=t.populationId,u=t.exrate,i=t.ccySymbol,l=t.thrubiSilver,s=t.thrubiPriceSilver,p=t.thrubiFees,d=t.transform;return c.a.createElement("div",null,n?"Transform loading...":-1===o?"Please select a population, first.":r?"Busy processing transform request":c.a.createElement(a.Fragment,null,this.state.transformProcedureActive?c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"small text-justify"},"Blockchain transaction costs will be paid by you upon submitting the transaction. Final transformed $\u20ae will depend upon \u039e exchange rates and $\u20ae price when your transaction is accepted. Any excess \u039e that you transform will be credited on the account and used whenever $\u20ae becomes available."),c.a.createElement("div",{className:"text-secondary container"},c.a.createElement(ge,{text:"\u039e to spend to transform",bold:!1,value:this.state.transformEthValue,ccySymbol:"\u039e"}),c.a.createElement(ge,{text:"Current value in "+i,bold:!1,value:this.state.transformEthValue*u,ccySymbol:i}),c.a.createElement(ge,{text:"Thrubi fees ("+(100*p).toFixed(1)+"%)",bold:!1,value:this.state.transformEthValue*u*p,ccySymbol:i}),c.a.createElement(ge,{text:"You can transform",bold:!1,value:this.state.transformEthValue*u*(1-p)*(s?1/s:0),ccySymbol:"$\u20ae"})),c.a.createElement("input",{id:"transformEth",ref:function(t){return e.transformEthRef=t},type:"text",className:"form-control form-control-sm rounded-0",placeholder:this.transformEthValue,required:!0,onChange:function(t){t.preventDefault();var n=parseFloat(e.transformEthRef.value);n||(n=0),e.setState({transformEthValue:n})}}),c.a.createElement(Se,{buttonType:"btn-"+(this.state.transformEthValue?"primary":"light"),disabled:!this.state.transformEthValue,action:d,payload:this.state.transformEthValue,text:this.state.transformEthValue?"Transform "+this.state.transformEthValue.toFixed(2)+" \u039e":"Insert an \u039e amount"})):"",c.a.createElement(Se,{disabled:!l&&!this.state.transformProcedureActive,buttonType:"btn-"+(this.state.transformProcedureActive?"":"outline-")+"secondary"+(l?" active":""),text:this.state.transformProcedureActive?"Close":l?"Activate transform procedure":"Nothing to transform",action:function(){return e.setState({transformProcedureActive:!e.state.transformProcedureActive})}})))}}]),t}(a.Component),ua=Object(s.b)((function(e){return{busy:e.session.busy.component.transform,transformBusy:e.session.busy.action.transform,populationId:e.client.population.id,thrubiSilver:e.client.member.thrubiSilver,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiFees:e.client.population.thrubiFees,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate}}),{transform:function(e){return function(t,n){var r=n().session.blockchain.thrubiContract.methods.transform,a=n().client.userAccess.ethAddress,c=n().client.population.id,o=n().client.user.id;return new Promise((function(t,n){try{r(o,c,a).send({from:a,value:1e18*e}).once(Me,(function(){t()}))}catch(u){throw E.errorFlare.NO_ETHEREUM_CONFIG}}))}}})(oa),ia=function(e){var t=e.ccySymbol,n=e.member,r=(e.exrate,e.thrubiPriceSilver),o=e.thrubiPriceGold,u=e.optionViewHistory,i=e.optionAdvancedMode;return c.a.createElement("div",{className:"container"},i?c.a.createElement(a.Fragment,null,c.a.createElement(ge,{text:"My Thrubi Silver \u20ae$",bold:!0,value:n.thrubiSilver,ccySymbol:"\u20aeS"}),c.a.createElement(ge,{text:"Next month \u20ae$",bold:!1,value:n.thrubiSilverNext,ccySymbol:"\u20aeS"}),c.a.createElement(ge,{text:"Conversion to gold cost",bold:!1,value:n.thrubiSilver*r,ccySymbol:t}),c.a.createElement(ge,{text:"Gold value",bold:!1,value:n.thrubiSilver*o,ccySymbol:t}),c.a.createElement(ge,{text:"Remaining \u039e",bold:!1,value:n.thrubiSilverEth,ccySymbol:"\u039e"})):c.a.createElement(a.Fragment,null,c.a.createElement(ge,{text:"My Thrubi Silver \u20ae$",bold:!0,value:n.thrubiSilver,ccySymbol:"\u20aeS"}),c.a.createElement(ge,{text:"Conversion to gold cost",bold:!1,value:n.thrubiSilver*r,ccySymbol:t}),c.a.createElement(ge,{text:"Gold value",bold:!1,value:n.thrubiSilver*o,ccySymbol:t})),u?c.a.createElement(ge,{text:"Total transformed",bold:!1,value:n.thrubiSilverTransformTotal,ccySymbol:t}):"",c.a.createElement(na,{color:"secondary"}))},la=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiSilver||this.state.manualPanel||this.setState({showPanel:!!e.thrubiSilver})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.member,o=t.ccySymbol,u=t.exrate,i=t.thrubiPriceSilver,l=t.thrubiPriceGold,s=t.optionViewHistory,p=t.optionAdvancedMode;return c.a.createElement("div",{className:"text-center text-secondary"},c.a.createElement(Se,{text:"Thrubi Silver",buttonType:"btn-outline-secondary"+(this.state.showPanel?" active":""),action:function(){e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}}),this.state.showPanel?n?"Member loading...":c.a.createElement(a.Fragment,null,c.a.createElement(ia,{member:r,ccySymbol:o,exrate:u,thrubiPriceSilver:i,thrubiPriceGold:l,optionViewHistory:s,optionAdvancedMode:p}),c.a.createElement(ua,null)):"")}}]),t}(a.Component),sa=Object(s.b)((function(e){return{busy:e.session.busy.component.dashboard,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiPriceGold:e.client.population.thrubiPriceGold,optionViewHistory:e.client.user.optionViewHistory,optionAdvancedMode:e.client.user.optionAdvancedMode}}))(la),pa=function(e){var t=e.ccySymbol,n=e.member,r=e.thrubiPriceGold;return c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement(ge,{text:"My Thrubi Gold",bold:!0,value:n.thrubiGold,ccySymbol:"\u20aeG"}),c.a.createElement(ge,{text:"Market value",bold:!1,value:n.thrubiGold*r,ccySymbol:t})),c.a.createElement(Se,{action:function(){},text:"Find gold Thrubi marketplace",buttonType:"btn-outline-success"}))},da=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(ve.a)(this,Object(Te.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiGold||this.state.manualPanel||this.setState({showPanel:!!e.thrubiGold})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.member,o=t.ccySymbol,u=t.exrate,i=t.thrubiPriceGold;return c.a.createElement("div",{className:"text-center text-success"},c.a.createElement(Se,{text:"Thrubi Gold",buttonType:"btn-outline-success"+(this.state.showPanel?" active":""),action:function(){e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}}),this.state.showPanel?n?"Member loading...":c.a.createElement(a.Fragment,null,c.a.createElement(pa,{member:r,ccySymbol:o,exrate:u,thrubiPriceGold:i})):"")}}]),t}(a.Component),fa=Object(s.b)((function(e){return{busy:e.session.busy.component.dashboard,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiPriceGold:e.client.population.thrubiPriceGold}}))(da),ma=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.populations,n=e.populationId,r=e.filter,a=this.props,o=a.selectPopulation,u=a.deselectPopulation;return t.filter((function(e){return!r||e.countryId.toLowerCase().includes(r.toLowerCase())||e.countryName.toLowerCase().includes(r.toLowerCase())||e.ccyId.toLowerCase().includes(r.toLowerCase())||e.ccyName.toLowerCase().includes(r.toLowerCase())})).map((function(e,t){return c.a.createElement("div",{key:t,className:"bg-light py-0 px-2 p-lg-0 my-1"},c.a.createElement("button",{className:"btn btn-sm m-0 p-0 rounded-0 border-0 btn-block btn-outline-primary"+(n===e.populationId?" active":""),onClick:n===e.populationId?function(){return u(e)}:function(){return o(e)}},c.a.createElement("div",{className:"d-none d-lg-flex container-fluid row p-3 m-0"},c.a.createElement("div",{className:"col-lg-1 col-md-2  p-0 m-0 text-center"},e.countryId),c.a.createElement("div",{className:"col-lg-5 col-md-10 p-0 m-0 text-left"}," ",e.countryName),c.a.createElement("div",{className:"col-lg-1 col-md-2  p-0 m-0 text-center"},e.ccyId),c.a.createElement("div",{className:"col-lg-4 col-md-8  p-0 m-0 text-left"},e.ccyName),c.a.createElement("div",{className:"col-lg-1 col-md-2  p-0 m-0 text-center"},e.ccySymbol)),c.a.createElement("div",{className:"d-block d-lg-none my-3 py-3 text-center"},e.countryName," (",e.countryId,") - ",e.ccyName," (",e.ccyId," ",e.ccySymbol,")")))}))}}]),t}(a.Component),Ea=Object(s.b)((function(e){return{deactivated:e.client.user.deactivated,populationId:e.client.population.id,populations:e.client.population.populations,filter:e.client.population.filter}}),{selectPopulation:tn,deselectPopulation:nn})(ma),ha=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"componentDidUpdate",value:function(){this.reload()}},{key:"reload",value:function(){var e=this.props,t=e.userId,n=e.populationsBusy,r=e.populationsNotAvailable,a=this.props.fetchPopulations;!n&&r&&a(t)}},{key:"render",value:function(){var e,t,n=this.props,r=n.busy,o=n.populationsBusy,u=n.populationsNotAvailable,i=n.populationId,l=this.props,s=l.createMember,p=l.changeFilter;return r?"Loading...":o?"User populations loading...":u?"No populations found...":c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"d-none d-lg-flex flex-column flex-grow-1 align-items-center wMin800"},c.a.createElement("div",{className:"m-3 d-flex flex-column flex-grow-1 align-items-center wMin800"},c.a.createElement("div",{className:"d-flex flex-column flex-grow-1 wMin800 bg-light"},c.a.createElement("div",{className:"text-center bg-primary text-light p-2"},"Please select your country and currency from the list below and confirm:"),c.a.createElement("input",{ref:function(e){return t=e},onChange:function(){return p(t.value)},type:"text",className:"form-control form-control-sm rounded-0 my-3 p-3",placeholder:"Search by country or currency"}),c.a.createElement(Ea,null),c.a.createElement(Se,{action:s,payload:i,disabled:!i,text:"Confirm",noMargin:"p-2",buttonType:" btn-primary"})),c.a.createElement("a",{className:"nav-link text-primary text-center",href:"mailto:info@thrubi.com"},"Not found? Let us know: info@thrubi.com"))),c.a.createElement("div",{className:"d-flex d-lg-none flex-column flex-grow-1 align-items-center"},c.a.createElement("div",{className:"m-3 d-flex flex-column flex-grow-1 align-items-center"},c.a.createElement("div",{className:"d-flex flex-column flex-grow-1 bg-light"},c.a.createElement("div",{className:"text-center bg-primary text-light p-2"},"Please select your country and currency from the list below and confirm:"),c.a.createElement("input",{ref:function(t){return e=t},onChange:function(){return p(e.value)},type:"text",className:"form-control form-control-sm rounded-0 my-3 p-3",placeholder:"Search by country or currency"}),c.a.createElement(Ea,null),c.a.createElement(Se,{action:s,payload:i,disabled:!i,text:"Confirm",noMargin:"p-2",buttonType:" btn-primary"})),c.a.createElement("a",{className:"nav-link text-primary text-center",href:"mailto:info@thrubi.com"},"Not found? Let us know: info@thrubi.com"))))}}]),t}(a.Component),ya=Object(s.b)((function(e){return{busy:e.session.busy.component.userMenu,populationsBusy:e.session.busy.action.populations,populationsNotAvailable:!e.client.population.populations||!e.client.population.populations.length,userId:e.client.user.id,populationId:e.client.population.id}}),{fetchPopulations:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})).then((function(){return t(je(Le,Ht,null))})).then((function(e){return r=e})).then((function(){return r.forEach((function(e){e.isMember&&(t(tn(e)),t(rn()),t(Zt()),t(Ve()))}))})).then((function(){return t({type:R.RECEIVE_POPULATIONS,payload:{populations:r}})})).catch((function(e){return t(g(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},createMember:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n({type:R.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})).then((function(){return n(je(ke,st+"/"+e,null))})).then((function(){return n(Zt())})).then((function(){return n(rn())})).then((function(){return n(Ve())})).catch((function(e){return n(g(E.flareType.ERROR,E.flareType.ERR_GENERIC_USERMENU))})).finally((function(){return n({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},changeFilter:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return n({type:R.RECEIVE_POPULATION_FILTER,payload:{filter:e}})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(ha),ba=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:R.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS}),e.abrupt("return",je(ke,qt+"/"+n().client.population.id,null)(t,n).then((function(e){nn()(t,n)})).catch((function(e){return t(g(E.flareType.ERROR,e))})).then((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Oa=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchCountries)()}},{key:"render",value:function(){var e=this.props,t=e.countries,n=e.countryId,r=this.props,a=r.selectCountry,o=r.deselectCountry;return c.a.createElement("div",null,t.map((function(e,t){return c.a.createElement("div",{key:t,className:"country p-0"},c.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(n===e.countryId?"light":"primary"),value:n===e.countryId?"Selected":"Select #"+e.countryId,onClick:n===e.countryId?function(e){o()}:function(t){a(e.countryId)}},c.a.createElement("div",{className:"container-fluid row p-0 m-0"},c.a.createElement("div",{className:"small col-lg-4 p-0 m-0 text-center"},n===e.countryId?"Selected":"Select #"+e.countryId),c.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.countryId),c.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-left"},e.countryName))))})))}}]),t}(a.Component),va=Object(s.b)((function(e){return{countries:e.global.country.countries,countryId:e.global.country.id}}),{fetchCountries:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je(Le,it,null)(t,n).then((function(e){t({type:R.RECEIVE_COUNTRIES,payload:{countries:e}})})).catch((function(e){return t(g(E.flareType.ERROR,e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},selectCountry:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:R.SELECT_COUNTRY,payload:{countryId:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},deselectCountry:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:R.DESELECT_COUNTRY,payload:{}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(Oa),Ta=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchCcys)()}},{key:"render",value:function(){var e=this.props,t=e.ccys,n=e.ccyId,r=this.props,a=r.selectCcy,o=r.deselectCcy;return c.a.createElement("div",null,t.map((function(e,t){return c.a.createElement("div",{key:t,className:"ccy p-0"},c.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(n===e.ccyId?"light":"primary"),value:n===e.ccyId?"Selected":"Select #"+e.ccyId,onClick:n===e.ccyId?function(e){o()}:function(t){a(e.ccyId)}},c.a.createElement("div",{className:"container-fluid row p-0 m-0"},c.a.createElement("div",{className:"small col-lg-3 p-0 m-0 text-center"},n===e.ccyId?"Selected":"Select #"+e.ccyId),c.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.ccyId),c.a.createElement("div",{className:"small col-lg-5 p-0 m-0 text-left"},e.ccyName),c.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.ccySymbol))))})))}}]),t}(a.Component),Na=Object(s.b)((function(e){return{ccys:e.global.ccy.ccys,ccyId:e.global.ccy.id}}),{fetchCcys:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je(Le,lt,null)(t,n).then((function(e){t({type:R.RECEIVE_CCYS,payload:{ccys:e}})})).catch((function(e){return t(g(E.flareType.ERROR,e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},selectCcy:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:R.SELECT_CCY,payload:{ccyId:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},deselectCcy:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:R.DESELECT_CCY,payload:{}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(Ta),_a=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.verifyExists()}},{key:"componentDidUpdate",value:function(){this.verifyExists()}},{key:"verifyExists",value:function(){var e=this.props,t=e.countryId,n=e.ccyId,r=this.props.populationExists;t&&n&&r(t,n)}},{key:"render",value:function(){var e=this.props,t=e.countryId,n=e.ccyId,r=e.exists,o=this.props.createPopulation;return c.a.createElement(a.Fragment,null,c.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(""===t||""===n?"light":r?"secondary":"primary"),value:""===t||""===n?"Please select country and currency":r?"The selected population already exists":"Create population: "+t+" "+n,disabled:""===t||""===n||r,onClick:function(e){o(t,n)}},""===t||""===n?"Please select country and currency":r?"The selected population already exists":"Create population: "+t+" "+n),c.a.createElement("br",null),c.a.createElement("div",{className:"container-fluid row p-0 m-0"},c.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-center"},c.a.createElement(va,null)),c.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-center"},c.a.createElement(Na,null))))}}]),t}(a.Component),Ia=Object(s.b)((function(e){return{countryId:e.global.country.id,ccyId:e.global.ccy.id,exists:e.client.population.exists}}),{populationExists:function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",je(Le,$t+"/"+e+"/"+t,null)(r,a).then((function(e){r({type:R.POPULATION_EXISTS,payload:{exists:e.exists}})})).catch((function(e){return r(g(E.flareType.ERROR,e))})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},createPopulation:function(e,t){return function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:R.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS}),n.abrupt("return",je(ke,Kt+"/"+e+"/"+t,null)(r,a).then((function(e){r({type:R.POPULATION_EXISTS,payload:{exists:1}})})).catch((function(e){return r(g(E.flareType.ERROR,e))})).then((function(){return r({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})(_a),Ra=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return c.a.createElement(Se,{action:ba,text:"Delete Population",buttonType:"btn-secondary"})}}]),t}(a.Component),ga=Object(s.b)((function(e){return{}}),{deletePopulation:ba})(Ra),wa=function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e,t,n,r=this.props,o=r.brake,u=r.mincome,i=r.equality,l=r.warperMincome,s=r.warperEquality,p=r.tunePopulation;return c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement(ge,{text:"mincome",bold:!1,value:u,ccySymbol:""}),c.a.createElement(ge,{text:"equality",bold:!1,value:i,ccySymbol:""}),c.a.createElement(ge,{text:"brake",bold:!1,value:o,ccySymbol:""}),c.a.createElement(ge,{text:"warperMincome",bold:!1,value:l,ccySymbol:""}),c.a.createElement(ge,{text:"warperEquality",bold:!1,value:s,ccySymbol:""})),c.a.createElement("form",{onSubmit:function(){var r=Object(b.a)(y.a.mark((function r(a){return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a.preventDefault(),p(e.value,t.value,n.value);case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},c.a.createElement("input",{id:"newBrake",ref:function(t){return e=t},type:"text",className:"form-control form-control-sm",placeholder:o.toFixed(2),required:!0}),c.a.createElement("input",{id:"newWarperMincome",ref:function(e){return t=e},type:"text",className:"form-control form-control-sm",placeholder:l.toFixed(2),required:!0}),c.a.createElement("input",{id:"newWarperEquality",ref:function(e){return n=e},type:"text",className:"form-control form-control-sm",placeholder:s.toFixed(2),required:!0}),c.a.createElement("input",{className:"btn btn-sm p-0 btn-block btn-primary",type:"submit",value:"Change configuration"})))}}]),t}(a.Component),Aa=Object(s.b)((function(e){return{mincome:e.client.population.mincome,equality:e.client.population.equality,brake:e.client.population.brake,warperMincome:e.client.population.warperMincome,warperEquality:e.client.population.warperEquality}}),{tunePopulation:function(e,t,n){return function(){var r=Object(b.a)(y.a.mark((function r(a,c){return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:R.SET_BUSY,payload:I.BUSY_ACTION_POPULATIONS}),r.abrupt("return",je(ke,zt+"/"+c().client.population.id,{brake:e,warperMincome:t,warperEquality:n})(a,c).then((function(e){})).catch((function(e){return a(g(E.flareType.ERROR,e))})).then((function(){return a({type:R.SET_NOT_BUSY,payload:I.BUSY_ACTION_POPULATIONS})})));case 2:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}})(wa),Sa=(n(593),function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.busy,n=e.optionUserMenu,r=e.loggedIn,o=e.auth,u=e.identityCertified,i=e.isMember,l=e.member,s=this.props.close;return c.a.createElement("div",{className:"container-fluid row p-0 m-0 mb-5"},t?"User loading...":c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"col-lg-3 navbar-light"},r?c.a.createElement(qr,null):"",c.a.createElement(Br,null),r&&"USER"===n?c.a.createElement("div",null,c.a.createElement(Xr,null),c.a.createElement(Jr,null),c.a.createElement(Se,{text:"Close my account",action:s,buttonType:"btn-outline-red"})):""),c.a.createElement("div",{className:"col-lg-9 navbar-light p-0"},r?i?c.a.createElement("div",{className:"bg-light mr-2 ml-2 ml-lg-0"},c.a.createElement(kr,null),u<=0?c.a.createElement("div",null,c.a.createElement($r,null)):c.a.createElement(a.Fragment,null,o?c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"col-lg-4 navbar-light"},c.a.createElement(ga,null)),c.a.createElement("div",{className:"col-lg-4 navbar-light"},c.a.createElement(Aa,null))):c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"container-fluid row p-0 m-0"},c.a.createElement("div",{className:"col-lg-4 thrubiBlue navbar-light"},l.thrubiBlue||l.thrubiBlueNext||l.thrubiBlueEth||l.thrubiBlueAward||l.thrubiBlueAwardTotal||l.thrubiBlueClaimTotal?c.a.createElement(ca,null):""),c.a.createElement("div",{className:"col-lg-4 thrubiSilver navbar-light"},l.thrubiSilver||l.thrubiSilverNext||l.thrubiSilverEth||l.thrubiSilverTransformTotal?c.a.createElement(sa,null):""),c.a.createElement("div",{className:"col-lg-4 thrubiGold navbar-light"},l.thrubiGold?c.a.createElement(fa,null):""))))):c.a.createElement(a.Fragment,null,c.a.createElement(ya,null),o?c.a.createElement(Ia,null):""):c.a.createElement(Gr,null))))}}]),t}(a.Component)),Ca=Object(s.b)((function(e){return{busy:e.session.busy.component.user,optionUserMenu:e.client.user.optionUserMenu,role:e.client.user.role,loggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id,isMember:e.client.member.isMember,member:e.client.member,identityCertified:e.client.user.identityCertified}}),{deletePopulation:ba,close:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return t({type:R.SET_BUSY,payload:I.BUSY_COMPONENT_AUTH})})).then((function(){return t(je(ke,gt,{}))})).then((function(){return t(On({autoLogin:!1}))})).catch((function(e){return t(g(E.flareType.ERROR,E.errorFlare.ERR_ACCOUNT_CLOSE))})).finally((function(){return t({type:R.SET_NOT_BUSY,payload:I.BUSY_COMPONENT_AUTH})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(Sa),xa=Object(s.b)((function(e){return{nCountry:e.global.stats.nCountry,nCcy:e.global.stats.nCcy}}),{})((function(e){var t=e.nCcy,n=e.nCountry;return c.a.createElement("span",{className:"text-primary text-center small mr-2"},"Thrubi is launching in ",n," ",1===n?"country":"countries"," and ",t," ",1===t?"currency":"currencies",".")})),Pa=Object(s.b)((function(e){return{ethNetwork:e.client.userAccess.ethNetwork,ethAddress:e.client.userAccess.ethAddress}}))((function(e){var t=e.ethNetwork,n=e.ethAddress;return c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"d-block d-lg-none container-fluid flex-md-nowrap p-0 footer"},c.a.createElement("div",{className:"col-lg-12 float-right m-0 py-2 pt-2 text-center bg-light"},c.a.createElement("div",{className:"text-dark navbar-nav pb-2"},"Welcome to Thrubi!"),c.a.createElement(_e,null),c.a.createElement(xa,null)),t&&n?c.a.createElement("div",{className:"col-lg-12 float-right mx-0 my-0 mb-1 text-center bg-light"},c.a.createElement("div",{className:"navbar-nav small consoleFont"},c.a.createElement("div",null,c.a.createElement("span",{className:"badge badge-warning"},c.a.createElement("span",{className:""},"network/"),t),c.a.createElement("span",{className:"badge badge-info"},n)))):"",c.a.createElement("div",{className:"col-lg-12 float-right mx-0 my-0 mb-1 text-center bg-light"},c.a.createElement("div",{className:"my-2 text-center"},c.a.createElement("a",{className:"nav-link text-primary",href:"mailto:info@thrubi.com"},"Contact: info@thrubi.com")))),c.a.createElement("div",{className:"d-none d-lg-flex flex-md-nowrap p-0 container-fluid flex-grow-1 footer"},c.a.createElement("div",{className:"col-lg-12 float-right m-0 text-center bg-light"},c.a.createElement("div",{className:"my-2 text-center"},c.a.createElement(xa,null),c.a.createElement("a",{className:"nav-link text-primary",href:"mailto:info@thrubi.com"},"Contact: info@thrubi.com"))," ")))})),La=(n(594),function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.deactivated,n=e.flares,r=this.props,o=r.deleteFlare,u=r.refreshFlare;return c.a.createElement(a.Fragment,null,t?"":c.a.createElement("div",{className:"fixed-bottom flareBox"},Object.keys(n).map((function(e,t){return c.a.createElement("div",{key:e,role:"alert",onMouseOver:function(){return u(e,!0)},onMouseOut:function(){return u(e)},className:"alert alert-dismissible fade show "+(n[e].flareType===E.flareType.ERROR?"alert-red":n[e].flareType===E.flareType.WARNING?"alert-danger":"alert-secondary")},c.a.createElement("span",null,n[e].message?n[e].message.slice(0,200):"Internal error"),"\xa0",c.a.createElement("i",null,n[e].details?n[e].details.slice(0,200):""),c.a.createElement("button",{className:"close paddingX",type:"button",onClick:function(){return o(e)},"data-dismiss":"alert"},c.a.createElement("span",null,"\xd7")))}))))}}]),t}(a.Component)),ka=Object(s.b)((function(e){return{deactivated:e.session.flare.deactivated,flares:e.session.flare.flares}}),{deleteFlare:w,refreshFlare:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(function(){var n=Object(b.a)(y.a.mark((function n(r,a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then((function(){return clearTimeout(a().session.flare.flares[e].deleteTimeout)})).then((function(){return setTimeout((function(){return r(w(e))}),t?3e4:7e3)})).then((function(t){return r({type:R.REFRESH_FLARE_TIMEOUT,payload:{index:e,deleteTimeout:t}})})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}})(La),Ua=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().session.workers.globalStats,clearInterval(r),t({type:R.STOP_GLOBAL_STATS_WORKER,payload:{}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Fa=(n(595),function(e){function t(){return Object(O.a)(this,t),Object(ve.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Ne.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.sendRedirect;window.location.search?e():this.reload()}},{key:"componentWillUnmount",value:function(){Ua()}},{key:"reload",value:function(){var e=this.props,t=e.startGlobalStatsWorker,n=e.fetchChannels,r=e.enableBlockchain;return Promise.all([t(),n(),r()])}},{key:"render",value:function(){var e=this.props,t=e.busy,n=e.loggedIn;return c.a.createElement("div",{className:"thrubiApp text-primary d-flex flex-column align-items-stretch"},c.a.createElement(Ie,null),c.a.createElement("div",{className:"mainView"},n?"":c.a.createElement("div",{className:"w-100 py-2 pt-4 pb-1 text-center"},c.a.createElement("h4",{className:"display-4 d-inline-block p-2 pb-4"},"Rising inequality is toxic to growth"),c.a.createElement("i",{className:"d-inline-block"},"\xa0(Nick Hanauer)"),c.a.createElement("h5",{className:"m-0 px-2"},"Thrubi enables wealthy individuals to transfer money directly and simultaneously to everybody in their country"),c.a.createElement("h4",{className:"m-0 p-2"},"Our purpose? Solve extreme poverty."),c.a.createElement("h5",{className:"m-0 px-2"},"Create an account now and keep yourself up to date with the latest developments!"),c.a.createElement("p",{className:"p-2 pt-4"},"Thrubi is powered by in-house social models and public ",c.a.createElement("a",{target:"_blank",className:"text-primary",rel:"noopener noreferrer",href:"https://www.irs.gov"},"IRS.gov")," and ",c.a.createElement("a",{target:"_blank",className:"text-primary",rel:"noopener noreferrer",href:"https://wid.world"},"wid.world")," income inequality data.")),t?c.a.createElement("div",{className:"text-center"},"App loading... or Ethereum config not found. Please authorize Thrubi in MetaMask. Not sure what this means? Find out how to enable Thrubi ",c.a.createElement("b",null,"here"),"!"):c.a.createElement(Ca,null)),c.a.createElement(Pa,null),c.a.createElement(ka,null))}}]),t}(a.Component)),ja=Object(s.b)((function(e){return{busy:e.session.busy.component.app,loggedIn:e.client.userAccess.loggedIn}}),{startGlobalStatsWorker:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){return Promise.resolve().then((function(){return t(function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.abrupt("return",Promise.all([t(je(Le,Et,null)),t(je(Le,ht,null)),t(je(Le,yt,null))]).then((function(e){for(var t=0;t<=2;t++)for(var n in e[t])r[n]=e[t][n];return r})).catch((function(e){return t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.ERR_FETCH_GLOBAL_STATS)))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).then((function(e){t({type:R.RECEIVE_GLOBAL_STATS,payload:{globalStats:e}})})).catch((function(e){t(g(E.flareType.ERROR,E.flareFallback(e,E.errorFlare.ERR_RECEIVE_GLOBAL_STATS)))}))};return e(),e}(),3e4),t({type:R.RECEIVE_GLOBAL_STATS_WORKER,payload:{globalStatsWorker:r}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},stopGlobalStatsWorker:Ua,fetchChannels:Nn,enableBlockchain:function(){return function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r,a,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Be.a(Be.a.givenProvider),a=new r.eth.Contract(Ge,"0xeC6020cd56349ED60512c9985BdC5F3B7098315d"),t({type:R.RECEIVE_THRUBI_CONTRACT,payload:{thrubiContract:a}}),c=setInterval((function(){r.eth.net.getNetworkType().then((function(e){return{ethNetwork:e,changed:e!==n().client.userAccess.ethNetwork}})).then((function(e){return e.changed&&t({type:R.UPDATE_ETH_NETWORK,payload:{ethNetwork:e.ethNetwork}}),e}))}),1e3),t({type:R.RECEIVE_ETH_NETWORK_WORKER,payload:{ethNetworkWorker:c}}),o=setInterval((function(){window.ethereum.enable().then((function(){return r.eth.getAccounts()})).catch((function(e){return t(g(E.flareType.ERROR,E.errorFlare.CANNOT_ENABLE_ETHEREUM))})).then((function(e){return e[0]})).then((function(e){return{ethAddress:e,changed:e!==n().client.userAccess.ethAddress}})).then((function(e){return e.changed&&t(On({autoLogin:!1})),e})).then((function(e){return e.changed&&t({type:R.UPDATE_ETH_ADDRESS,payload:{ethAddress:e.ethAddress}}),e}))}),1e3),t({type:R.RECEIVE_ETH_ADDRESS_WORKER,payload:{ethAddressWorker:o}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},sendRedirect:Nr})(Fa),Da=(n(596),Oe());u.a.render(c.a.createElement(s.a,{store:Da},c.a.createElement(l.a,{basename:""},c.a.createElement(i.a,{exact:!0,path:"/",component:ja}))),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.52b9158a.chunk.js.map