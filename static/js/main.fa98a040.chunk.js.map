{"version":3,"sources":["reducers/customMiddleware/thunkWrap.js","actions/config/flare.js","reducers/config/actionTypes.js","actions/flare.js","reducers/customMiddleware/flareWrap.js","reducers/session/blockchain.js","reducers/session/flare.js","reducers/session/workers.js","reducers/session/busy.js","reducers/session.js","reducers/global/market.js","reducers/global/stats.js","reducers/global/country.js","reducers/global/ccy.js","reducers/global.js","actions/config/user.js","reducers/client/user.js","reducers/client/userAccess.js","reducers/client/population.js","reducers/client/member.js","reducers/client.js","reducers/reducers.js","reducers/thrubiApp.js","components/GlobalStats.js","components/Titlebar.js","classes/Channel.js","components/_ActionButton.js","actions/env/server.js","actions/config/http.js","actions/server.js","actions/market.js","actions/config/market.js","actions/env/workers.js","actions/config/server.js","actions/population.js","actions/member.js","components/MemberDelete.js","components/MemberOptions.js","components/MemberInfo.js","components/_CcyRow.js","actions/config/blockchain_ethereum.js","actions/env/blockchain_ethereum.js","actions/config/facebook.js","actions/config/auth.js","actions/env/auth.js","actions/auth.js","actions/blockchain_ethereum.js","actions/config/redirect.js","actions/env/redirect.js","actions/user.js","components/MemberDeclareIncome.js","components/MemberBar.js","components/_RadioButtons.js","components/_KeyboardChannel.js","components/Auth.js","components/Info.js","components/UserIcon.js","components/UserDetails.js","components/UserView.js","components/UserActivation.js","components/UserManageDetails.js","components/UserIdentity.js","components/Claim.js","components/_MemberBlue.js","components/ThrubiBlue.js","components/Transform.js","components/_MemberSilver.js","components/ThrubiSilver.js","components/_MemberGold.js","components/ThrubiGold.js","components/Populations.js","components/PopulationSelect.js","actions/adminMenu.js","components/Countries.js","components/Ccys.js","components/PopulationAdd.js","components/PopulationDelete.js","components/PopulationTune.js","components/User.js","components/Footer.js","components/Flare.js","actions/workers/globalStats.js","components/App.js","index.js"],"names":["thunkWrap","dispatch","getState","next","action","flareBook","flareType","ERROR","WARNING","INFO","flareFallback","flare","fallback","thrubiFlareId","details","infoFlare","DETECTED_ETH_NETWORK_CHANGE","message","DETECTED_ETH_ADDRESS_CHANGE","DEACTIVATED_ON","DEACTIVATED_OFF","EMAIL_VERIFIED_ON","EMAIL_VERIFIED_OFF","IDENTITY_CERTIFIED_ON","IDENTITY_CERTIFIED_OFF","INCOME_APPROVED_ON","INCOME_APPROVED_OFF","errorFlare","USER_ACTIVATION","UNEXPECTED_FLARE","THRUBI_SERVER_ERROR","THRUBI_CONNECTION_FAILED","FAILED_LOGOUT","FAILED_LOGIN","EXRATE_FETCH_ERROR","FB_NOT_FOUND","ERR_FETCH_GLOBAL_STATS","ERR_RECEIVE_GLOBAL_STATS","CANNOT_ENABLE_ETHEREUM","ERR_USER_DETAILS","ERR_ACCOUNT_CLOSE","ERR_GENERIC_USERMENU","ERR_PAY_CHANNEL_UPDATE","ERR_USER_CHANNEL_FETCH","ERR_CHANNEL_FETCH","ERR_USER_FLAGS","CHANNEL_CLOSED","MESSAGE_IGNORED","ERROR_STOP_TOKEN_REFRESH","actionType","APP_SHUTDOWN","LOGOUT","STOP_AUTO_LOGIN","UPDATE_ETH_NETWORK","UPDATE_ETH_ADDRESS","REFRESH_TOKENS","RECEIVE_CHANNELS","RECEIVE_USER_CHANNELS","RECEIVE_LOGIN_CHANNEL","RECEIVE_PAY_CHANNEL","RECEIVE_FACEBOOK_LOGIN_STATUS","RECEIVE_LINKEDIN_WINDOW_AND_LISTENER","CLEAR_LINKEDIN_WINDOW_AND_LISTENER","RECEIVE_LINKEDIN_LOGIN","RECEIVE_GOOGLE_WINDOW_AND_LISTENER","CLEAR_GOOGLE_WINDOW_AND_LISTENER","RECEIVE_GOOGLE_LOGIN","LOGIN","RECEIVE_USER_FLAGS","SET_USER_ACTIVATED","SET_USER_DEACTIVATED","RECEIVE_USER_DETAILS","DELETE_USER_DETAILS","ABANDON_KEYBOARD","CHOOSE_KEYBOARD","SWITCH_OPTION_LOGIN_CREATE","SWITCH_OPTION_USER_MENU","SET_OPTION_ADVANCED_MODE","SET_OPTION_VIEW_HISTORY","CHANGE_POPULATION","RECEIVE_POPULATIONS","CLEAR_POPULATION","SELECT_POPULATION","POPULATION_EXISTS","RECEIVE_THRUBI_PRICE_SILVER","RECEIVE_THRUBI_PRICE_SILVER_NEXT","RECEIVE_STATS","RECEIVE_CONFIG","CLEAR_MEMBER","RECEIVE_MEMBER","RECEIVE_CCYS","SELECT_CCY","DESELECT_CCY","RECEIVE_COUNTRIES","SELECT_COUNTRY","DESELECT_COUNTRY","RECEIVE_EXRATE","RECEIVE_GLOBAL_STATS","RECEIVE_THRUBI_CONTRACT","SET_BUSY","SET_NOT_BUSY","INCREASE_FLARE_NEXT","EMIT_FLARE","DELETE_FLARE","REFRESH_FLARE_TIMEOUT","RECEIVE_ETH_NETWORK_WORKER","RECEIVE_ETH_ADDRESS_WORKER","RECEIVE_REFRESH_TOKENS_WORKER","RECEIVE_GLOBAL_STATS_WORKER","RECEIVE_USER_WORKER","RECEIVE_MEMBER_WORKER","RECEIVE_MARKET_WORKER","RECEIVE_POPULATION_WORKER","STOP_ETH_NETWORK_WORKER","STOP_ETH_ADDRESS_WORKER","STOP_REFRESH_TOKENS_WORKER","STOP_GLOBAL_STATS_WORKER","STOP_USER_WORKER","STOP_MEMBER_WORKER","STOP_MARKET_WORKER","STOP_POPULATION_WORKER","Object","keys","map","key","busyPayload","BUSY_COMPONENT_APP","busyType","busyId","BUSY_COMPONENT_TITLEBAR","BUSY_COMPONENT_VIEWPORT","BUSY_COMPONENT_DASHBOARD","BUSY_COMPONENT_CLIENT","BUSY_COMPONENT_AUTH","BUSY_COMPONENT_USER","BUSY_COMPONENT_CLAIM","BUSY_COMPONENT_TRANSFORM","BUSY_COMPONENT_USERMENU","BUSY_COMPONENT_ADMINMENU","BUSY_ACTION_FETCHPOPULATIONS","BUSY_ACTION_ACTIVATION","BUSY_ACTION_CLAIM","BUSY_ACTION_TRANSFORM","BUSY_ACTION_USERDETAILS","BUSY_ACTION_ACTIVATEUSER","BUSY_ACTION_DECLAREINCOME","BUSY_ACTION_POPULATIONS","emitFlare","type","a","Promise","resolve","then","index","session","fallbackFlare","displayMessage","serverError","JSON","stringify","strDetails","displayDetails","payload","setTimeout","deleteFlare","deleteTimeout","clearTimeout","flares","flareWrap","catch","error","blockchainInit","thrubiContract","blockchain","state","assign","flareInit","deactivated","length","toString","filter","workersInit","ethNetwork","ethAddress","refreshTokens","globalStats","user","member","market","population","workers","ethNetworkWorker","ethAddressWorker","refreshTokensWorker","globalStatsWorker","userWorker","memberWorker","marketWorker","populationWorker","busyInit","component","app","titlebar","viewport","dashboard","client","auth","claim","transform","userMenu","adminMenu","fetchPopulations","activation","userDetails","activateUser","declareIncome","populations","busy","combineReducers","marketInit","exrate","statsInit","nUser","nCountry","nCcy","stats","countryInit","countries","id","country","countryId","ccyInit","ccys","ccy","ccyId","global","flags","emailVerified","identityCertified","incomeApproved","userFlags","flagFlare","newState","flag","activationState","detailName","userOptions","optionLoginCreate","CREATE","optionUserMenu","ADD","USER","PAY","MANAGE","optionKeyboardMode","UPDATE","userInit","role","name","surname","email","document","optionAdvancedMode","optionViewHistory","parseInt","userId","userRole","userAccessInit","autoLogin","loggedIn","loginChannel","payChannel","channels","BLOCKCHAIN_ETHEREUM","KEYBOARD","FACEBOOK","LINKEDIN","GOOGLE","PAYPAL","facebookStatus","facebookUserId","facebookUserAccessToken","linkedInWindow","linkedInListener","linkedInCode","linkedInState","googleWindow","googleListener","googleCode","accessJwt","refreshJwt","userAccess","code","populationInit","exists","countryName","ccyName","ccySymbol","thrubiPriceSilver","thrubiPriceSilverNext","thrubiPriceGold","brake","mincome","equality","warperMincome","warperEquality","thrubiFees","populationId","parseFloat","config","memberInit","isMember","mCurrent","thrubiMode","thrubiBlue","thrubiBlueNext","thrubiBlueEth","thrubiBlueAward","thrubiBlueAwardTotal","thrubiBlueClaimTotal","thrubiSilver","thrubiSilverNext","thrubiSilverEth","thrubiSilverTransformTotal","thrubiGold","thrubiSilverRedeem","reducers","middlewares","push","createLogger","thrubiApp","createStore","applyMiddleware","GlobalStats","connect","className","Titlebar","src","process","alt","height","width","Channel","channelMode","Math","abs","channelName","_ActionButton","text","buttonType","disabled","channel","onClick","event","preventDefault","channelColor","uri","requestType","headers","processRequest","requestUri","json","reject","callback","response","packet","result","body","statusCode","errorPackage","options","url","request","get","post","startMarketWorker","setInterval","activity","data","amount","stopMarketWorker","clearInterval","endpoint","selectPopulation","deselectPopulation","stopMemberWorker","stopPopulationWorker","startPopulationWorker","fetchThrubiPriceSilver","fetchThrubiPriceSilverNext","fetchStats","fetchConfig","startMemberWorker","_MemberDelete","this","props","removeMembership","Component","MemberDelete","_MemberOptions","advancedMode","viewHistory","MemberOptions","MemberInfo","toFixed","_CcyRow","bold","value","isNaN","ethEventType","THRUBI_ABI","facebook","connected","unknown","not_authorized","linkedInAuthUri","linkedInRedirectUri","linkedInAppState","linkedInAppClientId","googleAuthUri","googleRedirectUri","googleAppClientId","switchOptionLoginCreate","logout","cancelRefreshTokens","fetchChannels","stopUserWorker","FBlogout","finally","scheduleRefreshTokens","intervalTime","tokens","accessJwtExpiry","console","i","fetchUserChannels","deleteChannel","setPayChannel","channelIsOpen","switchOptionUserMenu","newPayChannel","finalizeLogin","loginData","loginError","fetchDetails","activateUserWorker","verifyBlockchainEthereum","challengeTokens","challengeJwt","hashedJwt","hash","web3","Web3","givenProvider","eth","personal","sign","signedMessage","challengeSolution","createBlockchainEthereum","solvedChallenge","loginBlockchainEthereum","addBlockchainEthereum","updateBlockchainEthereum","createKeyboardForm","username","password","loginKeyboardForm","addKeyboardForm","abandonKeyboard","updateKeyboardForm","chooseKeyboard","createKeyboard","loginKeyboard","addKeyboard","updateKeyboard","receiveFacebookLoginStatus","loginStatus","facebookLoginStatus","status","authResponse","userID","accessToken","FBgetLoginStatus","resolveFBlogin","window","FB","resolveFBgetLoginStatus","getLoginStatus","resolveFBlogout","connectFacebook","login","scope","fetchFacebookDetails","api","facebookDetails","first_name","last_name","storeDetails","overwrite","createFacebook","fbLoginPackage","loginFacebook","addFacebook","updateFacebook","processLinkedInLogin","waitingHandleResolve","origin","pjRenamed","removeEventListener","close","startupLinkedInLogin","linkedInInterval","waitingHandle","closed","openNewWindow","open","focus","addEventListener","createLinkedIn","liLoginPackage","loginLinkedIn","addLinkedIn","updateLinkedIn","processGoogleLogin","startupGoogleLogin","googleInterval","createGoogle","gLoginPackage","loginGoogle","addGoogle","updateGoogle","createPayPal","loginPayPal","addPayPal","updatePayPal","sendRedirect","location","search","params","parse","decodeURI","replace","pJson","opener","postMessage","detail","detailValue","_MemberDeclareIncome","mDeclared","declareIncomeBusy","ref","input","placeholder","required","MemberDeclareIncome","MemberBar","_RadioButtons","columnSize","activeFilter","color","checkedFilter","elements","data-toggle","element","defaultChecked","_KeyboardChannel","abandonAction","abandonButtonType","refs","_Auth","toLowerCase","channelAuthFunctionName","keyboardChannelMessage","channelIsForLogin","channelUserFriendlyName","authFunction","disabledFilter","channelIsForPay","mode","actions","Auth","_Info","style","Info","_UserIcon","UserIcon","_UserDetails","UserDetails","_UserView","UserView","UserActivation","activateUserBusy","deactivateUser","UserManageDetails","updateUserBusy","deleteDetails","fieldClassName","_UserIdentity","uploadDocument","UserIdentity","_Claim","claimProcedureActive","claimBusy","setState","Claim","_MemberBlue","_ThrubiBlue","showPanel","manualPanel","userLoggedIn","ThrubiBlue","_Transform","transformEthValue","transformProcedureActive","transformBusy","onSubmit","transformEthRef","onChange","newValue","Transform","transformEth","transformContract","methods","send","from","once","_MemberSilver","_ThrubiSilver","ThrubiSilver","_MemberGold","_ThrubiGold","ThrubiGold","_Populations","Populations","_PopulationSelect","reload","populationsBusy","populationsNotAvailable","createMember","PopulationSelect","p","forEach","deletePopulation","_Countries","fetchCountries","selectCountry","deselectCountry","Countries","_Ccys","fetchCcys","selectCcy","deselectCcy","Ccys","_PopulationAdd","verifyExists","populationExists","createPopulation","PopulationAdd","_PopulationDelete","PopulationDelete","_PopulationTune","newBrake","newWarperMincome","newWarperEquality","tunePopulation","PopulationTune","_User","User","Footer","_Flare","refreshFlare","onMouseOver","onMouseOut","slice","data-dismiss","Flare","long","stopGlobalStatsWorker","_App","startGlobalStatsWorker","enableBlockchain","all","App","results","Contract","net","getNetworkType","changed","ethereum","enable","getAccounts","accounts","store","ReactDOM","render","basename","exact","path","getElementById"],"mappings":"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","file":"static/js/main.fa98a040.chunk.js","sourcesContent":["const thunkWrap = ({dispatch,getState}) => next => action => {\r\n    if (typeof action.action === \"function\") {\r\n        return action.action(action => dispatch({action}),getState);\r\n    }\r\n\r\n    return next(action.action);\r\n};\r\n\r\nexport default thunkWrap;\r\n\r\n","const flareBook = {\r\n    flareType: {\r\n        ERROR:      \"ERROR\",\r\n        WARNING:    \"WARNING\",\r\n        INFO:       \"INFO\",\r\n    },\r\n    flareFallback: (flare,fallback) => {\r\n        if (flare && flare.thrubiFlareId) {\r\n            return flare;\r\n        } else {\r\n            fallback.details=flare;\r\n            return fallback;\r\n        }\r\n    },\r\n    infoFlare: {\r\n        DETECTED_ETH_NETWORK_CHANGE:{thrubiFlareId:\"I001\",message:\"Detected Ethereum network change\"},\r\n        DETECTED_ETH_ADDRESS_CHANGE:{thrubiFlareId:\"I002\",message:\"Detected Ethereum address change\"},\r\n        DEACTIVATED_ON:             {thrubiFlareId:\"I003\",message:\"User account is deactivated\"},\r\n        DEACTIVATED_OFF:            {thrubiFlareId:\"I004\",message:\"User account is now active\"},\r\n        EMAIL_VERIFIED_ON:          {thrubiFlareId:\"I005\",message:\"Email address has been verified\"},\r\n        EMAIL_VERIFIED_OFF:         {thrubiFlareId:\"I006\",message:\"Unverified email address detected. Please verify.\"},\r\n        IDENTITY_CERTIFIED_ON:      {thrubiFlareId:\"I007\",message:\"Identity document certified\"},\r\n        IDENTITY_CERTIFIED_OFF:     {thrubiFlareId:\"I008\",message:\"Non-certified identity document detected. Please certify.\"},\r\n        INCOME_APPROVED_ON:         {thrubiFlareId:\"I009\",message:\"Declared income has been officially approved\"},\r\n        INCOME_APPROVED_OFF:        {thrubiFlareId:\"I010\",message:\"Newly declared income is not approved, please check.\"},\r\n    },\r\n    errorFlare: {\r\n        USER_ACTIVATION:            {thrubiFlareId:\"0021\",message:\"User activation module error\"},\r\n        UNEXPECTED_FLARE:           {thrubiFlareId:\"0009\",message:\"Flares must have an ID to be dispatched\"},\r\n        THRUBI_SERVER_ERROR:        {thrubiFlareId:\"0001\",message:\"Thrubi server returned an error\"},\r\n        THRUBI_CONNECTION_FAILED:   {thrubiFlareId:\"0002\",message:\"Thrubi server not available, please check your connection\"},\r\n        FAILED_LOGOUT:              {thrubiFlareId:\"0003\",message:\"Unable to logout\"},\r\n        FAILED_LOGIN:               {thrubiFlareId:\"0008\",message:\"Login failed\"},\r\n        EXRATE_FETCH_ERROR:         {thrubiFlareId:\"0010\",message:\"Failed fetching exchange rate from Coinbase server\"},\r\n        FB_NOT_FOUND:               {thrubiFlareId:\"0004\",message:\"Unable to connect to Facebook\"},\r\n        ERR_FETCH_GLOBAL_STATS:     {thrubiFlareId:\"0011\",message:\"Error while receiving global stats\"},\r\n        ERR_RECEIVE_GLOBAL_STATS:   {thrubiFlareId:\"0012\",message:\"Error while processing global stats\"},\r\n        CANNOT_ENABLE_ETHEREUM:     {thrubiFlareId:\"0013\",message:\"Could not enable Ethereum\"},\r\n        ERR_USER_DETAILS:           {thrubiFlareId:\"0014\",message:\"Error processing user details\"},\r\n        ERR_ACCOUNT_CLOSE:          {thrubiFlareId:\"0015\",message:\"Could not close user account\"},\r\n        ERR_GENERIC_USERMENU:       {thrubiFlareId:\"0016\",message:\"Internal: error with an user menu operation\"},\r\n        ERR_PAY_CHANNEL_UPDATE:     {thrubiFlareId:\"0017\",message:\"Error updating user pay channel\"},\r\n        ERR_USER_CHANNEL_FETCH:     {thrubiFlareId:\"0018\",message:\"Error fetching user channels\"},\r\n        ERR_CHANNEL_FETCH:          {thrubiFlareId:\"0019\",message:\"Error fetching channels\"},\r\n        ERR_USER_FLAGS:             {thrubiFlareId:\"0020\",message:\"Could not update user flags\"},\r\n        CHANNEL_CLOSED:             {thrubiFlareId:\"0005\",message:\"Switching to Add Channel page, channel is not open\"},\r\n        MESSAGE_IGNORED:            {thrubiFlareId:\"0006\",message:\"Internal: message from login popup ignored\"},\r\n        ERROR_STOP_TOKEN_REFRESH:   {thrubiFlareId:\"0007\",message:\"Internal: error stopping token refresh\"},\r\n    },\r\n};\r\n\r\nexport default flareBook;\r\n\r\nexport const TIMEOUT_FLARE_DELETE = 7000;\r\nexport const TIMEOUT_FLARE_DELETE_LONG = 30000;","let actionType = {\r\n    APP_SHUTDOWN: null,\r\n    LOGOUT: null,\r\n    STOP_AUTO_LOGIN: null,\r\n    UPDATE_ETH_NETWORK: null,\r\n    UPDATE_ETH_ADDRESS: null,\r\n    REFRESH_TOKENS: null,\r\n    RECEIVE_CHANNELS: null,\r\n    RECEIVE_USER_CHANNELS: null,\r\n    RECEIVE_LOGIN_CHANNEL: null,\r\n    RECEIVE_PAY_CHANNEL: null,\r\n    RECEIVE_FACEBOOK_LOGIN_STATUS: null,\r\n    RECEIVE_LINKEDIN_WINDOW_AND_LISTENER: null,\r\n    CLEAR_LINKEDIN_WINDOW_AND_LISTENER: null,\r\n    RECEIVE_LINKEDIN_LOGIN: null,\r\n    RECEIVE_GOOGLE_WINDOW_AND_LISTENER: null,\r\n    CLEAR_GOOGLE_WINDOW_AND_LISTENER: null,\r\n    RECEIVE_GOOGLE_LOGIN: null,\r\n    LOGIN: null,\r\n    RECEIVE_USER_FLAGS: null,\r\n    SET_USER_ACTIVATED: null,\r\n    SET_USER_DEACTIVATED: null,\r\n    RECEIVE_USER_DETAILS: null,\r\n    DELETE_USER_DETAILS: null,\r\n    ABANDON_KEYBOARD: null,\r\n    CHOOSE_KEYBOARD: null,\r\n    SWITCH_OPTION_LOGIN_CREATE: null,\r\n    SWITCH_OPTION_USER_MENU: null,\r\n    SET_OPTION_ADVANCED_MODE: null,\r\n    SET_OPTION_VIEW_HISTORY: null,\r\n    CHANGE_POPULATION: null,\r\n    RECEIVE_POPULATIONS: null,\r\n    CLEAR_POPULATION: null,\r\n    SELECT_POPULATION: null,\r\n    POPULATION_EXISTS: null,\r\n    RECEIVE_THRUBI_PRICE_SILVER: null,\r\n    RECEIVE_THRUBI_PRICE_SILVER_NEXT: null,\r\n    RECEIVE_STATS: null,\r\n    RECEIVE_CONFIG: null,\r\n    CLEAR_MEMBER: null,\r\n    RECEIVE_MEMBER: null,\r\n    RECEIVE_CCYS: null,\r\n    SELECT_CCY: null,\r\n    DESELECT_CCY: null,\r\n    RECEIVE_COUNTRIES: null,\r\n    SELECT_COUNTRY: null,\r\n    DESELECT_COUNTRY: null,\r\n    RECEIVE_EXRATE: null,\r\n    RECEIVE_GLOBAL_STATS: null,\r\n    RECEIVE_THRUBI_CONTRACT: null,\r\n    SET_BUSY: null,\r\n    SET_NOT_BUSY: null,\r\n    INCREASE_FLARE_NEXT: null,\r\n    EMIT_FLARE: null,\r\n    DELETE_FLARE: null,\r\n    REFRESH_FLARE_TIMEOUT: null,\r\n    RECEIVE_ETH_NETWORK_WORKER: null,\r\n    RECEIVE_ETH_ADDRESS_WORKER: null,\r\n    RECEIVE_REFRESH_TOKENS_WORKER: null,\r\n    RECEIVE_GLOBAL_STATS_WORKER: null,\r\n    RECEIVE_USER_WORKER: null,\r\n    RECEIVE_MEMBER_WORKER: null,\r\n    RECEIVE_MARKET_WORKER: null,\r\n    RECEIVE_POPULATION_WORKER: null,\r\n    STOP_ETH_NETWORK_WORKER: null,\r\n    STOP_ETH_ADDRESS_WORKER: null,\r\n    STOP_REFRESH_TOKENS_WORKER: null,\r\n    STOP_GLOBAL_STATS_WORKER: null,\r\n    STOP_USER_WORKER: null,\r\n    STOP_MEMBER_WORKER: null,\r\n    STOP_MARKET_WORKER: null,\r\n    STOP_POPULATION_WORKER: null,\r\n};\r\n\r\nObject.keys(actionType).map(key => actionType[key]=key);\r\n\r\nexport const busyPayload =  {\r\n    BUSY_COMPONENT_APP:             {busyType:\"component\",busyId:\"app\"},\r\n    BUSY_COMPONENT_TITLEBAR:        {busyType:\"component\",busyId:\"titlebar\"},\r\n    BUSY_COMPONENT_VIEWPORT:        {busyType:\"component\",busyId:\"viewport\"},\r\n    BUSY_COMPONENT_DASHBOARD:       {busyType:\"component\",busyId:\"dashboard\"},\r\n    BUSY_COMPONENT_CLIENT:          {busyType:\"component\",busyId:\"client\"},\r\n    BUSY_COMPONENT_AUTH:            {busyType:\"component\",busyId:\"auth\"},\r\n    BUSY_COMPONENT_USER:            {busyType:\"component\",busyId:\"user\"},\r\n    BUSY_COMPONENT_CLAIM:           {busyType:\"component\",busyId:\"claim\"},\r\n    BUSY_COMPONENT_TRANSFORM:       {busyType:\"component\",busyId:\"transform\"},\r\n    BUSY_COMPONENT_USERMENU:        {busyType:\"component\",busyId:\"userMenu\"},\r\n    BUSY_COMPONENT_ADMINMENU:       {busyType:\"component\",busyId:\"adminMenu\"},\r\n    BUSY_ACTION_FETCHPOPULATIONS:   {busyType:\"action\",busyId:\"fetchPopulations\"},\r\n    BUSY_ACTION_ACTIVATION:         {busyType:\"action\",busyId:\"activation\"},\r\n    BUSY_ACTION_CLAIM:              {busyType:\"action\",busyId:\"claim\"},\r\n    BUSY_ACTION_TRANSFORM:          {busyType:\"action\",busyId:\"transform\"},\r\n    BUSY_ACTION_USERDETAILS:        {busyType:\"action\",busyId:\"userDetails\"},\r\n    BUSY_ACTION_ACTIVATEUSER:       {busyType:\"action\",busyId:\"activateUser\"},\r\n    BUSY_ACTION_DECLAREINCOME:      {busyType:\"action\",busyId:\"declareIncome\"},\r\n    BUSY_ACTION_POPULATIONS:        {busyType:\"action\",busyId:\"populations\"},\r\n};\r\n\r\nexport default actionType;","import flareBook, {TIMEOUT_FLARE_DELETE,TIMEOUT_FLARE_DELETE_LONG} from \"./config/flare\";\r\nimport actionType from \"../reducers/config/actionTypes\";\r\n\r\nexport const emitFlare = (type,flare) => async (dispatch,getState) => {\r\n    let index,fallbackFlare,displayMessage,displayDetails;\r\n    return Promise.resolve()\r\n        .then(()            => index = getState().session.flare.next)\r\n        .then(()            => fallbackFlare = flareBook.flareFallback(flare,flareBook.errorFlare.UNEXPECTED_FLARE))\r\n        .then(()            => displayMessage = fallbackFlare.thrubiFlareId===flareBook.errorFlare.THRUBI_SERVER_ERROR.thrubiFlareId ? fallbackFlare.serverError : fallbackFlare.message)\r\n        .then(()            => JSON.stringify(fallbackFlare.details))\r\n        .then(strDetails    => displayDetails = typeof fallbackFlare.details === \"string\" ? fallbackFlare.details : strDetails)\r\n        .then(()            => dispatch({type:actionType.INCREASE_FLARE_NEXT,payload:{}}))\r\n        .then(()            => setTimeout(() => dispatch(deleteFlare(index)),TIMEOUT_FLARE_DELETE))\r\n        .then(deleteTimeout => dispatch({type:actionType.EMIT_FLARE,payload:{index,type,message:displayMessage,details:displayDetails,deleteTimeout}}));\r\n};\r\n\r\nexport const deleteFlare = index => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then(()            => clearTimeout(getState().session.flare.flares[index].deleteTimeout))\r\n        .then(()            => dispatch({type:actionType.DELETE_FLARE,payload:{index}}));\r\n};\r\n\r\nexport const refreshFlare = (index,long=false) => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then(()            => clearTimeout(getState().session.flare.flares[index].deleteTimeout))\r\n        .then(()            => setTimeout(() => dispatch(deleteFlare(index)),long?TIMEOUT_FLARE_DELETE_LONG:TIMEOUT_FLARE_DELETE))\r\n        .then(deleteTimeout => dispatch({type:actionType.REFRESH_FLARE_TIMEOUT,payload:{index,deleteTimeout}}));\r\n};","import flareBook from \"../../actions/config/flare\";\r\nimport {emitFlare} from \"../../actions/flare\";\r\n\r\nconst flareWrap = ({dispatch,getState}) => next => action => {\r\n    if (typeof action === \"function\") { //it is the outer one\r\n        return dispatch({action})       //wrap it (note: emitFlare in the catch also wrapped)\r\n            .catch(error => {dispatch({action:emitFlare(flareBook.flareType.ERROR,error)});});\r\n    }  else if (action.action) {        //it has been wrapped\r\n        return next(action);\r\n    }\r\n};\r\n\r\nexport default flareWrap;\r\n\r\n","import actionType from \"../config/actionTypes\";\r\n\r\nconst blockchainInit = {\r\n    thrubiContract: {},\r\n};\r\n\r\nconst blockchain = (state = blockchainInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.RECEIVE_THRUBI_CONTRACT:\r\n            return Object.assign({},state,{thrubiContract:action.payload.thrubiContract});\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default blockchain;","import actionType from \"../config/actionTypes\";\r\n\r\nconst flareInit = {\r\n    deactivated: true,\r\n    next: 0,\r\n    flares: {},\r\n};\r\n\r\nconst flare = (state = flareInit, action) => {\r\n    switch (action.type) {\r\n        case actionType.INCREASE_FLARE_NEXT:\r\n            return Object.assign({},state,{\r\n                next:           state.next+1,\r\n            });\r\n        case actionType.EMIT_FLARE:\r\n            return Object.assign({},state,{\r\n                deactivated:    false,\r\n                flares:         Object.assign({},state.flares,{\r\n                    [action.payload.index]:{\r\n                        type:           action.payload.type,\r\n                        message:        action.payload.message,\r\n                        details:        action.payload.details,\r\n                        deleteTimeout:  action.payload.deleteTimeout,\r\n                    }\r\n                }),\r\n            });\r\n        case actionType.DELETE_FLARE:\r\n            return Object.assign({},state,{\r\n                deactivated:    (Object.keys(state.flares).length===1)&&(Object.keys(state.flares)[0]===action.payload.index),\r\n                flares:         Object.assign({},\r\n                    ...Object.keys(state.flares)\r\n                        .map(index => {if (index.toString()!==action.payload.index.toString()) return {[index]:state.flares[index]}; else return null;})\r\n                        .filter(flare => flare!==null)),\r\n            });\r\n        case actionType.REFRESH_FLARE_TIMEOUT:\r\n            return Object.assign({},state,{\r\n                deactivated:    state.deactivated,\r\n                flares:         Object.assign({},state.flares,{\r\n                    [action.payload.index]:{\r\n                        type:           state.flares[action.payload.index].type,\r\n                        message:        state.flares[action.payload.index].message,\r\n                        details:        state.flares[action.payload.index].details,\r\n                        deleteTimeout:  action.payload.deleteTimeout,\r\n                    }\r\n                }),\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default flare;","import actionType from \"../config/actionTypes\";\r\n\r\nconst workersInit = {\r\n    ethNetwork: null,\r\n    ethAddress: null,\r\n    refreshTokens: null,\r\n    globalStats: null,\r\n    user: null,\r\n    member: null,\r\n    market: null,\r\n    population: null,\r\n};\r\n\r\nconst workers = (state = workersInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.RECEIVE_ETH_NETWORK_WORKER:\r\n            return Object.assign({},state,{ethNetwork:action.payload.ethNetworkWorker,});\r\n        case actionType.RECEIVE_ETH_ADDRESS_WORKER:\r\n            return Object.assign({},state,{ethAddress:action.payload.ethAddressWorker,});\r\n        case actionType.RECEIVE_REFRESH_TOKENS_WORKER:\r\n            return Object.assign({},state,{refreshTokens:action.payload.refreshTokensWorker,});\r\n        case actionType.RECEIVE_GLOBAL_STATS_WORKER:\r\n            return Object.assign({},state,{globalStats:action.payload.globalStatsWorker,});\r\n        case actionType.RECEIVE_USER_WORKER:\r\n            return Object.assign({},state,{user:action.payload.userWorker,});\r\n        case actionType.RECEIVE_MEMBER_WORKER:\r\n            return Object.assign({},state,{member:action.payload.memberWorker,});\r\n        case actionType.RECEIVE_MARKET_WORKER:\r\n            return Object.assign({},state,{market:action.payload.marketWorker,});\r\n        case actionType.RECEIVE_POPULATION_WORKER:\r\n            return Object.assign({},state,{population:action.payload.populationWorker,});\r\n        case actionType.STOP_ETH_NETWORK_WORKER:\r\n            return Object.assign({},state,{ethNetwork:null,});\r\n        case actionType.STOP_ETH_ADDRESS_WORKER:\r\n            return Object.assign({},state,{ethAddress:null,});\r\n        case actionType.STOP_REFRESH_TOKENS_WORKER:\r\n            return Object.assign({},state,{refreshTokens:null,});\r\n        case actionType.STOP_GLOBAL_STATS_WORKER:\r\n            return Object.assign({},state,{globalStats:null,});\r\n        case actionType.STOP_USER_WORKER:\r\n            return Object.assign({},state,{user:null,});\r\n        case actionType.STOP_MEMBER_WORKER:\r\n            return Object.assign({},state,{member:null,});\r\n        case actionType.STOP_MARKET_WORKER:\r\n            return Object.assign({},state,{market:null,});\r\n        case actionType.STOP_POPULATION_WORKER:\r\n            return Object.assign({},state,{population:null,});\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default workers;","import actionType from \"../config/actionTypes\";\r\n\r\nconst busyInit = {\r\n    component: {\r\n        app:                false,\r\n        titlebar:           false,\r\n        viewport:           false,\r\n        dashboard:          false,\r\n        client:             false,\r\n        auth:               false,\r\n        user:               false,\r\n        claim:              false,\r\n        transform:          false,\r\n        userMenu:           false,\r\n        adminMenu:          false,\r\n    },\r\n    action: {\r\n        fetchPopulations:   false,\r\n        activation:         false,\r\n        claim:              false,\r\n        transform:          false,\r\n        userDetails:        false,\r\n        activateUser:       false,\r\n        declareIncome:      false,\r\n        populations:        false,\r\n    }\r\n};\r\n\r\nconst busy = (state = busyInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.SET_BUSY:\r\n            return Object.assign({},state,{\r\n                [action.payload.busyType]: Object.assign({}, state[action.payload.busyType], {\r\n                    [action.payload.busyId]: true\r\n                })\r\n            });\r\n        case actionType.SET_NOT_BUSY:\r\n            return Object.assign({},state,{\r\n                [action.payload.busyType]: Object.assign({}, state[action.payload.busyType], {\r\n                    [action.payload.busyId]: false\r\n                })\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default busy;","import blockchain from \"./session/blockchain\";\r\nimport flare from \"./session/flare\";\r\nimport workers from \"./session/workers\";\r\nimport busy from \"./session/busy\";\r\nimport {combineReducers} from \"redux\";\r\n\r\nconst session = combineReducers({\r\n    blockchain,\r\n    workers,\r\n    busy,\r\n    flare,\r\n});\r\n\r\nexport default session;\r\n","import actionType from \"../config/actionTypes\";\r\n\r\nconst marketInit = {\r\n    exrate: 0,\r\n};\r\n\r\nconst market = (state = marketInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.RECEIVE_EXRATE:\r\n            return Object.assign({},state,{exrate: action.payload.exrate});\r\n        case actionType.STOP_MARKET_WORKER:\r\n            return ({exrate:0});\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default market;","import actionType from \"../config/actionTypes\";\r\n\r\nconst statsInit = {\r\n    nUser: 0,\r\n    nCountry: 0,\r\n    nCcy: 0,\r\n};\r\n\r\nconst stats = (state = statsInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.RECEIVE_GLOBAL_STATS:\r\n            return {\r\n                nUser: action.payload.globalStats.nUser,\r\n                nCountry: action.payload.globalStats.nCountry,\r\n                nCcy: action.payload.globalStats.nCcy,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default stats;","import actionType from \"../config/actionTypes\";\r\n\r\nconst countryInit = {\r\n    countries: [],\r\n    id: null,\r\n};\r\n\r\nconst country = (state = countryInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.RECEIVE_COUNTRIES:\r\n            return Object.assign({},state,{\r\n                countries: action.payload.countries,\r\n            });\r\n        case actionType.SELECT_COUNTRY:\r\n            return Object.assign({},state,{\r\n                id: action.payload.countryId,\r\n            });\r\n        case actionType.DESELECT_COUNTRY:\r\n            return Object.assign({},state,{\r\n                id: null,\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default country;","import actionType from \"../config/actionTypes\";\r\n\r\nconst ccyInit = {\r\n    ccys: [],\r\n    id: null,\r\n};\r\n\r\nconst ccy = (state = ccyInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.RECEIVE_CCYS:\r\n            return Object.assign({},state,{\r\n                ccys: action.payload.ccys,\r\n            });\r\n        case actionType.SELECT_CCY:\r\n            return Object.assign({},state,{\r\n                id: action.payload.ccyId,\r\n            });\r\n        case actionType.DESELECT_CCY:\r\n            return Object.assign({},state,{\r\n                id: null,\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default ccy;","import market from \"./global/market\";\r\nimport stats from \"./global/stats\";\r\nimport country from \"./global/country\";\r\nimport ccy from \"./global/ccy\";\r\nimport {combineReducers} from \"redux\";\r\n\r\nconst global = combineReducers({\r\n    market,\r\n    stats,\r\n    country,\r\n    ccy,\r\n});\r\n\r\nexport default global;\r\n","import flareBook from \"./flare\";\r\n\r\nconst userOptions = {\r\n    optionLoginCreate: {\r\n        LOGIN:  \"LOGIN\",\r\n        CREATE: \"CREATE\",\r\n    },\r\n    optionUserMenu: {\r\n        ADD:    \"ADD\",\r\n        USER:   \"USER\",\r\n        PAY:    \"PAY\",\r\n        MANAGE: \"MANAGE\",\r\n    },\r\n    optionKeyboardMode: {\r\n        ADD:    \"ADD\",\r\n        UPDATE: \"UPDATE\",\r\n    },\r\n};\r\n\r\nconst flags = {\r\n    deactivated:null,\r\n    emailVerified:null,\r\n    identityCertified:null,\r\n    incomeApproved:null,\r\n};\r\n\r\nObject.keys(flags).map(key => flags[key]=key);\r\n\r\nexport const userFlags = flags;\r\n\r\nexport const flagFlare = (newState,flag) => {\r\n    if (newState) {\r\n        switch (flag) {\r\n            case userFlags.deactivated:         return flareBook.infoFlare.DEACTIVATED_ON;\r\n            case userFlags.emailVerified:       return flareBook.infoFlare.EMAIL_VERIFIED_ON;\r\n            case userFlags.identityCertified:   return flareBook.infoFlare.IDENTITY_CERTIFIED_ON;\r\n            case userFlags.incomeApproved:      return flareBook.infoFlare.INCOME_APPROVED_ON;\r\n            default: return null;\r\n        }\r\n    } else {\r\n        switch (flag) {\r\n            case userFlags.deactivated:         return flareBook.infoFlare.DEACTIVATED_OFF;\r\n            case userFlags.emailVerified:       return flareBook.infoFlare.EMAIL_VERIFIED_OFF;\r\n            case userFlags.identityCertified:   return flareBook.infoFlare.IDENTITY_CERTIFIED_OFF;\r\n            case userFlags.incomeApproved:      return flareBook.infoFlare.INCOME_APPROVED_OFF;\r\n            default: return null;\r\n        }\r\n    }\r\n};\r\n\r\nexport const activationState = {\r\n    activated:              0,\r\n    userRequestDeactivated: 1,\r\n};\r\n\r\n\r\nexport const detailName = {\r\n    name:               \"name\",\r\n    surname:            \"surname\",\r\n    email:              \"email\",\r\n    document:           \"document\",\r\n    submittedDocument:  \"submittedDocument\",\r\n};\r\n\r\nexport default userOptions;","import actionType from \"../config/actionTypes\";\r\nimport userOptions from \"../../actions/config/user\";\r\n\r\nconst userInit = {\r\n    id: null,\r\n    role: null,\r\n    deactivated: null,\r\n    emailVerified: null,\r\n    identityCertified: null,\r\n    incomeApproved: null,\r\n    name: null,\r\n    surname: null,\r\n    email: null,\r\n    document: null,\r\n    optionKeyboardMode: null,\r\n    optionLoginCreate: userOptions.optionLoginCreate.LOGIN,\r\n    optionUserMenu: userOptions.optionUserMenu.ADD,\r\n    optionAdvancedMode: false,\r\n    optionViewHistory: false,\r\n};\r\n\r\nconst user = (state = userInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.APP_SHUTDOWN:\r\n        case actionType.LOGOUT:\r\n            return Object.assign({},userInit);\r\n        case actionType.LOGIN:\r\n            return Object.assign({},state,{\r\n                id:                     parseInt(action.payload.userId),\r\n                role:                   parseInt(action.payload.userRole),\r\n                optionKeyboardMode:     null,\r\n            });\r\n        case actionType.RECEIVE_USER_FLAGS:\r\n            return Object.assign({},state,{\r\n                deactivated:            parseInt(action.payload.deactivated)        === state.deactivated       ? state.deactivated         : parseInt(action.payload.deactivated),\r\n                emailVerified:          parseInt(action.payload.emailVerified)      === state.emailVerified     ? state.emailVerified       : parseInt(action.payload.emailVerified),\r\n                identityCertified:      parseInt(action.payload.identityCertified)  === state.identityCertified ? state.identityCertified   : parseInt(action.payload.identityCertified),\r\n                incomeApproved:         parseInt(action.payload.incomeApproved)     === state.incomeApproved    ? state.incomeApproved      : parseInt(action.payload.incomeApproved),\r\n            });\r\n        case actionType.SET_USER_ACTIVATED:\r\n            return Object.assign({},state, {\r\n                deactivated:            0,\r\n            });\r\n        case actionType.SET_USER_DEACTIVATED:\r\n            return Object.assign({},state, {\r\n                deactivated:            1,\r\n            });\r\n        case actionType.RECEIVE_USER_DETAILS:\r\n            return Object.assign({},state,{\r\n                name:                   action.payload.name         ? action.payload.name       : state.name,\r\n                surname:                action.payload.surname      ? action.payload.surname    : state.surname,\r\n                email:                  action.payload.email        ? action.payload.email      : state.email,\r\n                document:               action.payload.document     ? action.payload.document   : state.document,\r\n            });\r\n        case actionType.DELETE_USER_DETAILS:\r\n            return Object.assign({},state,{\r\n                name:                   null,\r\n                surname:                null,\r\n                email:                  null,\r\n                document:               null,\r\n            });\r\n        case actionType.ABANDON_KEYBOARD:\r\n            return Object.assign({},state,{\r\n                optionKeyboardMode:     null,\r\n            });\r\n        case actionType.CHOOSE_KEYBOARD:\r\n            return Object.assign({},state,{\r\n                optionKeyboardMode:     action.payload.optionKeyboardMode ? action.payload.optionKeyboardMode : state.optionLoginCreate,\r\n            });\r\n        case actionType.SWITCH_OPTION_LOGIN_CREATE:\r\n            return Object.assign({},state,{\r\n                optionLoginCreate:      (state.optionLoginCreate===userOptions.optionLoginCreate.LOGIN)?userOptions.optionLoginCreate.CREATE:userOptions.optionLoginCreate.LOGIN,\r\n                optionKeyboardMode:     state.optionKeyboardMode?((state.optionLoginCreate===userOptions.optionLoginCreate.LOGIN)?userOptions.optionLoginCreate.CREATE:userOptions.optionLoginCreate.LOGIN):null,\r\n            });\r\n        case actionType.SWITCH_OPTION_USER_MENU:\r\n            return Object.assign({},state,{\r\n                optionUserMenu:         action.payload.optionUserMenu,\r\n            });\r\n        case actionType.SET_OPTION_ADVANCED_MODE:\r\n            return Object.assign({},state,{\r\n                optionAdvancedMode:     action.payload.optionAdvancedMode,\r\n                optionViewHistory:      action.payload.optionAdvancedMode ? action.payload.optionViewHistory : false,\r\n            });\r\n        case actionType.SET_OPTION_VIEW_HISTORY:\r\n            return Object.assign({},state,{\r\n                optionViewHistory:      action.payload.optionViewHistory,\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default user;\r\n","import actionType from \"../config/actionTypes\";\r\n\r\nconst userAccessInit = {\r\n    ethNetwork:     null,\r\n    ethAddress:     null,\r\n    autoLogin:      false,\r\n    loggedIn:       false,\r\n    loginChannel:               null,\r\n    payChannel:                 null,\r\n    channels: {\r\n        BLOCKCHAIN_ETHEREUM:    0,\r\n        KEYBOARD:               0,\r\n        FACEBOOK:               0,\r\n        LINKEDIN:               0,\r\n        GOOGLE:                 0,\r\n        PAYPAL:                 0,\r\n    },\r\n    facebookStatus:         null,\r\n    facebookUserId:         null,\r\n    facebookUserAccessToken:null,\r\n    linkedInWindow:         null,\r\n    linkedInListener:       null,\r\n    linkedInCode:           null,\r\n    linkedInState:          null,\r\n    googleWindow:           null,\r\n    googleListener:         null,\r\n    googleCode:             null,\r\n    accessJwt:              null,\r\n    refreshJwt:             null,\r\n};\r\n\r\nconst userAccess = (state = userAccessInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.APP_SHUTDOWN:\r\n            return Object.assign({},userAccessInit);\r\n        case actionType.LOGOUT:\r\n            return Object.assign({},userAccessInit,{\r\n                ethNetwork:             state.ethNetwork,\r\n                ethAddress:             state.ethAddress,\r\n                autoLogin:              (action.payload&&action.payload.autoLogin) ? action.payload.autoLogin : false,\r\n            });\r\n        case actionType.STOP_AUTO_LOGIN:\r\n            return Object.assign({},userAccessInit,{\r\n                autoLogin:              false,\r\n            });\r\n        case actionType.UPDATE_ETH_NETWORK:\r\n            return Object.assign({},state,{\r\n                ethNetwork:             action.payload.ethNetwork,\r\n            });\r\n        case actionType.UPDATE_ETH_ADDRESS:\r\n            return Object.assign({},state,{\r\n                ethAddress:             action.payload.ethAddress,\r\n            });\r\n        case actionType.REFRESH_TOKENS:\r\n            return Object.assign({},state,{\r\n                accessJwt:              action.payload.accessJwt,\r\n                refreshJwt:             action.payload.refreshJwt,\r\n            });\r\n        case actionType.RECEIVE_CHANNELS:\r\n        case actionType.RECEIVE_USER_CHANNELS:\r\n            return Object.assign({},state,{channels:{\r\n                BLOCKCHAIN_ETHEREUM:    action.payload.BLOCKCHAIN_ETHEREUM  ? action.payload.BLOCKCHAIN_ETHEREUM    : state.channels.BLOCKCHAIN_ETHEREUM,\r\n                KEYBOARD:               action.payload.KEYBOARD             ? action.payload.KEYBOARD               : state.channels.KEYBOARD,\r\n                FACEBOOK:               action.payload.FACEBOOK             ? action.payload.FACEBOOK               : state.channels.FACEBOOK,\r\n                LINKEDIN:               action.payload.LINKEDIN             ? action.payload.LINKEDIN               : state.channels.LINKEDIN,\r\n                GOOGLE:                 action.payload.GOOGLE               ? action.payload.GOOGLE                 : state.channels.GOOGLE,\r\n                PAYPAL:                 action.payload.PAYPAL               ? action.payload.PAYPAL                 : state.channels.PAYPAL,\r\n            }});\r\n        case actionType.RECEIVE_LOGIN_CHANNEL:\r\n            return Object.assign({},state,{\r\n                loginChannel:           action.payload.loginChannel,\r\n            });\r\n        case actionType.RECEIVE_PAY_CHANNEL:\r\n            return Object.assign({},state,{\r\n                payChannel:             action.payload.payChannel,\r\n            });\r\n        case actionType.RECEIVE_FACEBOOK_LOGIN_STATUS:\r\n            return Object.assign({},state,{\r\n                facebookStatus:         action.payload.facebookStatus,\r\n                facebookUserId:         action.payload.facebookUserId,\r\n                facebookUserAccessToken:action.payload.facebookUserAccessToken,\r\n            });\r\n        case actionType.RECEIVE_LINKEDIN_WINDOW_AND_LISTENER:\r\n            return Object.assign({},state,{\r\n                linkedInWindow:         action.payload.linkedInWindow,\r\n                linkedInListener:       action.payload.linkedInListener,\r\n            });\r\n        case actionType.CLEAR_LINKEDIN_WINDOW_AND_LISTENER:\r\n            return Object.assign({},state,{\r\n                linkedInWindow:         null,\r\n                linkedInListener:       null,\r\n            });\r\n        case actionType.RECEIVE_LINKEDIN_LOGIN:\r\n            return Object.assign({},state,{\r\n                linkedInCode:           action.payload.code,\r\n                linkedInState:          action.payload.state,\r\n            });\r\n        case actionType.RECEIVE_GOOGLE_WINDOW_AND_LISTENER:\r\n            return Object.assign({},state,{\r\n                googleWindow:           action.payload.googleWindow,\r\n                googleListener:         action.payload.googleListener,\r\n            });\r\n        case actionType.CLEAR_GOOGLE_WINDOW_AND_LISTENER:\r\n            return Object.assign({},state,{\r\n                googleWindow:           null,\r\n                googleListener:         null,\r\n            });\r\n        case actionType.RECEIVE_GOOGLE_LOGIN:\r\n            return Object.assign({},state,{\r\n                googleCode:             action.payload.code,\r\n            });\r\n        case actionType.LOGIN:\r\n            return Object.assign({},state,{\r\n                loggedIn:               true,\r\n                autoLogin:              true,\r\n                accessJwt:              action.payload.accessJwt,\r\n                refreshJwt:             action.payload.refreshJwt,\r\n                payChannel:             action.payload.payChannel,\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default userAccess;\r\n","import actionType from \"../config/actionTypes\";\r\n\r\nconst populationInit = {\r\n    populations:    [],\r\n    exists:         null,\r\n    id:             null,\r\n    countryId:      null,\r\n    countryName:    null,\r\n    ccyId:          null,\r\n    ccyName:        null,\r\n    ccySymbol:      null,\r\n    thrubiPriceSilver:      0,\r\n    thrubiPriceSilverNext:  0,\r\n    thrubiPriceGold:        1.5,\r\n    brake:                  0,\r\n    mincome:                0,\r\n    equality:               0,\r\n    warperMincome:          0,\r\n    warperEquality:         0,\r\n    thrubiFees:             0.005, // 0.5%\r\n};\r\n\r\nconst population = (state = populationInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.APP_SHUTDOWN:\r\n        case actionType.LOGOUT:\r\n            return populationInit;\r\n        case actionType.CLEAR_POPULATION:\r\n            return Object.assign({},populationInit,{\r\n                populations:            state.populations,\r\n            });\r\n        case actionType.RECEIVE_POPULATIONS:\r\n            return Object.assign({},state,{\r\n                populations:            action.payload.populations,\r\n            });\r\n        case actionType.SELECT_POPULATION:\r\n            return Object.assign({},state,{\r\n                id:                     parseInt(action.payload.population.populationId),\r\n                countryId:              action.payload.population.countryId,\r\n                countryName:            action.payload.population.countryName,\r\n                ccyId:                  action.payload.population.ccyId,\r\n                ccyName:                action.payload.population.ccyName,\r\n                ccySymbol:              action.payload.population.ccySymbol,\r\n            });\r\n        case actionType.RECEIVE_THRUBI_PRICE_SILVER:\r\n            return Object.assign({},state,{\r\n                thrubiPriceSilver:      action.payload.thrubiPriceSilver,\r\n            });\r\n        case actionType.RECEIVE_THRUBI_PRICE_SILVER_NEXT:\r\n            return Object.assign({},state,{\r\n                thrubiPriceSilverNext:  action.payload.thrubiPriceSilverNext,\r\n            });\r\n        case actionType.RECEIVE_STATS:\r\n            return Object.assign({},state,{\r\n                mincome:                parseFloat(action.payload.stats.mincome),\r\n                equality:               parseFloat(action.payload.stats.equality),\r\n            });\r\n        case actionType.RECEIVE_CONFIG:\r\n            return Object.assign({},state,{\r\n                brake:                  parseFloat(action.payload.config.brake),\r\n                warperMincome:          parseFloat(action.payload.config.warperMincome),\r\n                warperEquality:         parseFloat(action.payload.config.warperEquality),\r\n            });\r\n        case actionType.POPULATION_EXISTS:\r\n            return Object.assign({},state,{\r\n                exists:                 action.payload.exists,\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default population;\r\n\r\n","import actionType from \"../config/actionTypes\";\r\n\r\nconst memberInit = {\r\n    isMember: false,\r\n    mCurrent: 0,\r\n    thrubiMode: -1,\r\n    thrubiBlue: 0,                  // ₿₮\r\n    thrubiBlueNext: 0,              // ₿₮\r\n    thrubiBlueEth: 0,               // Ξ\r\n    thrubiBlueAward: 0,             // local\r\n    thrubiBlueAwardTotal: 0,        // local\r\n    thrubiBlueClaimTotal: 0,        // local\r\n    thrubiSilver: 0,                // $₮\r\n    thrubiSilverNext: 0,            // $₮\r\n    thrubiSilverEth: 0,             // Ξ\r\n    thrubiSilverTransformTotal: 0,  // local\r\n    thrubiGold: 0,                  // ₲₮\r\n};\r\n\r\nconst member = (state = memberInit,action) => {\r\n    switch (action.type) {\r\n        case actionType.APP_SHUTDOWN:\r\n        case actionType.LOGOUT:\r\n        case actionType.CLEAR_MEMBER:\r\n            return memberInit;\r\n        case actionType.RECEIVE_MEMBER:\r\n            return Object.assign({},state,{\r\n                isMember:                   true,\r\n                mCurrent:                   parseFloat(action.payload.member.mCurrent),\r\n                thrubiMode:                 parseInt  (action.payload.member.thrubiMode),\r\n                thrubiBlue:                 parseFloat(action.payload.member.thrubiBlue),\r\n                thrubiBlueNext:             parseFloat(action.payload.member.thrubiBlueNext),\r\n                thrubiBlueEth:              parseFloat(action.payload.member.thrubiBlueEth),\r\n                thrubiBlueAward:            parseFloat(action.payload.member.thrubiBlueAward),\r\n                thrubiBlueAwardTotal:       parseFloat(action.payload.member.thrubiBlueAwardTotal),\r\n                thrubiBlueClaimTotal:       parseFloat(action.payload.member.thrubiBlueClaimTotal),\r\n                thrubiSilver:               parseFloat(action.payload.member.thrubiSilver),\r\n                thrubiSilverNext:           parseFloat(action.payload.member.thrubiSilverNext),\r\n                thrubiSilverEth:            parseFloat(action.payload.member.thrubiSilverEth),\r\n                thrubiSilverRedeem:         parseFloat(action.payload.member.thrubiSilverRedeem),\r\n                thrubiSilverTransformTotal: parseFloat(action.payload.member.thrubiSilverTransformTotal),\r\n                thrubiGold:                 parseFloat(action.payload.member.thrubiGold),\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default member;","import user from \"./client/user\";\r\nimport userAccess from \"./client/userAccess\";\r\nimport population from \"./client/population\";\r\nimport member from \"./client/member\";\r\nimport {combineReducers} from \"redux\";\r\n\r\nconst client = combineReducers({\r\n    user,\r\n    userAccess,\r\n    population,\r\n    member,\r\n});\r\n\r\nexport default client;\r\n\r\n","import {combineReducers} from \"redux\";\r\nimport session from \"./session\";\r\nimport global from \"./global\";\r\nimport client from \"./client\";\r\n\r\nconst reducers = combineReducers({\r\n    session,\r\n    global,\r\n    client,\r\n});\r\n\r\nexport default reducers;\r\n\r\n","import {createStore,applyMiddleware} from \"redux\";\r\nimport createLogger from \"redux-logger\";\r\nimport thunkWrap from \"./customMiddleware/thunkWrap\";\r\nimport flareWrap from \"./customMiddleware/flareWrap\";\r\nimport reducers from \"./reducers\";\r\n\r\nconst middlewares = [flareWrap,thunkWrap];\r\nif (process.env.NODE_ENV !== \"PRODUCTION\") {\r\n    middlewares.push(createLogger);\r\n}\r\n\r\nconst thrubiApp = () => createStore(reducers,applyMiddleware(...middlewares));\r\n\r\nexport default thrubiApp;\r\n\r\n","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst _GlobalStats = ({\r\n    nUser,\r\n    nCcy,\r\n    nCountry,\r\n}) => (\r\n    <span className=\"text-primary d-none d-lg-inline-block text-center small mr-2 alignBottom\">\r\n        {nUser} {nUser===1?\"user\":\"users\"} using Thrubi in {nCountry} {nCountry===1?\"country\":\"countries\"} and {nCcy} {nCcy===1?\"currency\":\"currencies\"}\r\n    </span>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    nUser: state.global.stats.nUser,\r\n    nCountry: state.global.stats.nCountry,\r\n    nCcy: state.global.stats.nCcy,\r\n});\r\n\r\nconst GlobalStats = connect(mapStateToProps,{})(_GlobalStats);\r\n\r\nexport default GlobalStats;","import React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport GlobalStats from \"./GlobalStats\";\r\n\r\nconst _Titlebar = ({ethNetwork,ethAddress}) => (\r\n    <div className=\"container-fluid navbar fixed-top flex-md-nowrap p-0 titleBar bg-light\">\r\n        <div className=\"col-lg-7 d-flex justify-content-center justify-content-md-center justify-content-lg-start fullWidth text-left\">\r\n            <img  className=\"mr-2 logoThrubi\" src={process.env.PUBLIC_URL+\"/logo.png\"} alt=\"Thrubi logo\" height=\"20px\" width=\"20px\" />\r\n            <span className=\"mr-2 alignBottom navbar-brand thrubiGradient\"><b>Thrubi App</b></span>\r\n            <span className=\"d-none d-xl-block mr-2 alignBottom text-dark navbar-nav\">Welcome to Thrubi!</span>\r\n            <GlobalStats/>\r\n        </div>\r\n        <div className=\"col-lg-5 d-none d-lg-block float-right mr-0 my-2 text-right ethBadges\">\r\n            <div className=\"navbar-nav small\">\r\n                {ethNetwork&&ethAddress?(\r\n                    <div>\r\n                        <span className=\"badge badge-warning\">network/{ethNetwork}</span>\r\n                        <span className=\"badge badge-info\">{ethAddress}</span>\r\n                    </div>\r\n                ):(\"Accessing blockchain data\")}\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    ethNetwork: state.client.userAccess.ethNetwork,\r\n    ethAddress: state.client.userAccess.ethAddress,\r\n});\r\n\r\nconst Titlebar = connect(mapStateToProps)(_Titlebar);\r\n\r\nexport default Titlebar;","class Channel {\r\n    static channelIsOpen          (channelMode) {return channelMode>0;}\r\n    static channelIsForLogin      (channelMode) {return  Math.abs(channelMode)     %2;} //last bit\r\n    static channelIsForPay        (channelMode) {return (Math.abs(channelMode)>>1) %2;} //second-to-last bit\r\n\r\n    static channelColor (channelName) {\r\n        switch (channelName) {\r\n            case \"BLOCKCHAIN_ETHEREUM\": return \"blockchain-ethereum\";\r\n            case \"KEYBOARD\":            return \"keyboard\";\r\n            case \"FACEBOOK\":            return \"facebook\";\r\n            case \"LINKEDIN\":            return \"linkedin\";\r\n            case \"GOOGLE\":              return \"google\";\r\n            case \"PAYPAL\":              return \"paypal\";\r\n            default:                    return \"\";\r\n        }\r\n    }\r\n\r\n    static channelAuthFunctionName (channelName) {\r\n        switch (channelName) {\r\n            case \"BLOCKCHAIN_ETHEREUM\": return \"BlockchainEthereum\";\r\n            case \"KEYBOARD\":            return \"Keyboard\";\r\n            case \"FACEBOOK\":            return \"Facebook\";\r\n            case \"LINKEDIN\":            return \"LinkedIn\";\r\n            case \"GOOGLE\":              return \"Google\";\r\n            case \"PAYPAL\":              return \"PayPal\";\r\n            default:                    return \"\";\r\n        }\r\n    }\r\n\r\n    static keyboardChannelMessage(optionKeyboardMode) {\r\n        switch (optionKeyboardMode) {\r\n            case \"LOGIN\":   return \"Sign in with username/password\";\r\n            case \"CREATE\":  return \"Create a new Thrubi account with username/password\";\r\n            case \"ADD\":     return \"Add username/password credentials to my account\";\r\n            case \"UPDATE\":  return \"Update my username/password credentials\";\r\n            default: return \"\";\r\n        }\r\n    }\r\n\r\n    static channelUserFriendlyName (channelName,actionType) {\r\n        switch (actionType) {\r\n            case \"USE\": switch (channelName) {\r\n                case \"BLOCKCHAIN_ETHEREUM\": return \"Use my Ethereum wallet\";\r\n                case \"PAYPAL\":              return \"Use my PayPal account\";\r\n                default:                    return \"\";\r\n            }\r\n            case \"USING\": switch (channelName) {\r\n                case \"BLOCKCHAIN_ETHEREUM\": return \"Using my Ethereum wallet\";\r\n                case \"PAYPAL\":              return \"Using my PayPal account\";\r\n                default:                    return \"\";\r\n            }\r\n            case \"LINK\": switch (channelName) {\r\n                case \"BLOCKCHAIN_ETHEREUM\": return \"Connect an Ethereum wallet to use it\";\r\n                case \"PAYPAL\":              return \"Connect a PayPal account to use it\";\r\n                default:                    return \"\";\r\n            }\r\n            case \"LOGIN\": switch (channelName) {\r\n                case \"BLOCKCHAIN_ETHEREUM\": return \"Sign in with Ethereum wallet\";\r\n                case \"KEYBOARD\":            return \"Sign in with username/password\";\r\n                case \"FACEBOOK\":            return \"Sign in with Facebook\";\r\n                case \"LINKEDIN\":            return \"Sign in with LinkedIn\";\r\n                case \"GOOGLE\":              return \"Sign in with Google\";\r\n                default:                    return \"\";\r\n            }\r\n            case \"CREATE\": switch (channelName) {\r\n                case \"BLOCKCHAIN_ETHEREUM\": return \"Sign up with Ethereum wallet\";\r\n                case \"KEYBOARD\":            return \"Sign up with username/password\";\r\n                case \"FACEBOOK\":            return \"Sign up with Facebook\";\r\n                case \"LINKEDIN\":            return \"Sign up with LinkedIn\";\r\n                case \"GOOGLE\":              return \"Sign up with Google\";\r\n                default:                    return \"\";\r\n            }\r\n            case \"ADD\": switch (channelName) {\r\n                case \"BLOCKCHAIN_ETHEREUM\": return \"Connect an Ethereum wallet\";\r\n                case \"KEYBOARD\":            return \"Enable credentials (username/password)\";\r\n                case \"FACEBOOK\":            return \"Connect a Facebook account\";\r\n                case \"LINKEDIN\":            return \"Connect a LinkedIn account\";\r\n                case \"GOOGLE\":              return \"Connect a Google account\";\r\n                case \"PAYPAL\":              return \"Connect a PayPal account\";\r\n                default:                    return \"\";\r\n            }\r\n            case \"DELETE\": switch (channelName) {\r\n                case \"BLOCKCHAIN_ETHEREUM\": return \"Disable access via my Ethereum wallet\";\r\n                case \"KEYBOARD\":            return \"Disable credentials (username/password)\";\r\n                case \"FACEBOOK\":            return \"Disconnect my Facebook account\";\r\n                case \"LINKEDIN\":            return \"Disconnect my LinkedIn account\";\r\n                case \"GOOGLE\":              return \"Disconnect my Google account\";\r\n                case \"PAYPAL\":              return \"Disconnect my PayPal account\";\r\n                default:                    return \"\";\r\n            }\r\n            case \"UPDATE\": switch (channelName) {\r\n                case \"BLOCKCHAIN_ETHEREUM\": return \"Connect another Ethereum wallet\";\r\n                case \"KEYBOARD\":            return \"Update username/password\";\r\n                case \"FACEBOOK\":            return \"Connect another Facebook account\";\r\n                case \"LINKEDIN\":            return \"Connect another LinkedIn account\";\r\n                case \"GOOGLE\":              return \"Connect another Google account\";\r\n                case \"PAYPAL\":              return \"Connect another PayPal account\";\r\n                default:                    return \"\";\r\n            }\r\n            default: return \"\"\r\n        }\r\n    }\r\n}\r\n\r\nexport default Channel;","import React from 'react';\r\nimport Channel from \"../classes/Channel\";\r\n\r\nconst _ActionButton = ({action,payload,text,buttonType,disabled=false,channel=false}) => (\r\n    <button disabled={disabled}\r\n            onClick={(event) => {event.preventDefault(); action(payload); }}\r\n            className={\"btn btn-sm btn-block rounded-0 my-2 py-\"+(channel?\"2 \":\"2 \")+buttonType+(channel?Channel.channelColor(channel):\"\")}>\r\n        <div className={\"container-fluid row p-0 m-0\"+(channel?\"\":\" fullWidth\")}>\r\n            <div className={(channel?\"\":\"fullWidth\")}>\r\n                {\r\n                    !channel ? \"\" :\r\n                        <img className=\"p-0 my-0 mx-2\" alt={channel} height=\"32\" width=\"32\" src={process.env.PUBLIC_URL+\"/png/\"+Channel.channelColor(channel)+\".png\"} />\r\n                }\r\n                <div className={(channel?\"ml-4\":\"fullWidth\")+\" displayInlineBlock text-\"+(channel?\"left\":\"center\")}>{text}</div>\r\n            </div>\r\n        </div>\r\n    </button>\r\n);\r\n\r\nexport default _ActionButton;\r\n\r\n","let envUri;\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n    envUri = \"https://t001002.herokuapp.com\";\r\n} else {\r\n    envUri = \"https://localhost:8443\";\r\n}\r\n\r\nexport const uri = envUri;","export const requestType = {\r\n    GET:    \"get\",\r\n    POST:   \"post\",\r\n};\r\n\r\nexport const headers = {\r\n    X_Access_Token: \"X-Access-Token\",\r\n    Bearer:         \"Bearer \",\r\n};","import request from \"request\";\r\nimport {uri} from \"./env/server\";\r\nimport flareBook from \"./config/flare\";\r\nimport {requestType,headers} from \"./config/http\";\r\n\r\nexport const processRequest = (type,requestUri,json) => (dispatch,getState) => {\r\n    return new Promise((resolve,reject) => {\r\n        const callback = (error,response) => {\r\n            let packet;\r\n            let result;\r\n\r\n            if (error) {\r\n                reject(flareBook.errorFlare.THRUBI_CONNECTION_FAILED);\r\n            } else {\r\n                packet = response.body;\r\n                if (response.statusCode===200) {\r\n                    result = packet.result;\r\n                    resolve(result);\r\n                } else {\r\n                    let errorPackage = flareBook.errorFlare.THRUBI_SERVER_ERROR;\r\n                    errorPackage.serverError = packet.error;\r\n                    reject(errorPackage);\r\n                }\r\n            }\r\n        };\r\n\r\n        try {\r\n            const options = {\r\n                url:uri+requestUri,\r\n                json:(json===null?{}:json),\r\n            };\r\n            if (getState().client.userAccess.loggedIn) {\r\n                options.headers={[headers.X_Access_Token]:(headers.Bearer+(getState().client.userAccess.accessJwt))};\r\n            }\r\n            if (type===requestType.GET) {\r\n                request.get(options,callback);\r\n            } else if (type===requestType.POST) {\r\n                request.post(options,callback);\r\n            }\r\n        } catch (error) {\r\n            reject(flareBook.errorFlare.THRUBI_CONNECTION_FAILED);\r\n        }\r\n    });\r\n};","import request from \"request\";\r\nimport {uri,spotApi} from \"./config/market\";\r\nimport flareBook from \"./config/flare\";\r\nimport actionType from \"../reducers/config/actionTypes\";\r\nimport {INTERVAL_MARKET_WORKER} from \"./env/workers\";\r\n\r\nexport const fetchExrate = ccyId => async (dispatch,getState) => {\r\n    if (ccyId) {\r\n        return new Promise((resolve,reject) => {\r\n            request.get({url:uri+ccyId+spotApi,json:{}},(error,response) => {\r\n                if (error) {\r\n                    reject(flareBook.errorFlare.EXRATE_FETCH_ERROR);\r\n                } else {\r\n                    let exrate = parseFloat(response.body.data.amount);\r\n                    dispatch({type:actionType.RECEIVE_EXRATE,payload:{exrate}});\r\n                    resolve(exrate);\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\n\r\nexport const startMarketWorker = () => async (dispatch,getState) => {\r\n    let marketWorker = setInterval((() => {\r\n        const activity = () => {\r\n            dispatch(fetchExrate(getState().client.population.ccyId));\r\n        };\r\n        activity();\r\n        return activity;\r\n    })(),INTERVAL_MARKET_WORKER);\r\n    dispatch({type:actionType.RECEIVE_MARKET_WORKER,payload:{marketWorker}});\r\n};\r\n\r\nexport const stopMarketWorker = () => async (dispatch,getState) => {\r\n    clearInterval(getState().session.workers.market);\r\n    dispatch({type:actionType.STOP_MARKET_WORKER,payload:{}});\r\n};\r\n","export const uri = \"https://api.coinbase.com/v2/prices/ETH-\";\r\nexport const spotApi = \"/spot\";","export const INTERVAL_FETCH_GLOBAL_STATS_WORKER = 30000;\r\nexport const INTERVAL_ETH_NETWORK_WORKER = 1000;\r\nexport const INTERVAL_ETH_ADDRESS_WORKER = 1000;\r\nexport const INTERVAL_USER_WORKER = 1000;\r\nexport const INTERVAL_MEMBER_WORKER = 1000;\r\nexport const INTERVAL_MARKET_WORKER = 1000;\r\nexport const INTERVAL_POPULATION_WORKER = 1000;","export const endpoint = {\r\n    AUTH_CHALLENGE_BLOCKCHAINETHEREUM:      \"/auth/challenge/blockchainEthereum\",\r\n    AUTH_LISTCHANNELS:                      \"/auth/listChannels\",\r\n    AUTH_REFRESH:                           \"/auth/refresh\",\r\n    AUTH_LOGOUT:                            \"/auth/logout\",\r\n    AUTH_CREATE_BLOCKCHAINETHEREUM:         \"/auth/create/blockchainEthereum\",\r\n    AUTH_LOGIN_BLOCKCHAINETHEREUM:          \"/auth/login/blockchainEthereum\",\r\n    AUTH_CREATE_KEYBOARD:                   \"/auth/create/keyboard\",\r\n    AUTH_LOGIN_KEYBOARD:                    \"/auth/login/keyboard\",\r\n    AUTH_CREATE_FACEBOOK:                   \"/auth/create/facebook\",\r\n    AUTH_LOGIN_FACEBOOK:                    \"/auth/login/facebook\",\r\n    AUTH_CREATE_LINKEDIN:                   \"/auth/create/linkedIn\",\r\n    AUTH_LOGIN_LINKEDIN:                    \"/auth/login/linkedIn\",\r\n    AUTH_CREATE_GOOGLE:                     \"/auth/create/google\",\r\n    AUTH_LOGIN_GOOGLE:                      \"/auth/login/google\",\r\n    COUNTRY_LIST:                           \"/country/list\",\r\n    CCY_LIST:                               \"/ccy/list\",\r\n    MEMBER_CREATE:                          \"/member/create\",\r\n    MEMBER_DELETE:                          \"/member/delete\",\r\n    MEMBER_REQUEST_CLAIM:                   \"/member/request/claim\",\r\n    MEMBER:                                 \"/member\",\r\n    MEMBER_REQUEST_DECLAREINCOME:           \"/member/request/declareIncome\",\r\n    STATS_NUSER:                            \"/stats/nUser\",\r\n    STATS_NCOUNTRY:                         \"/stats/nCountry\",\r\n    STATS_NCCY:                             \"/stats/nCcy\",\r\n    USER_GETFLAGS:                          \"/user/getFlags\",\r\n    USER_ACTIVATE:                          \"/user/activate\",\r\n    USER_DEACTIVATE:                        \"/user/deactivate\",\r\n    USER_DETAILS_FETCH:                     \"/user/details/fetch\",\r\n    USER_DETAILS_DELETE:                    \"/user/details/delete\",\r\n    USER_DETAILS_STORE:                     \"/user/details/store\",\r\n    USER_CERTIFY:                           \"/user/certify\",\r\n    USER_CLOSE:                             \"/user/close\",\r\n    USERACCESS_LISTUSERCHANNELS:            \"/userAccess/listUserChannels\",\r\n    USERACCESS_SETPAYCHANNEL:               \"/userAccess/setPayChannel\",\r\n    USERACCESS_DELETE:                      \"/userAccess/delete\",\r\n    USERACCESS_ADD_KEYBOARD:                \"/userAccess/add/keyboard\",\r\n    USERACCESS_UPDATE_KEYBOARD:             \"/userAccess/update/keyboard\",\r\n    USERACCESS_ADD_BLOCKCHAINETHEREUM:      \"/userAccess/add/blockchainEthereum\",\r\n    USERACCESS_UPDATE_BLOCKCHAINETHEREUM:   \"/userAccess/update/blockchainEthereum\",\r\n    USERACCESS_ADD_FACEBOOK:                \"/userAccess/add/facebook\",\r\n    USERACCESS_UPDATE_FACEBOOK:             \"/userAccess/update/facebook\",\r\n    USERACCESS_ADD_LINKEDIN:                \"/userAccess/add/linkedIn\",\r\n    USERACCESS_UPDATE_LINKEDIN:             \"/userAccess/update/linkedIn\",\r\n    USERACCESS_ADD_GOOGLE:                  \"/userAccess/add/google\",\r\n    USERACCESS_UPDATE_GOOGLE:               \"/userAccess/update/google\",\r\n    POPULATION_FORUSER:                     \"/population/forUser\",\r\n    POPULATION_THRUBIPRICE_SILVER:          \"/population/thrubiPrice/silver\",\r\n    POPULATION_THRUBIPRICE_SILVER_NEXT:     \"/population/thrubiPrice/silver/next\",\r\n    POPULATION_CREATE:                      \"/population/create\",\r\n    POPULATION_DELETE:                      \"/population/delete\",\r\n    POPULATION_STATS_READ:                  \"/population/stats/read\",\r\n    POPULATION_CONFIG_READ:                 \"/population/config/read\",\r\n    POPULATION_CONFIG_CHANGE:               \"/population/config/change\",\r\n    POPULATION_EXISTS:                      \"/population/exists\",\r\n};\r\n\r\n\r\n\r\n","import {processRequest} from \"./server\";\r\nimport {startMemberWorker,stopMemberWorker} from \"./member\";\r\nimport {emitFlare} from \"./flare\";\r\nimport {startMarketWorker,stopMarketWorker} from \"./market\";\r\nimport flareBook from \"./config/flare\";\r\nimport {requestType} from \"./config/http\";\r\nimport actionType, {busyPayload} from \"../reducers/config/actionTypes\";\r\nimport {endpoint} from \"./config/server\";\r\nimport {INTERVAL_POPULATION_WORKER} from \"./env/workers\";\r\n\r\nexport const fetchPopulations = () => async (dispatch,getState) => {\r\n    let populations;\r\n    return Promise.resolve()\r\n        .then   (()             => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS}))\r\n        .then   (()             => dispatch(processRequest(requestType.GET,endpoint.POPULATION_FORUSER,null)))\r\n        .then   (p              => populations=p)\r\n        .then   (()             => populations.forEach(population => {if (population.isMember) {\r\n            dispatch(selectPopulation(population));\r\n            dispatch(startPopulationWorker());\r\n            dispatch(startMemberWorker());\r\n            dispatch(startMarketWorker());\r\n        }}))\r\n        .then   (()             => dispatch({type:actionType.RECEIVE_POPULATIONS,payload:{populations}}))\r\n        .catch  (error          => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareType.ERR_GENERIC_USERMENU)))\r\n        .finally(()         => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS}));\r\n};\r\n\r\nexport const selectPopulation = population => async (dispatch,getState) => {\r\n    dispatch({type:actionType.SELECT_POPULATION,payload:{population}});\r\n};\r\n\r\nexport const deselectPopulation = () => async (dispatch,getState) => {\r\n    dispatch(stopMemberWorker());\r\n    dispatch(stopPopulationWorker());\r\n    dispatch(stopMarketWorker());\r\n    dispatch({type:actionType.CLEAR_POPULATION,payload:{}});\r\n};\r\n\r\nexport const startPopulationWorker = () => async (dispatch,getState) => {\r\n    let populationWorker = setInterval((() => {\r\n        const activity = () => {\r\n            dispatch(fetchThrubiPriceSilver(getState().client.population.id));\r\n            dispatch(fetchThrubiPriceSilverNext(getState().client.population.id));\r\n            if (getState().client.user.auth) {\r\n                dispatch(fetchStats(getState().client.population.id));\r\n                dispatch(fetchConfig(getState().client.population.id));\r\n            }\r\n        };\r\n        activity();\r\n        return activity;\r\n    })(),INTERVAL_POPULATION_WORKER);\r\n    dispatch({type:actionType.RECEIVE_POPULATION_WORKER,payload:{populationWorker}});\r\n};\r\n\r\nexport const stopPopulationWorker = () => async (dispatch,getState) => {\r\n    clearInterval(getState().session.workers.population);\r\n    dispatch({type:actionType.STOP_POPULATION_WORKER,payload:{}});\r\n};\r\n\r\nconst fetchThrubiPriceSilver = (populationId) => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then   (()             => dispatch(processRequest(requestType.GET,endpoint.POPULATION_THRUBIPRICE_SILVER+\"/\"+populationId,null)))\r\n        .then   (result         => dispatch({type:actionType.RECEIVE_THRUBI_PRICE_SILVER,payload:{thrubiPriceSilver:parseFloat(result.thrubiPriceSilver)}}))\r\n        .catch  (error          => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareType.ERR_GENERIC_USERMENU)));\r\n};\r\n\r\nconst fetchThrubiPriceSilverNext = (populationId) => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then   (()             => dispatch(processRequest(requestType.GET,endpoint.POPULATION_THRUBIPRICE_SILVER_NEXT+\"/\"+populationId,null)))\r\n        .then   (result         => dispatch({type:actionType.RECEIVE_THRUBI_PRICE_SILVER_NEXT,payload:{thrubiPriceSilverNext:parseFloat(result.thrubiPriceSilverNext)}}))\r\n        .catch  (error          => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareType.ERR_GENERIC_USERMENU)));\r\n};\r\n\r\nconst fetchStats = (populationId) => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then   (()             => dispatch(processRequest(requestType.GET,endpoint.POPULATION_STATS_READ+\"/\"+populationId,null)))\r\n        .then   (stats          => dispatch({type:actionType.RECEIVE_STATS,payload:{stats}}))\r\n        .catch  (error          => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareType.ERR_GENERIC_USERMENU)));\r\n};\r\n\r\nconst fetchConfig = (populationId) => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then   (()                 => dispatch(processRequest(requestType.GET,endpoint.POPULATION_CONFIG_READ+\"/\"+populationId,null)))\r\n        .then   (config             => dispatch({type:actionType.RECEIVE_CONFIG,payload:{config}}))\r\n        .catch  (error              => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareType.ERR_GENERIC_USERMENU)));\r\n};\r\n\r\n","import {processRequest} from \"./server\";\r\nimport {emitFlare} from \"./flare\";\r\nimport flareBook from \"./config/flare\";\r\nimport {startPopulationWorker,stopPopulationWorker} from \"./population\";\r\nimport {startMarketWorker,stopMarketWorker} from \"./market\";\r\nimport {requestType} from \"./config/http\";\r\nimport actionType,{busyPayload} from \"../reducers/config/actionTypes\";\r\nimport {endpoint} from \"./config/server\";\r\nimport {INTERVAL_MEMBER_WORKER} from \"./env/workers\";\r\n\r\nexport const createMember = populationId => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then   (()     => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS}))\r\n        .then   (()     => dispatch(processRequest(requestType.POST,endpoint.MEMBER_CREATE+\"/\"+populationId,null)))\r\n        .then   (()     => dispatch(startMemberWorker()))\r\n        .then   (()     => dispatch(startPopulationWorker()))\r\n        .then   (()     => dispatch(startMarketWorker()))\r\n        .catch  (error  => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareType.ERR_GENERIC_USERMENU)))\r\n        .finally(()     => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS}));\r\n};\r\n\r\nexport const fetchMember = () => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then (()       => dispatch(processRequest(requestType.GET,endpoint.MEMBER+\"/\"+getState().client.population.id,null)))\r\n        .then (packet   => dispatch({type:actionType.RECEIVE_MEMBER,payload:{member:packet}}))\r\n        .catch(error    => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareType.ERR_GENERIC_USERMENU)));\r\n};\r\n\r\nexport const removeMembership = () => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then (()       => dispatch(stopPopulationWorker()))\r\n        .then (()       => dispatch(stopMemberWorker()))\r\n        .then (()       => dispatch(stopMarketWorker()))\r\n        .then (()       => dispatch(processRequest(requestType.POST,endpoint.MEMBER_DELETE+\"/\"+getState().client.population.id,null)))\r\n        .then (()       => dispatch({type:actionType.CLEAR_POPULATION,payload:{}}))\r\n        .then (()       => dispatch({type:actionType.CLEAR_MEMBER,payload:{}}));\r\n};\r\n\r\nexport const startMemberWorker = () => async (dispatch,getState) => {\r\n    let memberWorker = setInterval((() => {\r\n        const activity = () => {\r\n            dispatch(fetchMember());\r\n        };\r\n        activity();\r\n        return activity;\r\n    })(),INTERVAL_MEMBER_WORKER);\r\n    dispatch({type:actionType.RECEIVE_MEMBER_WORKER,payload:{memberWorker}});\r\n};\r\n\r\nexport const stopMemberWorker = () => async (dispatch,getState) => {\r\n    clearInterval(getState().session.workers.member);\r\n    dispatch({type:actionType.STOP_MEMBER_WORKER,payload:{}});\r\n};\r\n\r\nexport const claim = () => async (dispatch,getState) => {\r\n    const ethAddress = getState().client.userAccess.ethAddress;\r\n    const populationId = getState().client.population.id;\r\n    return await dispatch(processRequest(requestType.GET,endpoint.MEMBER_REQUEST_CLAIM+\"/\"+ethAddress+\"/\"+populationId,null));\r\n};\r\n\r\nexport const advancedMode = optionAdvancedMode => async (dispatch,getState) => {\r\n    return dispatch({type:actionType.SET_OPTION_ADVANCED_MODE,payload:{optionAdvancedMode}});\r\n};\r\n\r\nexport const viewHistory = optionViewHistory => async (dispatch,getState) => {\r\n    return dispatch({type:actionType.SET_OPTION_VIEW_HISTORY,payload:{optionViewHistory}});\r\n};","import React,{Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport {removeMembership} from \"../actions/member\";\r\n\r\nclass _MemberDelete extends Component {\r\n    render() {\r\n        const {identityCertified} = this.props;\r\n        const {removeMembership} = this.props;\r\n        return (\r\n            <_ActionButton text={(identityCertified>0?\"Abandon country membership\":\"Terminate certification procedure\")+\" and select another country and currency\"}\r\n                           buttonType=\"btn-outline-secondary\" action={removeMembership} />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    identityCertified:  state.client.user.identityCertified,\r\n});\r\n\r\nconst MemberDelete = connect(mapStateToProps,{removeMembership})(_MemberDelete);\r\n\r\nexport default MemberDelete;\r\n\r\n","import React, {Component,Fragment} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport {advancedMode,viewHistory} from \"../actions/member\";\r\nimport MemberDelete from \"./MemberDelete\";\r\n\r\nclass _MemberOptions extends Component {\r\n\r\n    render() {\r\n        const {optionAdvancedMode,optionViewHistory} = this.props;\r\n        const {advancedMode,viewHistory} = this.props;\r\n\r\n        return (\r\n            <div className=\"navbar-light col-lg-4\">\r\n                <_ActionButton buttonType={\"p-0 btn-outline-primary\"+(optionAdvancedMode?\" active\":\"\")} action={() => advancedMode(!optionAdvancedMode)} text={optionAdvancedMode?\"Advanced\":\"Basic\"}/>\r\n                <_ActionButton buttonType={\"p-0 btn-outline-primary\"+(optionViewHistory?\" active\":\"\")} disabled={!optionAdvancedMode} action={() => viewHistory(!optionViewHistory)}  text={optionViewHistory?\"History\":\"History\"} />\r\n                <MemberDelete />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    optionAdvancedMode: state.client.user.optionAdvancedMode,\r\n    optionViewHistory: state.client.user.optionViewHistory,\r\n    populationId: state.client.population.id,\r\n});\r\n\r\nconst MemberOptions = connect(mapStateToProps,{advancedMode,viewHistory})(_MemberOptions);\r\n\r\nexport default MemberOptions;","import React, {Fragment} from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst _MemberInfo = ({\r\n    ccySymbol,\r\n    exrate,\r\n    thrubiPriceSilver,\r\n    thrubiPriceSilverNext,\r\n    thrubiPriceGold,\r\n}) => (\r\n    <div className=\"col-sm-4 container-fluid p-0 m-0 small\">\r\n        <div className=\"col-sm-12 container-fluid row p-0 m-0\">\r\n            <div className=\"col-5 container-fluid p-0 m-0 text-right\">\r\n                <div className=\"col-sm-12 p-0\">1.00Ξ</div>\r\n                <div className=\"col-sm-12 p-0\">1.00$₮</div>\r\n                <div className=\"col-sm-12 p-0\">1.00$₮</div>\r\n                <div className=\"col-sm-12 p-0\">1.00₲₮</div>\r\n            </div>\r\n            <div className=\"col-2 container-fluid p-0 m-0 text-center\">\r\n                <div className=\"col-sm-12 p-0\">=</div>\r\n                <div className=\"col-sm-12 p-0\">=</div>\r\n                <div className=\"col-sm-12 p-0\">=</div>\r\n                <div className=\"col-sm-12 p-0\">=</div>\r\n            </div>\r\n            <div className=\"col-5 container-fluid p-0 m-0 text-left\">\r\n                <div className=\"col-sm-12 p-0\">{exrate.toFixed(2)}{ccySymbol}</div>\r\n                <div className=\"col-sm-12 p-0\">{thrubiPriceSilver.toFixed(2)}{ccySymbol}</div>\r\n                <div className=\"col-sm-12 p-0\">{thrubiPriceSilverNext.toFixed(2)}{ccySymbol} (next)</div>\r\n                <div className=\"col-sm-12 p-0\">{thrubiPriceGold.toFixed(2)}{ccySymbol}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    ccySymbol: state.client.population.ccySymbol,\r\n    exrate: state.global.market.exrate,\r\n    thrubiPriceSilver: state.client.population.thrubiPriceSilver,\r\n    thrubiPriceSilverNext: state.client.population.thrubiPriceSilverNext,\r\n    thrubiPriceGold: state.client.population.thrubiPriceGold,\r\n});\r\n\r\nconst MemberInfo = connect(mapStateToProps,{})(_MemberInfo);\r\n\r\nexport default MemberInfo;","import React from 'react';\r\n\r\nconst _CcyRow = ({\r\n    text,\r\n    bold,\r\n    value,\r\n    ccySymbol,\r\n}) => (\r\n    <div className=\"small row ccyRowContainer\">\r\n        <span className=\"text-left ccyRowElement col-6\">{text}</span>\r\n        <span className={\"text-right ccyRowElement col-5\"}>{isNaN(value)?\"n/a\":(bold?<b>{value.toFixed(2)}</b>:value.toFixed(2))}</span>\r\n        <span className={\"text-right ccyRowElement col-1\"}>{bold?<b>{ccySymbol}</b>:ccySymbol}</span>\r\n    </div>\r\n);\r\n\r\nexport default _CcyRow;\r\n\r\n","export const ethEventType = {\r\n    confirmation: \"confirmation\",\r\n};","export const THRUBI_ADDRESS = '0xb198482C48Ef0e89df3597b0f7250F88c51D6759';\r\n\r\nexport const THRUBI_ABI = [\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"userCount\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x07973ccf\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"lastProcessedClaim\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x17f0f244\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"lastProcessedTransform\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x7b306690\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"owner\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x8da5cb5b\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"lastClaim\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0xa8adb564\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"lastTransform\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0xaa2ddbf1\"\r\n    },\r\n    {\r\n        \"inputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"constructor\",\r\n        \"signature\": \"constructor\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"ethAddress\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"UserCreated\",\r\n        \"type\": \"event\",\r\n        \"signature\": \"0x0b0376a109cbb578b709f85f6a7befcdac3ac1ab251c99ede87f30c9572ac4d3\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"name\",\r\n                \"type\": \"string\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"surname\",\r\n                \"type\": \"string\"\r\n            }\r\n        ],\r\n        \"name\": \"UserUpdated\",\r\n        \"type\": \"event\",\r\n        \"signature\": \"0xe5d18d6612696bff7df1db8015eac613241613297fa2ba2783993e4fd0e76f3d\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"deactivated\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"name\": \"UserActivated\",\r\n        \"type\": \"event\",\r\n        \"signature\": \"0x778b37e4212438e31bb36f033dd30e024005d668a4df069a75261d4e41f4013f\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"deactivated\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"name\": \"UserDeactivated\",\r\n        \"type\": \"event\",\r\n        \"signature\": \"0x1b32d41cdfc3bfbfff6b3c55227176d2d8d97ea2494e509db5d8b60d246e680b\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"populationId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"userId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"weiAmount\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"ClaimSubmitted\",\r\n        \"type\": \"event\",\r\n        \"signature\": \"0x199cf6ad2e6ce4f20f4f77bf95042862858fe7b5fb2240b17ec190107e6b41e8\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"populationId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"userId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"weiAmount\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"TransformSubmitted\",\r\n        \"type\": \"event\",\r\n        \"signature\": \"0x6b8d5104af05a3749790a02190abe69665e450a2af5f4dd52ac361f9a8a22bd5\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_populationId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"_userId\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"transform\",\r\n        \"outputs\": [],\r\n        \"payable\": true,\r\n        \"stateMutability\": \"payable\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x3259af21\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"getLastTransform\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"_lastTransform\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x8a3f8702\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"getLastProcessedTransform\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"_lastProcessedTransform\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x766dcc9c\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_i\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"getTransform\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_populationId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"_userId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"_weiAmount\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x21347ab1\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [],\r\n        \"name\": \"signalProcessedTransforms\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x764103fc\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_populationId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"_userId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"_weiAmount\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"claimEth\",\r\n        \"outputs\": [],\r\n        \"payable\": true,\r\n        \"stateMutability\": \"payable\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0xf92b929f\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"getLastClaim\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"_lastClaim\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x68a825ad\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"getLastProcessedClaim\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"_lastProcessedClaim\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x8fdfde42\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_i\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"getClaim\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"_address\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_populationId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"_userId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"_weiAmount\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x5aef2447\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"findMe\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"foundMe\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x3223a182\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"findMyUser\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"found\",\r\n                \"type\": \"bool\"\r\n            },\r\n            {\r\n                \"name\": \"name\",\r\n                \"type\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"surname\",\r\n                \"type\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"deactivated\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0xc77489f1\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_name\",\r\n                \"type\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"_surname\",\r\n                \"type\": \"string\"\r\n            }\r\n        ],\r\n        \"name\": \"updateUser\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x10e8b22d\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"createUser\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0xcdd87618\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"activateUser\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0xb4acfe1c\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_ethAddress\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"deactivateUser\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\",\r\n        \"signature\": \"0x1a47767b\"\r\n    }\r\n];","export const facebook = {\r\n    status: {\r\n        connected:      \"connected\",\r\n        unknown:        \"unknown\",\r\n        not_authorized: \"not_authorized\",\r\n    },\r\n    apiQuery:           \"/me?fields=first_name,last_name,email\",\r\n    apiScope:           \"email\",\r\n};","const linkedInScope = \"r_liteprofile%20r_emailaddress\";\r\nexport const linkedInAuthUri =  (linkedInRedirectUri,linkedInAppState,linkedInAppClientId) =>\r\n                                \"https://www.linkedin.com/oauth/v2/authorization?\" +\r\n                                \"response_type=code\" +\r\n                                \"&redirect_uri=\"+linkedInRedirectUri+\r\n                                \"&state=\"+linkedInAppState+\r\n                                \"&scope=\"+linkedInScope+\r\n                                \"&client_id=\"+linkedInAppClientId;\r\n\r\nexport const linkedInWindowName = \"Login to Thrubi using your LinkedIn account\";\r\nexport const linkedInWindowParams = \"toolbar=no, menubar=no, width=600, height=500, top=50, left=100\";\r\n\r\n\r\nconst googleScope = \"email%20profile\";\r\nexport const googleAuthUri =    (googleRedirectUri,googleAppClientId) =>\r\n                                \"https://accounts.google.com/o/oauth2/auth?\"+\r\n                                \"response_type=code\" +\r\n                                \"&redirect_uri=\"+googleRedirectUri+\r\n                                \"&scope=\"+googleScope+\r\n                                \"&client_id=\"+googleAppClientId;\r\n\r\nexport const googleWindowName = \"Login to Thrubi using your Google account\";\r\nexport const googleWindowParams = \"toolbar=no, menubar=no, width=600, height=500, top=50, left=100\";","let envLinkedInRedirectUri;\r\nlet envGoogleRedirectUri;\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n    envLinkedInRedirectUri    = \"https://eliomattia.github.io/thrubi-client\";\r\n    envGoogleRedirectUri      = \"https://eliomattia.github.io/thrubi-client\";\r\n} else {\r\n    envLinkedInRedirectUri    = \"https://localhost:3000\";\r\n    envGoogleRedirectUri      = \"https://localhost:3000\";\r\n}\r\n\r\nexport const linkedInRedirectUri    = envLinkedInRedirectUri;\r\nexport const linkedInAppState       = \"ec178df0ec26b9584b3702c8ee98071f76f40b11121c19ff18f674b16169a9e95fee8b82a6334152ba70565c41cf0d1a0b33ff9dda5298a34ce271008e8c09f7\";\r\nexport const linkedInAppClientId    = \"78w03u1p8bc928\";\r\n\r\nexport const googleRedirectUri      = envGoogleRedirectUri;\r\nexport const googleAppClientId      = \"627523329723-5kfvuqg068851dsf6efh911ue4v7ttur.apps.googleusercontent.com\";\r\n","import Channel from \"../classes/Channel\";\r\nimport {processRequest} from \"./server\";\r\nimport {signMessage} from \"./blockchain_ethereum\";\r\nimport {switchOptionUserMenu,fetchDetails,storeDetails,activateUserWorker,stopUserWorker} from \"./user\";\r\nimport {emitFlare} from \"./flare\";\r\nimport {deselectPopulation} from \"./population\";\r\nimport {requestType} from \"./config/http\";\r\nimport actionType,{busyPayload} from \"../reducers/config/actionTypes\";\r\nimport {EVENT_DATA_ORIGIN_THRUBI,EVENT_TYPE_MESSAGE} from \"./config/redirect\";\r\nimport {endpoint} from \"./config/server\";\r\nimport {facebook} from \"./config/facebook\";\r\nimport {\r\n    googleAuthUri,\r\n    googleWindowName,\r\n    googleWindowParams,\r\n    linkedInAuthUri,\r\n    linkedInWindowName,\r\n    linkedInWindowParams\r\n} from \"./config/auth\";\r\nimport flareBook from \"./config/flare\";\r\nimport userOptions from \"./config/user\";\r\nimport {\r\n    linkedInRedirectUri,\r\n    linkedInAppState,\r\n    linkedInAppClientId,\r\n    googleRedirectUri,\r\n    googleAppClientId,\r\n} from \"./env/auth\";\r\nimport {REDIRECT_CLOSE_INTERVAL} from \"./env/redirect\";\r\n\r\n// ---------------\r\n// Auth menu items\r\n// ---------------\r\n\r\nexport const switchOptionLoginCreate = () => async (dispatch,getState) => {\r\n    return dispatch({type:actionType.SWITCH_OPTION_LOGIN_CREATE,payload:{}});\r\n};\r\n\r\n// ------\r\n// Logout\r\n// ------\r\n\r\nexport const logout = payload => async (dispatch,getState) => {\r\n    if (getState().client.userAccess.loggedIn) {\r\n        return await Promise.resolve()\r\n            .then   (()           => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n            .then   (()           => dispatch(processRequest(requestType.POST,endpoint.AUTH_LOGOUT,{refreshJwt:(getState().client.userAccess.refreshJwt)})))\r\n            .then   (()           => dispatch({type:actionType.LOGOUT,payload}))\r\n            .then   (()           => dispatch(cancelRefreshTokens()))\r\n            .then   (()           => dispatch(fetchChannels()))\r\n            .then   (()           => dispatch(stopUserWorker()))\r\n            .then   (()           => dispatch(deselectPopulation()))\r\n            .then   (()           => dispatch(FBlogout()))\r\n            .catch  (error        => {throw flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGOUT)})\r\n            .finally(()           => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n    }\r\n};\r\n\r\n// ------\r\n// Tokens\r\n// ------\r\n\r\nconst cancelRefreshTokens = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()           => clearTimeout(getState().session.workers.refreshTokens))\r\n        .then   (()           => dispatch({type:actionType.STOP_REFRESH_TOKENS_WORKER,payload:{}}))\r\n        .catch  (()           => {throw flareBook.errorFlare.ERROR_STOP_TOKEN_REFRESH});\r\n};\r\n\r\nconst scheduleRefreshTokens = intervalTime => async (dispatch,getState) => {\r\n    const refreshTokensWorker = setTimeout(async () => {\r\n        let tokens;\r\n        return await Promise.resolve()\r\n            .then   (()           => dispatch(processRequest(requestType.POST,endpoint.AUTH_REFRESH,{refreshJwt:(getState().client.userAccess.refreshJwt)})))\r\n            .then   (result       => {tokens=result;})\r\n            .then   (()           => dispatch({type:actionType.REFRESH_TOKENS,payload:tokens}))\r\n            .then   (()           => dispatch(scheduleRefreshTokens(tokens.accessJwtExpiry)))\r\n            .catch  (error        => {throw flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN)})\r\n            .catch  (error        => {console.error(error);dispatch(logout({autoLogin:true}));});\r\n    },intervalTime/2);\r\n    dispatch({type:actionType.RECEIVE_REFRESH_TOKENS_WORKER,payload:{refreshTokensWorker}});\r\n};\r\n\r\n// --------\r\n// Channels\r\n// --------\r\n\r\nexport const fetchChannels = () => async (dispatch,getState) => {\r\n    let channels = {};\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(processRequest(requestType.GET,endpoint.AUTH_LISTCHANNELS,null)))\r\n        .then   (result           => result.map((channel,i) => channels[channel.channelName]=channel.channelMode))\r\n        .then   (()               => dispatch({type:actionType.RECEIVE_CHANNELS,payload:channels}))\r\n        .catch  (error            => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.ERR_CHANNEL_FETCH)));\r\n};\r\n\r\nexport const fetchUserChannels = () => async (dispatch,getState) => {\r\n    let channels = {};\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(processRequest(requestType.GET,endpoint.USERACCESS_LISTUSERCHANNELS,null)))\r\n        .then   (result           => result.map((channel,i) => channels[channel.channelName]=channel.channelMode))\r\n        .then   (()               => dispatch({type:actionType.RECEIVE_USER_CHANNELS,payload:channels}))\r\n        .catch  (error            => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.ERR_USER_CHANNEL_FETCH)));\r\n};\r\n\r\nexport const deleteChannel = (channelName) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()                           => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()                           => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_DELETE+\"/\"+channelName,{})))\r\n        .then   (()                           => dispatch(fetchUserChannels()))\r\n        .catch  (error                        => dispatch(emitFlare(flareBook.flareType.ERROR,error)))\r\n        .finally(()                           => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const setPayChannel = (payChannel) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => {if (!Channel.channelIsOpen(getState().client.userAccess.channels[payChannel])) {dispatch(switchOptionUserMenu(\"ADD\")); throw flareBook.errorFlare.CHANNEL_CLOSED;}})\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_SETPAYCHANNEL,{payChannel})))\r\n        .then   (newPayChannel    => dispatch({type:actionType.RECEIVE_PAY_CHANNEL,payload:{payChannel:newPayChannel}}))\r\n        .catch  (error            => {if (error !== flareBook.errorFlare.CHANNEL_CLOSED) throw error;})\r\n        .catch  (error            => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.ERR_PAY_CHANNEL_UPDATE)));\r\n};\r\n\r\n// ----------------------\r\n// Login and verification\r\n// ----------------------\r\n\r\nconst finalizeLogin = (loginData) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => {if (!loginData.userId) throw loginData.loginError;})\r\n        .then   (()               => dispatch({type:actionType.LOGIN,payload:loginData}))\r\n        .then   (()               => dispatch(scheduleRefreshTokens(loginData.accessJwtExpiry)))\r\n        .then   (()               => dispatch(fetchDetails()))\r\n        .then   (()               => dispatch(activateUserWorker()))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (()               => dispatch(logout({autoLogin:false})))\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nconst verifyBlockchainEthereum = () => async (dispatch,getState) => {\r\n    let ethAddress = getState().client.userAccess.ethAddress;\r\n    let challengeTokens;\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.AUTH_CHALLENGE_BLOCKCHAINETHEREUM,{ethAddress})))\r\n        .then   (result           => {challengeTokens={challengeJwt:result.challengeJwt,hashedJwt:result.hashedJwt};})\r\n        .then   (()               => dispatch(signMessage(challengeTokens.hashedJwt)))\r\n        .then   (signedMessage    => ({ethAddress,challengeSolution:{challengeJwt:challengeTokens.challengeJwt,hashedJwt:challengeTokens.hashedJwt,signedMessage}}));\r\n};\r\n\r\nexport const createBlockchainEthereum = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(verifyBlockchainEthereum()))\r\n        .then   (solvedChallenge  => dispatch(processRequest(requestType.POST,endpoint.AUTH_CREATE_BLOCKCHAINETHEREUM,solvedChallenge)))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)));\r\n};\r\n\r\nexport const loginBlockchainEthereum = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(verifyBlockchainEthereum()))\r\n        .then   (solvedChallenge  => dispatch(processRequest(requestType.POST,endpoint.AUTH_LOGIN_BLOCKCHAINETHEREUM,solvedChallenge)))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)));\r\n};\r\n\r\nexport const addBlockchainEthereum = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(verifyBlockchainEthereum()))\r\n        .then   (solvedChallenge  => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_ADD_BLOCKCHAINETHEREUM,solvedChallenge)))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const updateBlockchainEthereum = () => async (dispatch, getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(verifyBlockchainEthereum()))\r\n        .then   (solvedChallenge  => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_UPDATE_BLOCKCHAINETHEREUM,solvedChallenge)))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const createKeyboardForm = (username,password) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.AUTH_CREATE_KEYBOARD,{username,password})))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)));\r\n};\r\n\r\nexport const loginKeyboardForm = (username,password) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.AUTH_LOGIN_KEYBOARD,{username,password})))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)));\r\n};\r\n\r\nexport const addKeyboardForm = (username,password) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_ADD_KEYBOARD,{username,password})))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .then   (()               => dispatch(abandonKeyboard()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const updateKeyboardForm = (username,password) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_UPDATE_KEYBOARD,{username,password})))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .then   (()               => dispatch(abandonKeyboard()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const abandonKeyboard = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.ABANDON_KEYBOARD,payload:{}}));\r\n};\r\n\r\nexport const chooseKeyboard = (payload) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.CHOOSE_KEYBOARD,payload}));\r\n};\r\n\r\nexport const createKeyboard = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(chooseKeyboard({})));\r\n};\r\n\r\nexport const loginKeyboard = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(chooseKeyboard({})));\r\n};\r\n\r\nexport const addKeyboard = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(chooseKeyboard({optionKeyboardMode:userOptions.optionKeyboardMode.ADD})));\r\n};\r\n\r\nexport const updateKeyboard = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(chooseKeyboard({optionKeyboardMode:userOptions.optionKeyboardMode.UPDATE})));\r\n};\r\n\r\nconst receiveFacebookLoginStatus = (loginStatus,resolve) => async (dispatch,getState) => {\r\n    let facebookLoginStatus = {};\r\n    return await Promise.resolve()\r\n        .then   (()               => {\r\n            facebookLoginStatus.facebookStatus=loginStatus.status;\r\n            facebookLoginStatus.facebookUserId=loginStatus.authResponse?loginStatus.authResponse.userID:null;\r\n            facebookLoginStatus.facebookUserAccessToken=loginStatus.authResponse?loginStatus.authResponse.accessToken:null;\r\n        })\r\n        .then   (()               => dispatch({type:actionType.RECEIVE_FACEBOOK_LOGIN_STATUS,payload:facebookLoginStatus}))\r\n        .then   (()               => resolve(facebookLoginStatus.facebookStatus));\r\n};\r\n\r\nconst FBgetLoginStatus = (resolveFBlogin) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => {if (!window.FB) throw(flareBook.errorFlare.FB_NOT_FOUND);})\r\n        .then   (()               => new Promise((resolveFBgetLoginStatus) => {window.FB.getLoginStatus(loginStatus=>dispatch(receiveFacebookLoginStatus(loginStatus,resolveFBgetLoginStatus)))}))\r\n        .then   (facebookStatus   => {if (resolveFBlogin) resolveFBlogin(facebookStatus); return facebookStatus;});\r\n};\r\n\r\nconst FBlogin = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => new Promise(resolveFBlogin => {window.FB.login(() => dispatch(FBgetLoginStatus(resolveFBlogin)),{scope:facebook.apiScope})}));\r\n};\r\n\r\nconst FBlogout = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(FBgetLoginStatus(null)))\r\n        .then   (facebookStatus   => {if (facebookStatus===facebook.status.connected) return new Promise((resolveFBlogout) => {window.FB.logout(()=>{resolveFBlogout(); return false;})});});\r\n};\r\n\r\nconst connectFacebook = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()               => {if (!window.FB) {throw (flareBook.errorFlare.FB_NOT_FOUND);}})\r\n        .then   (()               => dispatch(FBgetLoginStatus(null)))\r\n        .then   (facebookStatus   => {if ((facebookStatus===facebook.status.unknown)||(facebookStatus===facebook.status.not_authorized)) return dispatch(FBlogin());})\r\n        .then   (()               => ({facebookUserId:getState().client.userAccess.facebookUserId,facebookUserAccessToken:getState().client.userAccess.facebookUserAccessToken}));\r\n};\r\n\r\nconst fetchFacebookDetails = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(FBgetLoginStatus(null)))\r\n        .then   (facebookStatus   => new Promise((resolve) => {if (facebookStatus===facebook.status.connected) window.FB.api(facebook.apiQuery,(result=>resolve(result)));}))\r\n        .then   (facebookDetails  => ({name:facebookDetails.first_name,surname:facebookDetails.last_name,email:facebookDetails.email}))\r\n        .then   (facebookDetails  => dispatch(storeDetails(facebookDetails,{overwrite:false})))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.FB_NOT_FOUND));});\r\n};\r\n\r\nexport const createFacebook = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(connectFacebook()))\r\n        .then   (fbLoginPackage   => dispatch(processRequest(requestType.POST,endpoint.AUTH_CREATE_FACEBOOK,fbLoginPackage)))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)))\r\n        .then   (()               => dispatch(fetchFacebookDetails()));\r\n};\r\n\r\nexport const loginFacebook = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(connectFacebook()))\r\n        .then   (fbLoginPackage   => dispatch(processRequest(requestType.POST,endpoint.AUTH_LOGIN_FACEBOOK,fbLoginPackage)))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)))\r\n        .then   (()               => dispatch(fetchFacebookDetails()));\r\n};\r\n\r\nexport const addFacebook = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(connectFacebook()))\r\n        .then   (fbLoginPackage   => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_ADD_FACEBOOK,fbLoginPackage)))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (()               => dispatch(fetchFacebookDetails()))\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const updateFacebook = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(connectFacebook()))\r\n        .then   (fbLoginPackage   => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_UPDATE_FACEBOOK,fbLoginPackage)))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (()               => dispatch(fetchFacebookDetails()))\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nconst processLinkedInLogin = (event,waitingHandleResolve) => async (dispatch,getState) => {\r\n    let linkedInListener = null;\r\n    return await Promise.resolve()\r\n        .then   (()               => {if ((event.data.origin)&&(event.data.origin===EVENT_DATA_ORIGIN_THRUBI)) return event.data; else throw flareBook.errorFlare.MESSAGE_IGNORED;})\r\n        .then   (pjRenamed        => {dispatch({type:actionType.RECEIVE_LINKEDIN_LOGIN,payload:pjRenamed});})\r\n        .then   (()               => {linkedInListener=getState().client.userAccess.linkedInListener;})\r\n        .then   (()               => {window.removeEventListener(EVENT_TYPE_MESSAGE,linkedInListener);})\r\n        .then   (()               => getState().client.userAccess.linkedInWindow)\r\n        .then   (linkedInWindow   => {linkedInWindow.close();})\r\n        .then   (()               => dispatch({type:actionType.CLEAR_LINKEDIN_WINDOW_AND_LISTENER,payload:{}}))\r\n        .then   (()               => {waitingHandleResolve();})\r\n        .catch  (()               => null);\r\n};\r\n\r\nconst startupLinkedInLogin = () => async (dispatch,getState) => {\r\n    let linkedInWindow = null;\r\n    let linkedInListener = null;\r\n    let linkedInInterval = null;\r\n    let waitingHandleResolve = null;\r\n    let waitingHandle = new Promise(resolve => waitingHandleResolve=resolve);\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()               => {linkedInWindow = getState().client.userAccess.linkedInWindow;})\r\n        .then   (()               => ((linkedInWindow===null)||(linkedInWindow.closed)))\r\n        .then   (openNewWindow    => {if (openNewWindow) linkedInWindow = window.open(linkedInAuthUri(linkedInRedirectUri,linkedInAppState,linkedInAppClientId),linkedInWindowName,linkedInWindowParams);})\r\n        .then   (()               => linkedInWindow.focus())\r\n        .then   (()               => {linkedInInterval = setInterval(() => {if (linkedInWindow.closed) {waitingHandleResolve(); clearInterval(linkedInInterval);}},REDIRECT_CLOSE_INTERVAL);})\r\n        .then   (()               => {linkedInListener = event => dispatch(processLinkedInLogin(event,waitingHandleResolve));})\r\n        .then   (()               => {window.addEventListener(EVENT_TYPE_MESSAGE,linkedInListener);})\r\n        .then   (()               => dispatch({type:actionType.RECEIVE_LINKEDIN_WINDOW_AND_LISTENER,payload:{linkedInWindow,linkedInListener}}))\r\n        .then   (()               => waitingHandle)\r\n        .then   (()               => ({linkedInCode:getState().client.userAccess.linkedInCode,linkedInState:getState().client.userAccess.linkedInState}));\r\n};\r\n\r\nexport const createLinkedIn = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(startupLinkedInLogin()))\r\n        .then   (liLoginPackage   => dispatch(processRequest(requestType.POST,endpoint.AUTH_CREATE_LINKEDIN,liLoginPackage)))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)));\r\n};\r\n\r\nexport const loginLinkedIn = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(startupLinkedInLogin()))\r\n        .then   (liLoginPackage   => dispatch(processRequest(requestType.POST,endpoint.AUTH_LOGIN_LINKEDIN,liLoginPackage)))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)));\r\n};\r\n\r\nexport const addLinkedIn = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(startupLinkedInLogin()))\r\n        .then   (liLoginPackage   => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_ADD_LINKEDIN,liLoginPackage)))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const updateLinkedIn = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(startupLinkedInLogin()))\r\n        .then   (liLoginPackage   => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_UPDATE_LINKEDIN,liLoginPackage)))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nconst processGoogleLogin = (event,waitingHandleResolve) => async (dispatch,getState) => {\r\n    let googleListener = null;\r\n    return await Promise.resolve()\r\n        .then   (()               => {if ((event.data.origin)&&(event.data.origin===EVENT_DATA_ORIGIN_THRUBI)) {console.error(event.data); return event.data;} else throw flareBook.errorFlare.MESSAGE_IGNORED;})\r\n        .then   (pjRenamed        => {dispatch({type:actionType.RECEIVE_GOOGLE_LOGIN,payload:pjRenamed});})\r\n        .then   (()               => {googleListener=getState().client.userAccess.googleListener;})\r\n        .then   (()               => {window.removeEventListener(EVENT_TYPE_MESSAGE,googleListener);})\r\n        .then   (()               => getState().client.userAccess.googleWindow)\r\n        .then   (googleWindow     => {googleWindow.close();})\r\n        .then   (()               => dispatch({type:actionType.CLEAR_GOOGLE_WINDOW_AND_LISTENER,payload:{}}))\r\n        .then   (()               => {waitingHandleResolve();})\r\n        .catch  (()               => null);\r\n};\r\n\r\nconst startupGoogleLogin = () => async (dispatch,getState) => {\r\n    let googleWindow = null;\r\n    let googleListener = null;\r\n    let googleInterval = null;\r\n    let waitingHandleResolve = null;\r\n    let waitingHandle = new Promise(resolve => waitingHandleResolve=resolve);\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()               => {googleWindow = getState().client.userAccess.googleWindow;})\r\n        .then   (()               => ((googleWindow===null)||(googleWindow.closed)))\r\n        .then   (openNewWindow    => {if (openNewWindow) googleWindow = window.open(googleAuthUri(googleRedirectUri,googleAppClientId),googleWindowName,googleWindowParams);})\r\n        .then   (()               => googleWindow.focus())\r\n        .then   (()               => {googleInterval = setInterval(() => {if (googleWindow.closed) {waitingHandleResolve(); clearInterval(googleInterval);}},REDIRECT_CLOSE_INTERVAL);})\r\n        .then   (()               => {googleListener = event => dispatch(processGoogleLogin(event,waitingHandleResolve));})\r\n        .then   (()               => {window.addEventListener(EVENT_TYPE_MESSAGE,googleListener);})\r\n        .then   (()               => dispatch({type:actionType.RECEIVE_GOOGLE_WINDOW_AND_LISTENER,payload:{googleWindow,googleListener}}))\r\n        .then   (()               => waitingHandle)\r\n        .then   (()               => ({googleCode:getState().client.userAccess.googleCode}));\r\n};\r\n\r\nexport const createGoogle = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(startupGoogleLogin()))\r\n        .then   (gLoginPackage    => dispatch(processRequest(requestType.POST,endpoint.AUTH_CREATE_GOOGLE,gLoginPackage)))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)));\r\n};\r\n\r\nexport const loginGoogle = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(startupGoogleLogin()))\r\n        .then   (gLoginPackage    => dispatch(processRequest(requestType.POST,endpoint.AUTH_LOGIN_GOOGLE,gLoginPackage)))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .then   (loginData        => dispatch(finalizeLogin(loginData)));\r\n};\r\n\r\nexport const addGoogle = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(startupGoogleLogin()))\r\n        .then   (gLoginPackage    => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_ADD_GOOGLE,gLoginPackage)))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const updateGoogle = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(startupGoogleLogin()))\r\n        .then   (gLoginPackage    => dispatch(processRequest(requestType.POST,endpoint.USERACCESS_UPDATE_GOOGLE,gLoginPackage)))\r\n        .then   (()               => dispatch(fetchUserChannels()))\r\n        .catch  (error            => {dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareFallback(error,flareBook.errorFlare.FAILED_LOGIN))); return {loginError:true};})\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};\r\n\r\nexport const createPayPal = () => async (dispatch,getState) => {\r\n    return await Promise.resolve();\r\n};\r\n\r\nexport const loginPayPal = () => async (dispatch,getState) => {\r\n    return await Promise.resolve();\r\n};\r\n\r\nexport const addPayPal = () => async (dispatch,getState) => {\r\n    return await Promise.resolve();\r\n};\r\n\r\nexport const updatePayPal = () => async (dispatch,getState) => {\r\n    return await Promise.resolve();\r\n};\r\n\r\nexport const sendRedirect = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => window.location.search)\r\n        .then   (params           => JSON.parse('{\"'+decodeURI(params).replace(\"?\",\"\").replace(/\"/g,'\\\\\"').replace(/&/g,'\",\"').replace(/=/g,'\":\"')+'\"}'))\r\n        .then   (pJson            => ({code:pJson.code,state:pJson.state,origin:EVENT_DATA_ORIGIN_THRUBI}))\r\n        .then   (pjRenamed        => {if (window.opener) window.opener.postMessage(pjRenamed);});\r\n};","import Web3 from \"web3\";\r\nimport {logout} from \"./auth\";\r\nimport {emitFlare} from \"./flare\";\r\nimport {ethEventType} from \"./config/blockchain_ethereum\";\r\nimport actionType from \"../reducers/config/actionTypes\";\r\nimport flareBook from \"./config/flare\";\r\nimport {THRUBI_ABI,THRUBI_ADDRESS} from \"./env/blockchain_ethereum\";\r\nimport {INTERVAL_ETH_ADDRESS_WORKER, INTERVAL_ETH_NETWORK_WORKER} from \"./env/workers\";\r\n\r\nexport const signMessage = hash => async (dispatch,getState) =>  {\r\n    const web3 = new Web3(Web3.givenProvider);\r\n    const ethAddress = getState().client.userAccess.ethAddress;\r\n    return await web3.eth.personal.sign(hash,ethAddress,null);\r\n};\r\n\r\nexport const enableBlockchain = () => async (dispatch,getState) => {\r\n    // Extract injected Web3\r\n    const web3 = new Web3(Web3.givenProvider);\r\n    // Generate contract\r\n    const thrubiContract = new web3.eth.Contract(THRUBI_ABI,THRUBI_ADDRESS);\r\n    dispatch({type:actionType.RECEIVE_THRUBI_CONTRACT,payload:{thrubiContract}});\r\n    // Fetch network type\r\n    const ethNetworkWorker = setInterval(() => {\r\n        web3.eth.net.getNetworkType()\r\n            .then(ethNetwork    => ({ethNetwork,changed:ethNetwork !== getState().client.userAccess.ethNetwork}))\r\n            .then(result        => {if (result.changed) dispatch({type:actionType.UPDATE_ETH_NETWORK,payload:{ethNetwork:result.ethNetwork}}); return result;});\r\n            //.then(result        => {if (result.changed) dispatch(emitFlare(flareBook.flareType.INFO,flareBook.infoFlare.DETECTED_ETH_NETWORK_CHANGE));});\r\n    },INTERVAL_ETH_NETWORK_WORKER);\r\n    dispatch({type:actionType.RECEIVE_ETH_NETWORK_WORKER,payload:{ethNetworkWorker}});\r\n    // Enable MetaMask and fetch account, then login with blockchain\r\n    const ethAddressWorker = setInterval(() => {\r\n        window.ethereum.enable()\r\n            .then (()           => web3.eth.getAccounts())\r\n            .catch(error        => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.CANNOT_ENABLE_ETHEREUM)))\r\n            .then (accounts     => accounts[0])\r\n            .then (ethAddress   => ({ethAddress,changed:ethAddress !== getState().client.userAccess.ethAddress}))\r\n            .then (result       => {if (result.changed) dispatch(logout({autoLogin:true})); return result;})\r\n            .then (result       => {if (result.changed) dispatch({type:actionType.UPDATE_ETH_ADDRESS,payload:{ethAddress:result.ethAddress}}); return result;});\r\n            //.then (result       => {if (result.changed) dispatch(emitFlare(flareBook.flareType.INFO,flareBook.infoFlare.DETECTED_ETH_ADDRESS_CHANGE))});\r\n    },INTERVAL_ETH_ADDRESS_WORKER);\r\n    dispatch({type:actionType.RECEIVE_ETH_ADDRESS_WORKER,payload:{ethAddressWorker}});\r\n};\r\n\r\nexport const transform = (transformEth) => (dispatch,getState) => {\r\n    const transformContract = getState().session.blockchain.thrubiContract.methods.transform;\r\n    const ethAddress = getState().client.userAccess.ethAddress;\r\n    const populationId = getState().client.population.id;\r\n    const userId = getState().client.user.id;\r\n    return new Promise((resolve,reject) => {\r\n        transformContract(ethAddress,populationId,userId)\r\n            .send({from:ethAddress,value:transformEth*1e18})\r\n            .once(ethEventType.confirmation,() => {\r\n                    // Thrubi will automatically process the transform via its workers on the backend\r\n                    resolve();\r\n                }\r\n            );\r\n    });\r\n};\r\n\r\n\r\n","export const EVENT_DATA_ORIGIN_THRUBI=\"THRUBI\";\r\nexport const EVENT_TYPE_MESSAGE=\"message\";","export const REDIRECT_CLOSE_INTERVAL = 500;\r\n","import {processRequest} from \"./server\";\r\nimport {emitFlare} from \"./flare\";\r\nimport {logout} from \"./auth\";\r\nimport {activationState,detailName,flagFlare,userFlags} from \"./config/user\";\r\nimport flareBook from \"./config/flare\";\r\nimport {requestType} from \"./config/http\";\r\nimport actionType, {busyPayload} from \"../reducers/config/actionTypes\";\r\nimport {endpoint} from \"./config/server\";\r\nimport {INTERVAL_USER_WORKER} from \"./env/workers\";\r\n\r\nexport const switchOptionUserMenu = (optionUserMenu) => async (dispatch,getState) => {\r\n    return dispatch({type:actionType.SWITCH_OPTION_USER_MENU,payload:{optionUserMenu}});\r\n};\r\n\r\nexport const fetchDetails = () => async (dispatch,getState) => {\r\n    let details = {};\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(processRequest(requestType.GET,endpoint.USER_DETAILS_FETCH,null)))\r\n        .then   (result           => result.map((detail,i) => details[detail.detailName]=detail.detailValue))\r\n        .then   (()               => dispatch({type:actionType.RECEIVE_USER_DETAILS,payload:details}))\r\n        .catch  (error            => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.ERR_USER_DETAILS)));\r\n};\r\n\r\nexport const deleteDetails = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_USERDETAILS}))\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.USER_DETAILS_DELETE,null)))\r\n        .then   (()               => dispatch({type:actionType.DELETE_USER_DETAILS,payload:{}}))\r\n        .catch  (error            => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.ERR_USER_DETAILS)))\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_USERDETAILS}));\r\n};\r\n\r\nexport const storeDetails = (userDetails,overwrite) => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_USERDETAILS}))\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.USER_DETAILS_STORE,Object.assign({},{userDetails},overwrite))))\r\n        .then   (()               => dispatch(fetchDetails()))\r\n        .catch  (error            => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.ERR_USER_DETAILS)))\r\n        .finally(()               => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_USERDETAILS}));\r\n};\r\n\r\nexport const uploadDocument = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()               => dispatch(storeDetails({[detailName.submittedDocument]:true},{overwrite:true})))\r\n        .then   (()               => dispatch(processRequest(requestType.POST,endpoint.USER_CERTIFY,{})));\r\n};\r\n\r\nconst flareUserFlags = flags => async (dispatch,getState) => {\r\n    Object.keys(userFlags).map(async flag => {\r\n            if ((getState().client.user[flag])&&(flags[flag]!==getState().client.user[flag]))\r\n                return await dispatch(emitFlare(flareBook.flareType.INFO,flagFlare(flags[flag],flag)));\r\n        }\r\n    );\r\n};\r\n\r\nexport const activateUserWorker = () => async (dispatch,getState) => {\r\n    let userWorker = setInterval((() => {\r\n        let userFlags;\r\n        const activity = () => {\r\n            return Promise.resolve()\r\n                .then (()         => dispatch(processRequest(requestType.GET,endpoint.USER_GETFLAGS,null)))\r\n                .then (flags      => userFlags=flags)\r\n                .then (()         => dispatch(flareUserFlags(userFlags)))\r\n                .then (()         => dispatch({type:actionType.RECEIVE_USER_FLAGS,payload:userFlags}))\r\n                .catch(error      => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.ERR_USER_FLAGS)));\r\n        };\r\n        activity();\r\n        return activity;\r\n    })(),INTERVAL_USER_WORKER);\r\n    dispatch({type:actionType.RECEIVE_USER_WORKER,payload:{userWorker}});\r\n};\r\n\r\nexport const stopUserWorker = () => async (dispatch,getState) => {\r\n    clearInterval(getState().session.workers.user);\r\n    dispatch({type:actionType.STOP_USER_WORKER,payload:{}});\r\n};\r\n\r\nexport const activateUser = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()              => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_ACTIVATEUSER}))\r\n        .then   (()              => dispatch({type:actionType.CLEAR_POPULATION,payload:{}}))\r\n        .then   (()              => dispatch(processRequest(requestType.POST,endpoint.USER_ACTIVATE,null)))\r\n        .then   (()              => dispatch({type:actionType.SET_USER_ACTIVATED,payload:{}}))\r\n        .catch  (error           => {throw flareBook.flareFallback(error,flareBook.errorFlare.USER_ACTIVATION);})\r\n        .finally(()              => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_ACTIVATEUSER}));\r\n};\r\n\r\nexport const deactivateUser = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()              => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_ACTIVATEUSER}))\r\n        .then   (()              => dispatch({type:actionType.CLEAR_POPULATION,payload:{}}))\r\n        .then   (()              => dispatch(processRequest(requestType.POST,endpoint.USER_DEACTIVATE,{activationState:activationState.userRequestDeactivated})))\r\n        .then   (()              => dispatch({type:actionType.SET_USER_DEACTIVATED,payload:{}}))\r\n        .catch  (error           => {throw flareBook.flareFallback(error,flareBook.errorFlare.USER_ACTIVATION);})\r\n        .finally(()              => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_ACTIVATEUSER}));\r\n};\r\n\r\nexport const declareIncome = mDeclared => async (dispatch,getState) => {\r\n    return Promise.resolve()\r\n        .then  (() => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_DECLAREINCOME}))\r\n        .then  (() => dispatch(processRequest(requestType.POST,endpoint.MEMBER_REQUEST_DECLAREINCOME+\"/\"+getState().client.population.id+\"/\"+mDeclared,null)))\r\n        .catch (error => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.flareType.ERR_GENERIC_USERMENU)))\r\n        .finally(() => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_DECLAREINCOME}));\r\n};\r\n\r\nexport const close = () => async (dispatch,getState) => {\r\n    return await Promise.resolve()\r\n        .then   (()             => dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}))\r\n        .then   (()             => dispatch(processRequest(requestType.POST,endpoint.USER_CLOSE,{})))\r\n        .then   (()             => dispatch(logout({autoLogin:false})))\r\n        .catch  (error          => dispatch(emitFlare(flareBook.flareType.ERROR,flareBook.errorFlare.ERR_ACCOUNT_CLOSE)))\r\n        .finally(()              => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_COMPONENT_AUTH}));\r\n};","import React,{Component,Fragment} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport _CcyRow from \"./_CcyRow\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport {declareIncome} from \"../actions/user\";\r\n\r\nclass _MemberDeclareIncome extends Component {\r\n    render() {\r\n        const {mCurrent,ccySymbol,declareIncomeBusy,incomeApproved} = this.props;\r\n        const {declareIncome} = this.props;\r\n        let mDeclared;\r\n\r\n        return (\r\n            <div className=\"navbar-light col-lg-4 container-fluid row m-0\">\r\n                {\r\n                    declareIncomeBusy?\"Busy processing income declaration\":\r\n                        <Fragment>\r\n                            <div className=\"col-lg-12\">\r\n                                <_CcyRow text=\"Declared income\" bold={false} value={mCurrent} ccySymbol={ccySymbol}/>\r\n                            </div>\r\n                            <div className=\"col-lg-12 small\">\r\n                                Your income is currently:&nbsp;\r\n                                <span className={\"badge \"+(incomeApproved>0?\"badge-info\":\"badge-danger\")}>{incomeApproved>0?\"Officially approved\":(incomeApproved<0?\"Pending approval\":\"Not approved\")}</span>\r\n                            </div>\r\n                            <div className=\"col-lg-12\">\r\n                                <div className=\"row\">\r\n                                    <input ref={(input) => mDeclared = input}\r\n                                           type=\"text\" className=\"form-control form-control-sm rounded-0 m-0\"\r\n                                           placeholder={mCurrent.toFixed(2)+\" \"+ccySymbol} required/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-lg-12 p-0 m-0\">\r\n                                <_ActionButton text=\"Declare new income\" action={() => declareIncome(mDeclared.value)}\r\n                                               buttonType=\"btn-primary m-0\"/>\r\n                            </div>\r\n                        </Fragment>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    ccySymbol: state.client.population.ccySymbol,\r\n    mCurrent: state.client.member.mCurrent,\r\n    incomeApproved: state.client.user.incomeApproved,\r\n    declareIncomeBusy: state.session.busy.action.declareIncome,\r\n});\r\n\r\nconst MemberDeclareIncome = connect(mapStateToProps,{declareIncome})(_MemberDeclareIncome);\r\n\r\nexport default MemberDeclareIncome;","import React, {Fragment} from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport MemberOptions from \"./MemberOptions\";\r\nimport MemberInfo from \"./MemberInfo\";\r\nimport MemberDeclareIncome from \"./MemberDeclareIncome\";\r\n\r\nconst _MemberBar = ({\r\n    countryName,\r\n    ccyId,\r\n    busy,\r\n    loggedIn,\r\n    populationId,\r\n}) => (\r\n    <div className=\"container-fluid row p-0 m-0 text-primary text-center p-0 mt-3\">\r\n        {\r\n            busy ? \"Viewport loading...\" :\r\n                ((!loggedIn) || (populationId<0)) ? \"\" :\r\n                    <Fragment>\r\n                        <div className=\"col-lg-12 p-0 m-0 bg-primary text-light text-center mb-3\">\r\n                            <div><b>{countryName}</b>&nbsp;<small>{ccyId}&nbsp;<i>pid#{populationId}</i></small></div>\r\n                        </div>\r\n                        <MemberInfo />\r\n                        <MemberDeclareIncome />\r\n                        <MemberOptions />\r\n                    </Fragment>\r\n        }\r\n    </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    countryName: state.client.population.countryName,\r\n    ccyId: state.client.population.ccyId,\r\n    ccySymbol: state.client.population.ccySymbol,\r\n    busy: state.session.busy.component.viewport,\r\n    loggedIn: state.client.userAccess.loggedIn,\r\n    populationId: state.client.population.id,\r\n});\r\n\r\nconst MemberBar = connect(mapStateToProps,{})(_MemberBar);\r\n\r\nexport default MemberBar;","import React from 'react';\r\nimport Channel from \"../classes/Channel\";\r\n\r\nconst _RadioButtons = ({columnSize,color,activeFilter,checkedFilter,action,elements}) =>\r\n    <div data-toggle=\"buttons\" className=\"btn btn-block btn-group btn-group-toggle border-0 row p-0 m-0 my-2\">\r\n        {\r\n            elements.map((element,key) =>\r\n                <button\r\n                    key={element.key}\r\n                    id={element.key}\r\n                    onClick={(event) => {event.preventDefault();action(element.key);}}\r\n                    defaultChecked={checkedFilter === element.key}\r\n                    disabled={false} //should be using disabledFilter, but having CSS issues\r\n                    className={\"btn btn-sm btn-block small rounded-0 p-0 m-0 py-2 \"+element.color+\" \"+columnSize+\"\" + (activeFilter === element.key ? \" active\" : \"\")}\r\n                >\r\n                    <div className={\"container row p-0 m-0\"+(element.channel?\"\":\" fullWidth\")}>\r\n                        <div className={(element.channel?\"\":\"fullWidth\")}>\r\n                            {\r\n                                !element.channel ? \"\" :\r\n                                    <img className=\"p-0 my-0 mx-2\" alt={element.channel} height=\"32\" width=\"32\" src={process.env.PUBLIC_URL+\"/png/\"+Channel.channelColor(element.channel)+\".png\"} />\r\n                            }\r\n                            <div className={(element.channel?\"ml-4\":\"fullWidth\")+\" displayInlineBlock text-\"+(element.channel?\"left\":\"center\")}>{element.text}</div>\r\n                        </div>\r\n                    </div>\r\n                </button>\r\n            )\r\n        }\r\n    </div>\r\n;\r\n\r\nexport default _RadioButtons;\r\n\r\n","import React from \"react\";\r\nimport _ActionButton from './_ActionButton';\r\n\r\nconst _KeyboardChannel = ({text,action,abandonAction,buttonType,abandonButtonType}) => {\r\n    let refs = {username:null,password:null};\r\n    return(\r\n        <div>\r\n            <input id=\"username\" ref={(input) => refs.username = input} type=\"text\" className=\"form-control form-control-sm my-2\" placeholder=\"username\" required />\r\n            <input id=\"password\" ref={(input) => refs.password = input} type=\"text\" className=\"form-control form-control-sm my-2\" placeholder=\"password\" required />\r\n            <_ActionButton text={text} action={() => {action(refs.username.value,refs.password.value);}} buttonType={buttonType}/>\r\n            <_ActionButton text=\"Back\" action={abandonAction} buttonType={abandonButtonType}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default _KeyboardChannel;","import React, {Component,Fragment} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Channel from \"../classes/Channel\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport _RadioButtons from \"./_RadioButtons\";\r\nimport _KeyboardChannel from \"./_KeyboardChannel\";\r\nimport * as auth from \"../actions/auth\";\r\nimport {switchOptionUserMenu} from \"../actions/user\";\r\nimport userOptions from \"../actions/config/user\";\r\n\r\nclass _Auth extends Component {\r\n    componentDidUpdate() {\r\n        const {busy,loggedIn,autoLogin,ethAddress} = this.props;\r\n        const {loginBlockchainEthereum} = this.props;\r\n\r\n        if ((!busy)&&(!loggedIn)&&(autoLogin)&&(ethAddress)) {\r\n            loginBlockchainEthereum();\r\n        }\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        const {logout} = this.props;\r\n        logout({autoLogin:false});\r\n    };\r\n    \r\n    authFunction(optionLoginCreate,channelName) {\r\n        return this.props[optionLoginCreate.toLowerCase()+Channel.channelAuthFunctionName(channelName)];\r\n    }\r\n\r\n    render() {\r\n        const {busy,loggedIn,optionLoginCreate,optionKeyboardMode,optionUserMenu,payChannel,channels} = this.props;\r\n        const {switchOptionLoginCreate,switchOptionUserMenu,abandonKeyboard,setPayChannel,deleteChannel,logout} = this.props;\r\n\r\n        return <div className=\"text-center small text-dark\">\r\n            {\r\n                busy ? \"Auth module busy...\" :\r\n                    <Fragment>\r\n                        {\r\n                            optionKeyboardMode === null ? \"\" :\r\n                                <_KeyboardChannel\r\n                                    text={Channel.keyboardChannelMessage(optionKeyboardMode)}\r\n                                    action={this.props[optionKeyboardMode.toLowerCase() + \"KeyboardForm\"]}\r\n                                    buttonType=\"btn btn-sm p-0 btn-primary\"\r\n                                    abandonAction={abandonKeyboard}\r\n                                    abandonButtonType=\"btn btn-sm p-0 btn-secondary\"/>\r\n                        }\r\n                        {\r\n                            (optionKeyboardMode !== null) || (loggedIn) ? \"\" :\r\n                                <Fragment>\r\n                                    {\r\n                                        Object.keys(channels).map((key) => {    //loop on individual channel types\r\n                                            if (Channel.channelIsForLogin(channels[key]))\r\n                                                return (\r\n                                                    <_ActionButton\r\n                                                        channel={key}\r\n                                                        text={Channel.channelUserFriendlyName(key,optionLoginCreate)}\r\n                                                        key={(optionLoginCreate === userOptions.optionLoginCreate.LOGIN ? \"login\" : \"create\")+key}\r\n                                                        action={this.authFunction(optionLoginCreate,key)}\r\n                                                        buttonType={\"btn btn-sm p-0 btn-\" + (optionLoginCreate === userOptions.optionLoginCreate.LOGIN ? \"\" : \"outline-\")}/>\r\n                                                );\r\n                                            else return \"\";\r\n                                        })\r\n                                    }\r\n                                </Fragment>\r\n                        }\r\n                        {\r\n                            loggedIn ? \"\" :\r\n                                <_ActionButton\r\n                                    text={optionLoginCreate === userOptions.optionLoginCreate.LOGIN ? \"I am new to Thrubi\" : \"I already have a Thrubi account\"}\r\n                                    action={switchOptionLoginCreate}\r\n                                    buttonType=\"nav-link border-0 text-small text-primary\"/>\r\n                        }\r\n                        {\r\n                            (optionKeyboardMode !== null) || (!loggedIn) ? \"\" :\r\n                                <Fragment>\r\n                                    <_ActionButton text=\"Logout\" action={logout} payload={{autoLogin: false}}\r\n                                                   buttonType=\"btn btn-sm p-0 btn-secondary\"/>\r\n                                    <_RadioButtons columnSize=\"col-lg-6\"\r\n                                                   activeFilter={optionUserMenu}\r\n                                                   checkedFilter={optionUserMenu}\r\n                                                   action={switchOptionUserMenu}\r\n                                                   elements={[  {color:\"btn-outline-primary\",key:userOptions.optionUserMenu.USER,    text:\"My account\",                 disabledFilter:optionUserMenu===userOptions.optionUserMenu.USER},\r\n                                                                {color:\"btn-outline-primary\",key:userOptions.optionUserMenu.PAY,     text:\"Payment\",                    disabledFilter:optionUserMenu===userOptions.optionUserMenu.PAY},\r\n                                                                {color:\"btn-outline-primary\",key:userOptions.optionUserMenu.MANAGE,  text:\"Manage login credentials\",   disabledFilter:optionUserMenu===userOptions.optionUserMenu.MANAGE},\r\n                                                                {color:\"btn-outline-primary\",key:userOptions.optionUserMenu.ADD,     text:\"Connect login credentials\",  disabledFilter:optionUserMenu===userOptions.optionUserMenu.ADD}]}/>\r\n                                    {\r\n                                        optionUserMenu === userOptions.optionUserMenu.USER ? \"\" :\r\n                                            <Fragment>\r\n                                                {\r\n                                                    optionUserMenu !== userOptions.optionUserMenu.PAY ? \"\" :\r\n                                                        <div className=\"my-4\">\r\n                                                            My payment method:\r\n                                                            <_RadioButtons columnSize=\"col-lg-12\"\r\n                                                                       activeFilter={payChannel}\r\n                                                                       checkedFilter={payChannel}\r\n                                                                       action={setPayChannel}\r\n                                                                       elements={Object.keys(channels).map(key => {    //loop on individual channel types\r\n                                                                            if (Channel.channelIsForPay(channels[key])) return ({\r\n                                                                                key:key,\r\n                                                                                channel:key,\r\n                                                                                color:\"btn-\" + (Channel.channelIsOpen(channels[key]) ? \"\" : \"outline-\")+Channel.channelColor(key),\r\n                                                                                disabledFilter:(key === payChannel),\r\n                                                                                text:Channel.channelUserFriendlyName(key, (key === payChannel ? \"USING\" : (Channel.channelIsOpen(channels[key]) ? \"USE\" : \"LINK\")))\r\n                                                                            }); else return null;\r\n                                                                       }).filter(element=>element!==null)}/>\r\n                                                        </div>\r\n                                                }\r\n                                                <div className=\"my-4\">\r\n                                                    {\r\n                                                        [\r\n                                                            {\r\n                                                                mode:   \"UPDATE\",\r\n                                                                action: (key) => this.props[\"update\"+Channel.channelAuthFunctionName(key)],\r\n                                                                color:  \"\",\r\n                                                                filter: (channelMode) => ((optionUserMenu === userOptions.optionUserMenu.MANAGE) && ((Channel.channelIsForLogin(channelMode) || (Channel.channelIsForPay(channelMode))) && (Channel.channelIsOpen(channelMode))))\r\n                                                            },\r\n                                                            {\r\n                                                                mode:   \"ADD\",\r\n                                                                action: (key) => this.props[\"add\"+Channel.channelAuthFunctionName(key)],\r\n                                                                color:  \"outline-\",\r\n                                                                filter: (channelMode) => ((optionUserMenu === userOptions.optionUserMenu.ADD) && (!Channel.channelIsOpen(channelMode)))\r\n                                                            },\r\n                                                            {\r\n                                                                mode:   \"DELETE\",\r\n                                                                action: (key) => () => deleteChannel(key),\r\n                                                                color:  \"outline-\",\r\n                                                                filter: (channelMode) => ((optionUserMenu === userOptions.optionUserMenu.MANAGE) && ((Channel.channelIsForLogin(channelMode) || (Channel.channelIsForPay(channelMode))) && (Channel.channelIsOpen(channelMode))))\r\n                                                            }\r\n                                                        ].map(actions => (\r\n                                                            <div key={actions.mode}>\r\n                                                                {\r\n                                                                    Object.keys(channels).map(key => {    //loop on individual channel types\r\n                                                                        if (actions.filter(channels[key])) return (\r\n                                                                            <_ActionButton\r\n                                                                                channel={key}\r\n                                                                                text={Channel.channelUserFriendlyName(key, actions.mode)}\r\n                                                                                action={actions.action(key)}\r\n                                                                                key={actions.mode + key}\r\n                                                                                buttonType={\"btn btn-sm p-0 btn-\" + actions.color}/>\r\n                                                                        ); else return \"\";\r\n                                                                    })\r\n                                                                }\r\n                                                            </div>\r\n                                                        ))\r\n                                                    }\r\n                                                </div>\r\n                                            </Fragment>\r\n                                    }\r\n                                </Fragment>\r\n                        }\r\n                    </Fragment>\r\n            }\r\n        </div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy:               state.session.busy.component.auth,\r\n    ethAddress:         state.client.userAccess.ethAddress,\r\n    optionLoginCreate:  state.client.user.optionLoginCreate,\r\n    optionKeyboardMode: state.client.user.optionKeyboardMode,\r\n    optionUserMenu:     state.client.user.optionUserMenu,\r\n    loggedIn:           state.client.userAccess.loggedIn,\r\n    autoLogin:          state.client.userAccess.autoLogin,\r\n    payChannel:         state.client.userAccess.payChannel,\r\n    channels:           state.client.userAccess.channels,\r\n});\r\n\r\nconst Auth = connect(mapStateToProps,Object.assign({},auth,{switchOptionUserMenu}))(_Auth);\r\n\r\nexport default Auth;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ActionButton from \"./_ActionButton\";\r\n\r\nclass _Info extends Component {\r\n    render() {\r\n        return(\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row py-2 rounded-bottom\">\r\n                    <div className=\"col-lg-4 p-0 navbar-light\">\r\n                        <div className=\"mx-2 thrubiBlue\">\r\n                            <div style={{\"backgroundImage\": \"url(\"+process.env.PUBLIC_URL+\"/jpg/crowd.jpg)\"}}\r\n                                 className=\"border-0 container-fluid align-top m-0 everybody\" />\r\n                            <div className=\"border-0 container-fluid align-top m-0 overflow-hidden topLeft p-4 text-primary\"><div className=\"opaque\">\r\n                                <h3>Everybody</h3>\r\n                                <p>\r\n                                    Be part of the sustainable societies of the future. If your country has adhered to a Thrubi plan,\r\n                                    you will be awarded Thrubi Blue each month, based on your current income.\r\n                                    Your Thrubi Blue will in turn give you the rights to regular payments.\r\n                                    Nobody can be extremely poor or extremely rich with Thrubi.\r\n                                </p>\r\n                                <_ActionButton text=\"Learn more\" action={() => {}} buttonType=\"btn-outline-primary\" />\r\n                            </div></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4 p-0 navbar-light\">\r\n                        <div className=\"mx-2 thrubiSilver\">\r\n                            <div style={{\"backgroundImage\": \"url(\"+process.env.PUBLIC_URL+\"/jpg/bloomberg.jpg)\"}}\r\n                                 className=\"border-0 container-fluid align-top m-0 wealthy\" />\r\n                            <div className=\"border-0 container-fluid align-top m-0 overflow-hidden topLeft p-4 text-secondary\"><div className=\"opaque\">\r\n                                <h3>Wealthy individuals</h3>\r\n                                <p>\r\n                                    If you are an investor, choose a sustainable future. As a wealthy individual,\r\n                                    you will have access to purchasing Thrubi Gold, the investment tool of sustainable societies.\r\n                                    Thrubi Gold can only be purchased by redeeming Thrubi Silver, which you will be awarded according\r\n                                    to your current income. Governments are accepting Thrubi Gold to pay tax duties.\r\n                                </p>\r\n                                <_ActionButton text=\"Learn more\" action={() => {}} buttonType=\"btn-outline-secondary\" />\r\n                            </div></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4 p-0 navbar-light\">\r\n                        <div className=\"mx-2 thrubiGold\">\r\n                            <div style={{\"backgroundImage\": \"url(\"+process.env.PUBLIC_URL+\"/jpg/futuristic.jpg)\"}}\r\n                                 className=\"border-0 container-fluid align-top m-0 societies\" />\r\n                            <div className=\"border-0 container-fluid align-top m-0 overflow-hidden topLeft p-4 text-success\"><div className=\"opaque\">\r\n                                <h3>Thriving societies</h3>\r\n                                <p>\r\n                                    If you are a sovereign government, you want your people to be at their best.\r\n                                    Thrubi stabilizes a country's income distribution. Growth is shared amongst all participants\r\n                                    of a society in a non-equal fashion: people with a higher net worth will stay richer.\r\n                                    Thrubi, however, will ensure that a society becomes richer as a whole.\r\n                                </p>\r\n                                <_ActionButton text=\"Learn more\" action={() => {}} buttonType=\"btn-outline-success\" />\r\n                            </div></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n});\r\n\r\nconst Info = connect(mapStateToProps,{})(_Info);\r\n\r\nexport default Info;","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass _UserIcon extends Component {\r\n    render() {\r\n        const {role, deactivated} = this.props;\r\n        return <img className=\"mt-3 rounded-lg\" alt={role + deactivated} height=\"128\" width=\"128\"\r\n                    src={process.env.PUBLIC_URL + \"/jpg/elio.jpg\"}/>\r\n        /* +\"/icons/\"+role+deactivated+\".png\" */\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    role:               state.client.user.role ? \"admin\" : \"user\",\r\n    deactivated:        state.client.user.deactivated ? \"_deactivated\" : \"\",\r\n});\r\n\r\nconst UserIcon = connect(mapStateToProps,{})(_UserIcon);\r\n\r\nexport default UserIcon;","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass _UserDetails extends Component {\r\n    render() {\r\n        const {id,name,surname,email,document,deactivated,emailVerified,identityCertified} = this.props;\r\n        return (\r\n            <div className=\"text-center mb-2\">\r\n                <div className=\"text-primary displayInlineBlock p-0\">\r\n                    <b>{(name || surname) ? (name ? name : \"\") + \" \" + (surname ? surname : \"\") : \"No user data\"}</b>&nbsp;\r\n                </div>\r\n                <div className=\"text-secondary displayInlineBlock small\">uid#{id}&nbsp;<span\r\n                    className={\"badge \"+(deactivated?\"badge-danger\":\"badge-info\")}>{deactivated?\"Deactivated\":\"Active account\"}</span></div>\r\n                <div className=\"text-secondary small\">email: {email ? email : \"not found\"}&nbsp;<span\r\n                    className={\"badge \"+(emailVerified?\"badge-info\":\"badge-danger\")}>{emailVerified?\"Email verified\":\"Pending verification\"}</span></div>\r\n                <div className=\"text-secondary small\">document#{document ? document : \"not found\"}&nbsp;<span\r\n                    className={\"badge \"+(identityCertified>0?\"badge-info\":\"badge-danger\")}>{identityCertified>0?\"Identity certified\":(identityCertified<0?\"Pending certification\":\"Not certified\")}</span></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    id:                 state.client.user.id,\r\n    name:               state.client.user.name,\r\n    surname:            state.client.user.surname,\r\n    email:              state.client.user.email,\r\n    document:           state.client.user.document,\r\n    deactivated:        state.client.user.deactivated,\r\n    emailVerified:      state.client.user.emailVerified,\r\n    identityCertified:  state.client.user.identityCertified,\r\n});\r\n\r\nconst UserDetails = connect(mapStateToProps)(_UserDetails);\r\n\r\nexport default UserDetails;","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport UserIcon from './UserIcon';\r\nimport UserDetails from './UserDetails';\r\n\r\nclass _UserView extends Component {\r\n    render() {\r\n        const {busy,loggedIn} = this.props;\r\n\r\n        return(\r\n            <div className=\"text-center\">\r\n                {\r\n                    busy ? <div>Dashboard loading...</div> :\r\n                        !loggedIn ? <div>User not logged in</div> :\r\n                            <div>\r\n                                <UserIcon />\r\n                                <UserDetails />\r\n                            </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy: state.session.busy.component.dashboard,\r\n    loggedIn:  state.client.userAccess.loggedIn,\r\n    role: state.client.user.role,\r\n});\r\n\r\nconst UserView = connect(mapStateToProps)(_UserView);\r\n\r\nexport default UserView;","import React, {Fragment} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport {activateUser,deactivateUser} from \"../actions/user\";\r\n\r\nconst _UserActivation = ({deactivated,activateUserBusy,activateUser,deactivateUser}) => {\r\n    return(\r\n        <Fragment>\r\n            {\r\n                activateUserBusy ? \"Please wait, activation request in progress...\" :\r\n                    deactivated ?\r\n                        <_ActionButton text=\"Request activation\" action={activateUser} buttonType=\"btn-primary\" />\r\n                        :\r\n                        <_ActionButton text=\"Deactivate my account\" action={deactivateUser} buttonType=\"btn-secondary\" />\r\n            }\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    deactivated: state.client.user.deactivated,\r\n    activateUserBusy: state.session.busy.action.activateUser,\r\n});\r\n\r\nconst UserActivation = connect(mapStateToProps,{activateUser,deactivateUser})(_UserActivation);\r\n\r\nexport default UserActivation;","import React, {Fragment} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport {storeDetails,deleteDetails} from \"../actions/user\";\r\n\r\nconst _UserManageDetails = ({updateUserBusy,name,surname,email,document,storeDetails,deleteDetails}) => {\r\n    let refs = {name,surname,email};\r\n    let fieldClassName = \"form-control form-control-sm rounded-0\";\r\n    return(\r\n        <Fragment>\r\n            {\r\n                updateUserBusy ?\r\n                    \"Updating user data...\"\r\n                    :\r\n                    <Fragment>\r\n                        <input id=\"inputUserName\"     ref={(input) => refs.name = input}      type=\"text\" className={fieldClassName} placeholder={name?name:\"Enter name\"} />\r\n                        <input id=\"inputUserSurname\"  ref={(input) => refs.surname = input}   type=\"text\" className={fieldClassName} placeholder={surname?surname:\"Enter surname\"} />\r\n                        <input id=\"inputUserEmail\"    ref={(input) => refs.email = input}     type=\"text\" className={fieldClassName} placeholder={email?email:\"Enter email address\"} />\r\n                        <input id=\"inputUserDocument\" disabled                                                     type=\"text\" className={fieldClassName} placeholder={document?document:\"Identity not verified\"} />\r\n                        <_ActionButton text=\"Update my personal data\"  buttonType=\"btn-primary\" action={() => {\r\n                            let userDetails = {};\r\n                            if (refs.name.value)        userDetails[\"name\"]=refs.name.value;\r\n                            if (refs.surname.value)     userDetails[\"surname\"]=refs.surname.value;\r\n                            if (refs.email.value)       userDetails[\"email\"]=refs.email.value;\r\n                            storeDetails(userDetails,{overwrite:true});\r\n                        }}/>\r\n                        <_ActionButton text=\"Delete my personal data\" action={deleteDetails} buttonType=\"btn-secondary\"  />\r\n                    </Fragment>\r\n            }\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    updateUserBusy: state.session.busy.action.userDetails,\r\n    name:           state.client.user.name,\r\n    surname:        state.client.user.surname,\r\n    email:          state.client.user.email,\r\n    document:       state.client.user.document,\r\n});\r\n\r\nconst UserManageDetails = connect(mapStateToProps,{storeDetails,deleteDetails})(_UserManageDetails);\r\n\r\nexport default UserManageDetails;","import React, {Component,Fragment} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport {uploadDocument} from \"../actions/user\";\r\n\r\nclass _UserIdentity extends Component {\r\n    render() {\r\n        const {identityCertified,countryName} = this.props;\r\n        const {uploadDocument} = this.props;\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className=\"my-3\">You are applying to become a Thrubi member in the following country: <b>{countryName}</b></div>\r\n                <_ActionButton text={identityCertified===0?\"Upload a document to start the identity certification procedure\":\"Thrubi is certifying your identity\"}\r\n                               disabled={identityCertified!==0} buttonType=\"btn-primary\" action={uploadDocument} />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    identityCertified:  state.client.user.identityCertified,\r\n    countryName:        state.client.population.countryName,\r\n});\r\n\r\nconst UserIdentity = connect(mapStateToProps,{uploadDocument})(_UserIdentity);\r\n\r\nexport default UserIdentity;","import React, {Component, Fragment} from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport _CcyRow from \"./_CcyRow\";\r\nimport {claim} from \"../actions/member\";\r\nimport _ActionButton from \"./_ActionButton\";\r\n\r\nclass _Claim extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            claimProcedureActive: false,\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {busy,populationId,claimBusy,thrubiBlueEth,ccySymbol,exrate,claim} = this.props;\r\n\r\n        return(\r\n            <div className=\"claimItem\">\r\n                {\r\n                    busy ? \"Claim loading...\" :\r\n                        populationId === -1 ? \"Please select a population, first.\" :\r\n                            claimBusy ? \"Busy processing claim\" :\r\n                                <div className=\"text-primary\">\r\n                                    {\r\n                                        !this.state.claimProcedureActive ? \"\" :\r\n                                            <Fragment>\r\n                                                <div className=\"small text-justify\">\r\n                                                    Fees will be deducted to pay for the blockchain transaction.\r\n                                                    The remaining Ξ will be credited in full, values in { ccySymbol } are just an indication.\r\n                                                </div>\r\n                                                <div className=\"container\">\r\n                                                    <_CcyRow text=\"You can claim\"             bold={false} value={thrubiBlueEth} ccySymbol=\"Ξ\" />\r\n                                                    <_CcyRow text={\"Claimable in \"+ccySymbol} bold={false} value={(thrubiBlueEth * exrate)} ccySymbol={ccySymbol} />\r\n\r\n                                                </div>\r\n                                                <_ActionButton action={claim} disabled={!thrubiBlueEth}\r\n                                                               buttonType={\"btn btn-sm p-0 btn-block btn-\"+(thrubiBlueEth?\"primary\":\"light\")}\r\n                                                               text={thrubiBlueEth?(\"Claim your \" +thrubiBlueEth.toFixed(2) + \" Ξ\"):\"Nothing to claim\"}/>\r\n                                            </Fragment>\r\n                                    }\r\n                                    <_ActionButton\r\n                                        disabled={((!thrubiBlueEth)&&(!this.state.claimProcedureActive))}\r\n                                        buttonType={\"btn-\"+(this.state.claimProcedureActive?\"\":\"outline-\")+\"primary\"+(thrubiBlueEth?\" active\":\"\")}\r\n                                        text={(this.state.claimProcedureActive?\"Close\":(thrubiBlueEth?\"Activate claim procedure\":\"Nothing to claim\"))}\r\n                                        action={() => {this.setState({claimProcedureActive: !this.state.claimProcedureActive});}} />\r\n                                </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy: state.session.busy.component.claim,\r\n    populationId: state.client.population.id,\r\n    claimBusy: state.session.busy.action.claim,\r\n    thrubiBlueEth: state.client.member.thrubiBlueEth,\r\n    ccySymbol: state.client.population.ccySymbol,\r\n    exrate: state.global.market.exrate,\r\n});\r\n\r\nconst Claim = connect(mapStateToProps,{claim})(_Claim);\r\n\r\nexport default Claim;","import React, {Fragment} from 'react';\r\nimport _CcyRow from './_CcyRow';\r\n\r\nconst _MemberBlue = ({\r\n    ccySymbol,\r\n    member,\r\n    exrate,\r\n    optionViewHistory,\r\n    optionAdvancedMode,\r\n}) => (\r\n    <div className=\"container-fluid\">\r\n        {\r\n            optionAdvancedMode ?\r\n                <Fragment>\r\n                    <_CcyRow text=\"Your ₿₮ level\"               bold={false} value={ member.thrubiBlue} ccySymbol={\"₿₮\"} />\r\n                    <_CcyRow text=\"Next month ₿₮\"               bold={false} value={ member.thrubiBlueNext} ccySymbol={\"₿₮\"} />\r\n                    <_CcyRow text=\"Claimable Ξ\"                 bold={false} value={ member.thrubiBlueEth} ccySymbol={\"Ξ\"} />\r\n                    <_CcyRow text=\"₿₮ awards\"                   bold={false} value={ member.thrubiBlueAward} ccySymbol={ccySymbol} />\r\n                    <_CcyRow text={\"Claimable in \"+ccySymbol}   bold={true}  value={(member.thrubiBlueEth*exrate)} ccySymbol={ccySymbol} />\r\n                </Fragment>\r\n            :\r\n                <Fragment>\r\n                    <_CcyRow text=\"Your ₿₮ level\"               bold={false} value={ member.thrubiBlue} ccySymbol={\"₿₮\"} />\r\n                    <_CcyRow text={\"Claimable in \"+ccySymbol}   bold={true}  value={(member.thrubiBlueEth*exrate)} ccySymbol={ccySymbol} />\r\n                </Fragment>\r\n        }\r\n        {\r\n            !optionViewHistory ? \"\" :\r\n                <Fragment>\r\n                    <_CcyRow text=\"Total awards\"                bold={false} value={member.thrubiBlueAwardTotal} ccySymbol={ccySymbol} />\r\n                    <_CcyRow text=\"Total claimed\"               bold={false} value={member.thrubiBlueClaimTotal} ccySymbol={ccySymbol} />\r\n                </Fragment>\r\n        }\r\n    </div>\r\n);\r\n\r\nexport default _MemberBlue;\r\n\r\n","import React, {Component, Fragment} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport Claim from \"./Claim\";\r\nimport _MemberBlue from './_MemberBlue';\r\n\r\nclass _ThrubiBlue extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPanel: false,\r\n            manualPanel: false,\r\n        };\r\n    }\r\n\r\n    componentWillUpdate() {\r\n        const {member} = this.props;\r\n        if (this.state.showPanel===(!member.thrubiBlue)&&!this.state.manualPanel) this.setState({showPanel: (!!member.thrubiBlue)});\r\n    }\r\n\r\n    render() {\r\n        const {busy,userLoggedIn,populationId,member,ccySymbol,exrate,optionViewHistory,optionAdvancedMode} = this.props;\r\n\r\n        return(\r\n            <div className=\"text-center text-primary\">\r\n                <_ActionButton text=\"Blue Thrubi\" buttonType={\"btn-outline-primary\"+(this.state.showPanel?\" active\":\"\")} disabled={!!member.thrubiBlue}\r\n                               action={() => { this.setState({manualPanel: true}); this.setState({showPanel: !this.state.showPanel});}} />\r\n                {\r\n                    !this.state.showPanel ? \"\" :\r\n                        busy ? \"Member loading...\" :\r\n                            !userLoggedIn ? \"User not logged in\" :\r\n                                !populationId ? \"No population selected\" :\r\n                                    <Fragment>\r\n                                        <_MemberBlue\r\n                                            member={member}\r\n                                            ccySymbol={ccySymbol}\r\n                                            exrate={exrate}\r\n                                            optionViewHistory={optionViewHistory}\r\n                                            optionAdvancedMode={optionAdvancedMode}\r\n                                        />\r\n                                        <Claim />\r\n                                    </Fragment>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy: state.session.busy.component.dashboard,\r\n    userLoggedIn: state.client.userAccess.loggedIn,\r\n    populationId: state.client.population.id,\r\n    member: state.client.member,\r\n    ccySymbol: state.client.population.ccySymbol,\r\n    exrate: state.global.market.exrate,\r\n    optionViewHistory: state.client.user.optionViewHistory,\r\n    optionAdvancedMode: state.client.user.optionAdvancedMode,\r\n});\r\n\r\nconst ThrubiBlue = connect(mapStateToProps)(_ThrubiBlue);\r\n\r\nexport default ThrubiBlue;","import React, {Component, Fragment} from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport _CcyRow from \"./_CcyRow\";\r\nimport {transform} from \"../actions/blockchain_ethereum\";\r\nimport _ActionButton from \"./_ActionButton\";\r\n\r\nclass _Transform extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            transformEthValue: 0,\r\n            transformProcedureActive: false,\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {busy,transformBusy,populationId,exrate,ccySymbol,thrubiSilver,thrubiPriceSilver,thrubiFees,transform} = this.props;\r\n\r\n        return(\r\n            <div>\r\n                {\r\n                    busy ? \"Transform loading...\" :\r\n                        populationId===-1 ? \"Please select a population, first.\" :\r\n                            transformBusy ? \"Busy processing transform request\" :\r\n                                <Fragment>\r\n                                    {\r\n                                        !this.state.transformProcedureActive ? \"\" :\r\n                                            <Fragment>\r\n                                                <div className=\"small text-justify\">\r\n                                                    Blockchain transaction costs will be paid by you upon submitting the transaction.\r\n                                                    Final transformed $₮ will depend upon Ξ exchange rates and $₮ price when your transaction is accepted.\r\n                                                    Any excess Ξ that you transform will be credited on the account and used whenever $₮ becomes available.\r\n                                                </div>\r\n                                                <div className=\"text-secondary container\">\r\n                                                    <_CcyRow text=\"Your Ξ balance\"\r\n                                                             bold={false}\r\n                                                             value={0 /* add a worker that constantly checks Ξ balance from blockchain for account */ }\r\n                                                             ccySymbol=\"Ξ\" />\r\n                                                    <_CcyRow text=\"Ξ to spend to transform\"\r\n                                                             bold={false}\r\n                                                             value={this.state.transformEthValue}\r\n                                                             ccySymbol=\"Ξ\" />\r\n                                                    <_CcyRow text={\"Current value in \"+ccySymbol}\r\n                                                             bold={false}\r\n                                                             value={(this.state.transformEthValue * exrate)}\r\n                                                             ccySymbol={ccySymbol} />\r\n                                                    <_CcyRow text={\"Thrubi fees (\"+(thrubiFees * 100).toFixed(1)+\"%)\"}\r\n                                                             bold={false}\r\n                                                             value={((this.state.transformEthValue * exrate) * thrubiFees)}\r\n                                                             ccySymbol={ccySymbol} />\r\n                                                    <_CcyRow text=\"You can transform\"\r\n                                                             bold={false}\r\n                                                             value={((this.state.transformEthValue * exrate) * (1-thrubiFees) / thrubiPriceSilver)}\r\n                                                             ccySymbol=\"$₮\" />\r\n                                                </div>\r\n                                                <form onSubmit={async (event) => {\r\n                                                    event.preventDefault();\r\n                                                    transform(this.state.transformEthValue);\r\n                                                }}>\r\n                                                    <input id=\"transformEth\" ref={(input) => this.transformEthRef = input} type=\"text\" className=\"form-control form-control-sm rounded-0\"\r\n                                                           placeholder={this.transformEthValue} required\r\n                                                           onChange={(action) => {\r\n                                                               action.preventDefault();\r\n                                                               let newValue = parseFloat(this.transformEthRef.value);\r\n                                                               if (!newValue) newValue=0;\r\n                                                               this.setState({transformEthValue: newValue});\r\n                                                           }}/>\r\n                                                    <input className={\"btn btn-sm p-0 rounded-0 btn-block btn-\"+(this.state.transformEthValue?\"primary\":\"light\")}\r\n                                                           type=\"submit\"\r\n                                                           disabled={!this.state.transformEthValue}\r\n                                                           value={this.state.transformEthValue?\"Transform \"+this.state.transformEthValue.toFixed(2)+\" Ξ\":\"Insert an Ξ amount\"} />\r\n                                                </form>\r\n                                            </Fragment>\r\n                                    }\r\n                                    <_ActionButton disabled={((!thrubiSilver)&&(!this.state.transformProcedureActive))}\r\n                                                   buttonType={\"btn-\"+(this.state.transformProcedureActive?\"\":\"outline-\")+\"secondary\"+(thrubiSilver?\" active\":\"\")}\r\n                                                   text={(this.state.transformProcedureActive?\"Close\":(thrubiSilver?\"Activate transform procedure\":\"Nothing to transform\"))}\r\n                                                   action={() => this.setState({transformProcedureActive: !this.state.transformProcedureActive})} />\r\n                                </Fragment>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy: state.session.busy.component.transform,\r\n    transformBusy: state.session.busy.action.transform,\r\n    populationId: state.client.population.id,\r\n    thrubiSilver: state.client.member.thrubiSilver,\r\n    thrubiPriceSilver: state.client.population.thrubiPriceSilver,\r\n    thrubiFees: state.client.population.thrubiFees,\r\n    ccySymbol: state.client.population.ccySymbol,\r\n    exrate: state.global.market.exrate,\r\n});\r\n\r\nconst Transform = connect(mapStateToProps,{transform})(_Transform);\r\n\r\nexport default Transform;","import React, {Fragment} from 'react';\r\nimport _CcyRow from './_CcyRow';\r\n\r\nconst _MemberSilver = ({\r\n    ccySymbol,\r\n    member,\r\n    exrate,\r\n    thrubiPriceSilver,\r\n    thrubiPriceGold,\r\n    optionViewHistory,\r\n    optionAdvancedMode,\r\n}) => (\r\n    <div className=\"container\">\r\n        {\r\n            optionAdvancedMode ?\r\n                <Fragment>\r\n                    <_CcyRow text=\"Your $₮\" bold={true} value={ member.thrubiSilver} ccySymbol={\"$₮\"} />\r\n                    <_CcyRow text=\"Next month $₮\" bold={false} value={ member.thrubiSilverNext} ccySymbol={\"$₮\"} />\r\n                    <_CcyRow text=\"Conversion to gold cost\" bold={false} value={(member.thrubiSilver*thrubiPriceSilver)} ccySymbol={ccySymbol} />\r\n                    <_CcyRow text=\"Gold value\" bold={false} value={(member.thrubiSilver*thrubiPriceGold)} ccySymbol={ccySymbol} />\r\n                    <_CcyRow text=\"Remaining Ξ\" bold={false} value={ member.thrubiSilverEth} ccySymbol={\"Ξ\"} />\r\n                </Fragment>\r\n                :\r\n                <Fragment>\r\n                    <_CcyRow text=\"Your $₮\" bold={true} value={ member.thrubiSilver} ccySymbol={\"$₮\"} />\r\n                    <_CcyRow text=\"Conversion to gold cost\" bold={false} value={(member.thrubiSilver*thrubiPriceSilver)} ccySymbol={ccySymbol} />\r\n                    <_CcyRow text=\"Gold value\" bold={false} value={(member.thrubiSilver*thrubiPriceGold)} ccySymbol={ccySymbol} />\r\n                </Fragment>\r\n        }\r\n        {\r\n            !optionViewHistory ? \"\" :\r\n                    <_CcyRow text=\"Total transformed\" bold={false} value={ member.thrubiSilverTransformTotal} ccySymbol={ccySymbol} />\r\n        }\r\n    </div>\r\n);\r\n\r\nexport default _MemberSilver;\r\n\r\n","import React, {Component, Fragment} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Transform from \"./Transform\";\r\nimport _MemberSilver from './_MemberSilver';\r\nimport _ActionButton from \"./_ActionButton\";\r\n\r\nclass _ThrubiSilver extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPanel: false,\r\n            manualPanel: false,\r\n        };\r\n    }\r\n\r\n    componentWillUpdate() {\r\n        const {member} = this.props;\r\n        if (this.state.showPanel===(!member.thrubiSilver)&&!this.state.manualPanel) this.setState({showPanel: (!!member.thrubiSilver)});\r\n    }\r\n\r\n    render() {\r\n        const {busy,userLoggedIn,populationId,member,ccySymbol,exrate,thrubiPriceSilver,thrubiPriceGold,optionViewHistory,optionAdvancedMode} = this.props;\r\n\r\n        return(\r\n            <div className=\"text-center text-secondary\">\r\n                <_ActionButton text=\"Silver Thrubi\" buttonType={\"btn-outline-secondary\"+(this.state.showPanel?\" active\":\"\")} disabled={!!member.thrubiSilver}\r\n                               action={() => { this.setState({manualPanel: true}); this.setState({showPanel: !this.state.showPanel});}} />\r\n                {\r\n                    !this.state.showPanel ? \"\" :\r\n                        busy ? \"Member loading...\" :\r\n                            !userLoggedIn ? \"User not logged in\" :\r\n                                populationId <0 ? \"No population selected\" :\r\n                                    <Fragment>\r\n                                        <_MemberSilver\r\n                                            member={member}\r\n                                            ccySymbol={ccySymbol}\r\n                                            exrate={exrate}\r\n                                            thrubiPriceSilver={thrubiPriceSilver}\r\n                                            thrubiPriceGold={thrubiPriceGold}\r\n                                            optionViewHistory={optionViewHistory}\r\n                                            optionAdvancedMode={optionAdvancedMode}\r\n                                        />\r\n                                        <Transform />\r\n                                    </Fragment>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy: state.session.busy.component.dashboard,\r\n    userLoggedIn: state.client.userAccess.loggedIn,\r\n    populationId: state.client.population.id,\r\n    member: state.client.member,\r\n    ccySymbol: state.client.population.ccySymbol,\r\n    exrate: state.global.market.exrate,\r\n    thrubiPriceSilver: state.client.population.thrubiPriceSilver,\r\n    thrubiPriceGold: state.client.population.thrubiPriceGold,\r\n    optionViewHistory: state.client.user.optionViewHistory,\r\n    optionAdvancedMode: state.client.user.optionAdvancedMode,\r\n});\r\n\r\nconst ThrubiSilver = connect(mapStateToProps)(_ThrubiSilver);\r\n\r\nexport default ThrubiSilver;","import React, {Fragment} from 'react';\r\nimport _CcyRow from './_CcyRow';\r\nimport _ActionButton from \"./_ActionButton\";\r\n\r\nconst _MemberGold = ({\r\n    ccySymbol,\r\n    member,\r\n    thrubiPriceGold,\r\n}) => (\r\n    <Fragment>\r\n        <div className=\"container-fluid\">\r\n            <_CcyRow text=\"Gold ₲₮\"         bold={true}  value={ member.thrubiGold} ccySymbol={\"₲₮\"} />\r\n            <_CcyRow text=\"Market value\"    bold={false} value={(member.thrubiGold*thrubiPriceGold)} ccySymbol={ccySymbol} />\r\n        </div>\r\n        <_ActionButton action={() => {}} text=\"Find gold Thrubi marketplace\" buttonType=\"btn-outline-success\" />\r\n    </Fragment>\r\n);\r\n\r\nexport default _MemberGold;\r\n\r\n","import React, {Component, Fragment} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _MemberGold from './_MemberGold';\r\nimport _ActionButton from \"./_ActionButton\";\r\n\r\nclass _ThrubiGold extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPanel: false,\r\n            manualPanel: false,\r\n        };\r\n    }\r\n\r\n    componentWillUpdate() {\r\n        const {member} = this.props;\r\n        if (this.state.showPanel===(!member.thrubiGold)&&!this.state.manualPanel) this.setState({showPanel: (!!member.thrubiGold)});\r\n    }\r\n\r\n    render() {\r\n        const {busy,userLoggedIn,populationId,member,ccySymbol,exrate,thrubiPriceGold} = this.props;\r\n\r\n        return(\r\n            <div className=\"text-center text-success\">\r\n                <_ActionButton text=\"Gold Thrubi\" buttonType={\"btn-outline-success\"+(this.state.showPanel?\" active\":\"\")} disabled={!!member.thrubiGold}\r\n                               action={() => { this.setState({manualPanel: true}); this.setState({showPanel: !this.state.showPanel});}} />\r\n                {\r\n                    !this.state.showPanel ? \"\" :\r\n                        busy ? \"Member loading...\" :\r\n                            !userLoggedIn ? \"User not logged in\" :\r\n                                populationId <0 ? \"No population selected\" :\r\n                                    <Fragment>\r\n                                        <_MemberGold\r\n                                            member={member}\r\n                                            ccySymbol={ccySymbol}\r\n                                            exrate={exrate}\r\n                                            thrubiPriceGold={thrubiPriceGold}\r\n                                        />\r\n                                    </Fragment>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy: state.session.busy.component.dashboard,\r\n    userLoggedIn: state.client.userAccess.loggedIn,\r\n    populationId: state.client.population.id,\r\n    member: state.client.member,\r\n    ccySymbol: state.client.population.ccySymbol,\r\n    exrate: state.global.market.exrate,\r\n    thrubiPriceGold: state.client.population.thrubiPriceGold,\r\n});\r\n\r\nconst ThrubiGold = connect(mapStateToProps)(_ThrubiGold);\r\n\r\nexport default ThrubiGold;","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {selectPopulation,deselectPopulation} from \"../actions/population\";\r\n\r\nclass _Populations extends Component {\r\n    render() {\r\n        const {populations,populationId} = this.props;\r\n        const {selectPopulation,deselectPopulation} = this.props;\r\n\r\n        return (\r\n            populations.map((population,index) => {\r\n                return (\r\n                    <div key={index} className=\"bg-light p-0 my-2\">\r\n                        <button\r\n                            className={\"btn btn-sm m-0 p-0 rounded-0 border-0 btn-block btn-outline-primary\"+\r\n                                ((populationId===population.populationId)?\" active\":\"\")}\r\n                            onClick={(populationId===population.populationId) ? (() => deselectPopulation(population)) : (() => selectPopulation(population))}\r\n                        >\r\n                            <div className=\"container-fluid row p-3 m-0\">\r\n                                <div className=\"col-lg-1 col-md-2  p-0 m-0 text-center\">{population.countryId}</div>\r\n                                <div className=\"col-lg-5 col-md-10 p-0 m-0 text-left\"> {population.countryName}</div>\r\n                                <div className=\"col-lg-1 col-md-2  p-0 m-0 text-center\">{population.ccyId}</div>\r\n                                <div className=\"col-lg-4 col-md-8  p-0 m-0 text-left\">{population.ccyName}</div>\r\n                                <div className=\"col-lg-1 col-md-2  p-0 m-0 text-center\">{population.ccySymbol}</div>\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n                )\r\n            })\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    deactivated:        state.client.user.deactivated,\r\n    populationId:       state.client.population.id,\r\n    populations:        state.client.population.populations,\r\n});\r\n\r\nconst Populations = connect(mapStateToProps,{selectPopulation,deselectPopulation})(_Populations);\r\n\r\nexport default Populations;","import React, {Component,Fragment} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Populations from \"./Populations\";\r\nimport {fetchPopulations} from \"../actions/population\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport {createMember} from \"../actions/member\";\r\n\r\nclass _PopulationSelect extends Component {\r\n    componentDidMount() {\r\n        this.reload();\r\n    };\r\n\r\n    componentDidUpdate() {\r\n        this.reload();\r\n    };\r\n\r\n    reload() {\r\n        const {userId,populationsBusy,populationsNotAvailable} = this.props;\r\n        const {fetchPopulations} = this.props;\r\n        if ((!populationsBusy)&&(populationsNotAvailable)) fetchPopulations(userId);\r\n    }\r\n\r\n    render() {\r\n        const {busy,populationsBusy,populationsNotAvailable,populationId} = this.props;\r\n        const {createMember} = this.props;\r\n\r\n        return (\r\n            <div className=\"populationTable\">\r\n                {\r\n                    busy ? <div className=\"text-center\">Loading...</div> :\r\n                        populationsBusy ? <div>User populations loading...</div> :\r\n                            populationsNotAvailable ? \"No populations found, we are working on this...\"\r\n                                :\r\n                                <Fragment>\r\n                                    <div className=\"my-3\">Please select your country and currency from the list below and confirm:</div>\r\n                                    <Populations />\r\n                                    <_ActionButton action={createMember} payload={populationId} disabled={!populationId} text=\"Confirm\" buttonType=\"btn-primary\" />\r\n                                </Fragment>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy:                       state.session.busy.component.userMenu,\r\n    populationsBusy:            state.session.busy.action.populations,\r\n    populationsNotAvailable:    (!state.client.population.populations || !state.client.population.populations.length),\r\n    userId:                     state.client.user.id,\r\n    populationId:               state.client.population.id,\r\n});\r\n\r\nconst PopulationSelect = connect(mapStateToProps,{fetchPopulations,createMember})(_PopulationSelect);\r\n\r\nexport default PopulationSelect;","import {processRequest} from \"./server\";\r\nimport {deselectPopulation} from \"./population\";\r\nimport {emitFlare} from \"./flare\";\r\nimport {requestType} from \"./config/http\";\r\nimport flareBook from \"./config/flare\";\r\nimport actionType,{busyPayload} from \"../reducers/config/actionTypes\";\r\nimport {endpoint} from \"./config/server\";\r\n\r\nexport const fetchCcys = () => async (dispatch,getState) => {\r\n    processRequest(requestType.GET,endpoint.CCY_LIST,null)(dispatch,getState)\r\n        .then ((ccys) => {\r\n            dispatch({type:actionType.RECEIVE_CCYS,payload:{ccys}});\r\n        })\r\n        .catch(error => dispatch(emitFlare(flareBook.flareType.ERROR,error)));\r\n};\r\n\r\nexport const fetchCountries = () => async (dispatch,getState) => {\r\n    processRequest(requestType.GET,endpoint.COUNTRY_LIST,null)(dispatch,getState)\r\n        .then ((countries) => {\r\n            dispatch({type:actionType.RECEIVE_COUNTRIES,payload:{countries}});\r\n        })\r\n        .catch(error => dispatch(emitFlare(flareBook.flareType.ERROR,error)));\r\n};\r\n\r\nexport const selectCcy = (ccyId) => async (dispatch,getState) => {\r\n    dispatch({type:actionType.SELECT_CCY,payload:{ccyId}});\r\n};\r\n\r\nexport const deselectCcy = () => async (dispatch,getState) => {\r\n    dispatch({type:actionType.DESELECT_CCY,payload:{}});\r\n};\r\n\r\n\r\nexport const selectCountry = (countryId) => async (dispatch,getState) => {\r\n    dispatch({type:actionType.SELECT_COUNTRY,payload:{countryId}});\r\n};\r\n\r\nexport const deselectCountry = () => async (dispatch,getState) => {\r\n    dispatch({type:actionType.DESELECT_COUNTRY,payload:{}});\r\n};\r\n\r\n\r\nexport const populationExists = (countryId,ccyId) => async (dispatch,getState) => {\r\n    return processRequest(requestType.GET,endpoint.POPULATION_EXISTS+\"/\"+countryId+\"/\"+ccyId,null)(dispatch,getState)\r\n        .then (result => {\r\n            dispatch({type:actionType.POPULATION_EXISTS,payload:{exists:result.exists}});\r\n        })\r\n        .catch(error => dispatch(emitFlare(flareBook.flareType.ERROR,error)));\r\n};\r\n\r\nexport const createPopulation = (countryId,ccyId) => async (dispatch,getState) => {\r\n    dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS});\r\n    return processRequest(requestType.POST,endpoint.POPULATION_CREATE+\"/\"+countryId+\"/\"+ccyId,null)(dispatch,getState)\r\n        .then (result => {\r\n            dispatch({type:actionType.POPULATION_EXISTS,payload:{exists:1}});\r\n        })\r\n        .catch(error => dispatch(emitFlare(flareBook.flareType.ERROR,error)))\r\n        .then (() => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS}));\r\n};\r\n\r\nexport const deletePopulation = () => async (dispatch,getState) => {\r\n    dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS});\r\n    return processRequest(requestType.POST,endpoint.POPULATION_DELETE+\"/\"+getState().client.population.id,null)(dispatch,getState)\r\n        .then (result => {\r\n            deselectPopulation()(dispatch,getState);\r\n        })\r\n        .catch(error => dispatch(emitFlare(flareBook.flareType.ERROR,error)))\r\n        .then (() => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS}));\r\n};\r\n\r\nexport const tunePopulation = (brake,warperMincome,warperEquality) => async (dispatch,getState) => {\r\n    dispatch({type:actionType.SET_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS});\r\n    return processRequest(requestType.POST,endpoint.POPULATION_CONFIG_CHANGE+\"/\"+getState().client.population.id,{brake,warperMincome,warperEquality},null)(dispatch,getState)\r\n        .then (result => {})\r\n        .catch(error => dispatch(emitFlare(flareBook.flareType.ERROR,error)))\r\n        .then (() => dispatch({type:actionType.SET_NOT_BUSY,payload:busyPayload.BUSY_ACTION_POPULATIONS}));\r\n};\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {fetchCountries,selectCountry,deselectCountry} from \"../actions/adminMenu\";\r\n\r\nclass _Countries extends Component {\r\n    componentDidMount() {\r\n        const {fetchCountries} = this.props;\r\n        fetchCountries();\r\n    }\r\n\r\n    render() {\r\n        const {countries,countryId} = this.props;\r\n        const {selectCountry,deselectCountry} = this.props;\r\n\r\n        return(\r\n            <div>\r\n                {\r\n                    countries.map((country,index) =>{\r\n                        return (\r\n                            <div key={index} className=\"country p-0\">\r\n                                <button\r\n                                    className={\"btn btn-sm p-0 btn-block btn-\"+\r\n                                    (countryId===country.countryId\r\n                                            ?\"light\"\r\n                                            :\"primary\")}\r\n                                    value={(countryId===country.countryId)?\"Selected\":\"Select #\"+country.countryId}\r\n                                    onClick={(countryId===country.countryId)\r\n                                        ?((event) => {deselectCountry();})\r\n                                        :((event) => {selectCountry(country.countryId);})\r\n                                    }\r\n                                >\r\n                                    <div className=\"container-fluid row p-0 m-0\">\r\n                                        <div className=\"small col-lg-4 p-0 m-0 text-center\">\r\n                                            {(countryId===country.countryId)?\"Selected\":\"Select #\"+country.countryId}\r\n                                        </div>\r\n                                        <div className=\"small col-lg-2 p-0 m-0 text-center\">{country.countryId}</div>\r\n                                        <div className=\"small col-lg-6 p-0 m-0 text-left\">{country.countryName}</div>\r\n                                    </div>\r\n                                </button>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    countries: state.global.country.countries,\r\n    countryId: state.global.country.id,\r\n});\r\n\r\nconst Countries = connect(mapStateToProps,{fetchCountries,selectCountry,deselectCountry})(_Countries);\r\n\r\nexport default Countries;","import React, { Component } from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {fetchCcys,selectCcy,deselectCcy} from \"../actions/adminMenu\";\r\n\r\nclass _Ccys extends Component {\r\n    componentDidMount() {\r\n        const {fetchCcys} = this.props;\r\n        fetchCcys();\r\n    }\r\n\r\n    render() {\r\n        const {ccys,ccyId} = this.props;\r\n        const {selectCcy,deselectCcy} = this.props;\r\n\r\n        return(\r\n            <div>\r\n                {\r\n                    ccys.map((ccy,index) =>{\r\n                        return (\r\n                            <div key={index} className=\"ccy p-0\">\r\n                                <button\r\n                                    className={\"btn btn-sm p-0 btn-block btn-\"+\r\n                                    (ccyId===ccy.ccyId\r\n                                            ?\"light\"\r\n                                            :\"primary\")}\r\n                                    value={(ccyId===ccy.ccyId)?\"Selected\":\"Select #\"+ccy.ccyId}\r\n                                    onClick={(ccyId===ccy.ccyId)\r\n                                        ?((event) => {deselectCcy();})\r\n                                        :((event) => {selectCcy(ccy.ccyId);})\r\n                                    }\r\n                                >\r\n                                    <div className=\"container-fluid row p-0 m-0\">\r\n                                        <div className=\"small col-lg-3 p-0 m-0 text-center\">\r\n                                            {(ccyId===ccy.ccyId)?\"Selected\":\"Select #\"+ccy.ccyId}\r\n                                        </div>\r\n                                        <div className=\"small col-lg-2 p-0 m-0 text-center\">{ccy.ccyId}</div>\r\n                                        <div className=\"small col-lg-5 p-0 m-0 text-left\">{ccy.ccyName}</div>\r\n                                        <div className=\"small col-lg-2 p-0 m-0 text-center\">{ccy.ccySymbol}</div>\r\n                                    </div>\r\n                                </button>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    ccys: state.global.ccy.ccys,\r\n    ccyId: state.global.ccy.id,\r\n});\r\n\r\nconst Ccys = connect(mapStateToProps,{fetchCcys,selectCcy,deselectCcy})(_Ccys);\r\n\r\nexport default Ccys;","import React, {Component, Fragment} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Countries from \"./Countries\";\r\nimport Ccys from \"./Ccys\";\r\nimport {populationExists,createPopulation} from \"../actions/adminMenu\";\r\n\r\nclass _PopulationAdd extends Component {\r\n    componentDidMount() {\r\n        this.verifyExists();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.verifyExists();\r\n    }\r\n\r\n    verifyExists() {\r\n        const {countryId,ccyId} = this.props;\r\n        const {populationExists} = this.props;\r\n        if (countryId&&ccyId) populationExists(countryId,ccyId);\r\n    }\r\n\r\n    render() {\r\n        const {countryId,ccyId,exists} = this.props;\r\n        const {createPopulation} = this.props;\r\n\r\n        return(\r\n            <Fragment>\r\n\r\n                <button\r\n                    className={\"btn btn-sm p-0 btn-block btn-\"+(((countryId===\"\")||(ccyId===\"\"))?\"light\":(exists?\"secondary\":\"primary\"))}\r\n                    value={((countryId===\"\")||(ccyId===\"\"))?\"Please select country and currency\":(exists?\"The selected population already exists\":\"Create population: \"+countryId+\" \"+ccyId)}\r\n                    disabled={(countryId===\"\")||(ccyId===\"\")||exists}\r\n                    onClick={(event) => {createPopulation(countryId,ccyId);}}\r\n                >\r\n                    {((countryId===\"\")||(ccyId===\"\"))?\"Please select country and currency\":(exists?\"The selected population already exists\":\"Create population: \"+countryId+\" \"+ccyId)}\r\n                </button>\r\n                <br />\r\n                <div className=\"container-fluid row p-0 m-0\">\r\n                    <div className=\"small col-lg-6 p-0 m-0 text-center\">\r\n                        <Countries />\r\n                    </div>\r\n                    <div className=\"small col-lg-6 p-0 m-0 text-center\">\r\n                        <Ccys />\r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    countryId: state.global.country.id,\r\n    ccyId: state.global.ccy.id,\r\n    exists: state.client.population.exists,\r\n});\r\n\r\nconst PopulationAdd = connect(mapStateToProps,{populationExists,createPopulation})(_PopulationAdd);\r\n\r\nexport default PopulationAdd;","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport {deletePopulation} from \"../actions/adminMenu\";\r\n\r\nclass _PopulationDelete extends Component {\r\n    render() {\r\n        return (\r\n            <_ActionButton action={deletePopulation} text=\"Delete Population\" buttonType=\"btn-secondary\" />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n});\r\n\r\nconst PopulationDelete = connect(mapStateToProps,{deletePopulation})(_PopulationDelete);\r\n\r\nexport default PopulationDelete;\r\n\r\n","import React,{Component,Fragment} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport _CcyRow from \"./_CcyRow\";\r\nimport {tunePopulation} from \"../actions/adminMenu\";\r\n\r\nclass _PopulationTune extends Component {\r\n\r\n    render() {\r\n        let newBrake;\r\n        let newWarperMincome;\r\n        let newWarperEquality;\r\n\r\n        const {brake,mincome,equality,warperMincome,warperEquality,tunePopulation} = this.props;\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className=\"container\">\r\n                    <_CcyRow text=\"mincome\" bold={false} value={mincome} ccySymbol={\"\"}/>\r\n                    <_CcyRow text=\"equality\" bold={false} value={equality} ccySymbol={\"\"}/>\r\n                    <_CcyRow text=\"brake\" bold={false} value={brake} ccySymbol={\"\"}/>\r\n                    <_CcyRow text=\"warperMincome\" bold={false} value={warperMincome} ccySymbol={\"\"}/>\r\n                    <_CcyRow text=\"warperEquality\" bold={false} value={warperEquality} ccySymbol={\"\"}/>\r\n                </div>\r\n                <form onSubmit={async (event) => {\r\n                    event.preventDefault();\r\n                    tunePopulation(newBrake.value, newWarperMincome.value, newWarperEquality.value);\r\n                }}>\r\n                    <input id=\"newBrake\" ref={(input) => newBrake = input}\r\n                           type=\"text\" className=\"form-control form-control-sm\"\r\n                           placeholder={brake.toFixed(2)} required/>\r\n                    <input id=\"newWarperMincome\" ref={(input) => newWarperMincome = input}\r\n                           type=\"text\" className=\"form-control form-control-sm\"\r\n                           placeholder={warperMincome.toFixed(2)} required/>\r\n                    <input id=\"newWarperEquality\" ref={(input) => newWarperEquality = input}\r\n                           type=\"text\" className=\"form-control form-control-sm\"\r\n                           placeholder={warperEquality.toFixed(2)} required/>\r\n                    <input className=\"btn btn-sm p-0 btn-block btn-primary\" type=\"submit\" value=\"Change configuration\"/>\r\n                </form>\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    mincome: state.client.population.mincome,\r\n    equality: state.client.population.equality,\r\n    brake: state.client.population.brake,\r\n    warperMincome: state.client.population.warperMincome,\r\n    warperEquality: state.client.population.warperEquality,\r\n});\r\n\r\nconst PopulationTune = connect(mapStateToProps,{tunePopulation})(_PopulationTune);\r\n\r\nexport default PopulationTune;","import React, { Component,Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport MemberBar from \"./MemberBar\";\r\nimport Auth from \"./Auth\";\r\nimport Info from \"./Info\";\r\nimport UserView from \"./UserView\";\r\nimport UserActivation from \"./UserActivation\";\r\nimport UserManageDetails from \"./UserManageDetails\";\r\nimport UserIdentity from \"./UserIdentity\"\r\nimport MemberDelete from \"./MemberDelete\"\r\nimport MemberDeclareIncome from \"./MemberDeclareIncome\";\r\nimport ThrubiBlue from \"./ThrubiBlue\";\r\nimport ThrubiSilver from \"./ThrubiSilver\";\r\nimport ThrubiGold from \"./ThrubiGold\";\r\nimport PopulationSelect from \"./PopulationSelect\";\r\nimport PopulationAdd from \"./PopulationAdd\";\r\nimport _ActionButton from \"./_ActionButton\";\r\nimport PopulationDelete from \"./PopulationDelete\";\r\nimport PopulationTune from \"./PopulationTune\"\r\nimport {close} from \"../actions/user\";\r\nimport {deletePopulation} from \"../actions/adminMenu\";\r\nimport \"./styles/User.scss\";\r\n\r\nclass _User extends Component {\r\n    render() {\r\n        const {busy,optionUserMenu,loggedIn,auth,identityCertified,isMember} = this.props;\r\n        const {close} = this.props;\r\n\r\n        return(\r\n            <div className=\"container-fluid row p-0 m-0\">\r\n                {\r\n                    busy ? \"User loading...\" :\r\n                        <Fragment>\r\n                            <div className=\"col-lg-3 navbar-light\">\r\n                                {loggedIn ? <UserView /> : \"\"}\r\n                                <Auth />\r\n                                {loggedIn && optionUserMenu===\"USER\" ?\r\n                                    <div>\r\n                                        <UserManageDetails />\r\n                                        <UserActivation />\r\n                                        <_ActionButton text=\"Close my account\" action={close} buttonType=\"btn-outline-red\" />\r\n                                    </div>\r\n                                    : \"\"}\r\n                            </div>\r\n                            <div className=\"col-lg-9 navbar-light\">\r\n                                {\r\n                                    !loggedIn ?\r\n                                        <Info />\r\n                                        :\r\n                                        !isMember ?\r\n                                            <Fragment>\r\n                                                <PopulationSelect />\r\n                                                { !auth ? \"\" : <PopulationAdd /> }\r\n                                            </Fragment>\r\n                                            :\r\n                                            identityCertified<=0 ?\r\n                                                <Fragment>\r\n                                                    <UserIdentity />\r\n                                                    <MemberDelete />\r\n                                                </Fragment>\r\n                                                :\r\n                                                <div className=\"bg-light\">\r\n                                                    <MemberBar />\r\n                                                    {\r\n                                                        !auth ?\r\n                                                            <Fragment>\r\n                                                                <div className=\"container-fluid row p-0 m-0\">\r\n                                                                    <div className=\"col-lg-4 thrubiBlue navbar-light\">\r\n                                                                        <ThrubiBlue />\r\n                                                                    </div>\r\n                                                                    <div className=\"col-lg-4 thrubiSilver navbar-light\">\r\n                                                                        <ThrubiSilver />\r\n                                                                    </div>\r\n                                                                    <div className=\"col-lg-4 thrubiGold navbar-light\">\r\n                                                                        <ThrubiGold />\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </Fragment>\r\n                                                            :\r\n                                                            <Fragment>\r\n                                                                <div className=\"col-lg-4 navbar-light\">\r\n                                                                    <PopulationDelete/>\r\n                                                                </div>\r\n                                                                <div className=\"col-lg-4 navbar-light\">\r\n                                                                    <PopulationTune />\r\n                                                                </div>\r\n                                                            </Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                }\r\n                            </div>\r\n                        </Fragment>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    busy:               state.session.busy.component.user,\r\n    optionUserMenu:     state.client.user.optionUserMenu,\r\n    role:               state.client.user.role,\r\n    loggedIn:           state.client.userAccess.loggedIn,\r\n    populationId:       state.client.population.id,\r\n    isMember:           state.client.member.isMember,\r\n    identityCertified:  state.client.user.identityCertified,\r\n});\r\n\r\nconst User = connect(mapStateToProps,{deletePopulation,close})(_User);\r\n\r\nexport default User;","import React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport GlobalStats from \"./GlobalStats\";\r\n\r\nconst _Footer = ({ethNetwork,ethAddress}) => (\r\n    <div className=\"d-none container-fluid navbar fixed-top flex-md-nowrap p-0 titleBar bg-light\">\r\n        <div className=\"col-lg-7 d-flex justify-content-center justify-content-md-center justify-content-lg-start fullWidth text-left\">\r\n            <img  className=\"mr-2 logoThrubi\" src={process.env.PUBLIC_URL+\"/logo.png\"} alt=\"Thrubi logo\" height=\"20px\" width=\"20px\" />\r\n            <span className=\"mr-2 alignBottom navbar-brand thrubiGradient\"><b>Thrubi App</b></span>\r\n            <span className=\"d-none d-xl-block mr-2 alignBottom text-dark navbar-nav\">Welcome to Thrubi!</span>\r\n            <GlobalStats/>\r\n        </div>\r\n        <div className=\"col-lg-5 d-none d-lg-block float-right mr-0 my-2 text-right\">\r\n            <div className=\"navbar-nav small\">\r\n                {ethNetwork&&ethAddress?(\r\n                    <div>\r\n                        <span className=\"badge badge-warning\">network/{ethNetwork}</span>\r\n                        <span className=\"badge badge-info\">{ethAddress}</span>\r\n                    </div>\r\n                ):(\"Accessing blockchain data\")}\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    ethNetwork: state.client.userAccess.ethNetwork,\r\n    ethAddress: state.client.userAccess.ethAddress,\r\n});\r\n\r\nconst Footer = connect(mapStateToProps)(_Footer);\r\n\r\nexport default Footer;","import React, {Component,Fragment} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {deleteFlare,refreshFlare} from \"../actions/flare\";\r\nimport flareBook from \"../actions/config/flare\";\r\nimport './styles/Flare.scss';\r\n\r\nclass _Flare extends Component {\r\n    render() {\r\n        const {deactivated,flares} = this.props;\r\n        const {deleteFlare,refreshFlare} = this.props;\r\n\r\n        return(\r\n            <Fragment>\r\n                {\r\n                    deactivated ? \"\" :\r\n                        <div className=\"fixed-bottom flareBox\">\r\n                            {\r\n                                Object.keys(flares).map((key,i) =>\r\n                                    <div key={key} role={\"alert\"} onMouseOver={() => refreshFlare(key,true)} onMouseOut={() => refreshFlare(key)}\r\n                                         className={\"alert alert-dismissible fade show \"\r\n                                                        +(flares[key].type===flareBook.flareType.ERROR?\"alert-red\"\r\n                                                        :(flares[key].type===flareBook.flareType.WARNING?\"alert-danger\"\r\n                                                        :\"alert-secondary\"))}>\r\n                                        <b>{flares[key].type}</b>&nbsp;\r\n                                        <span>{flares[key].message?flares[key].message.slice(0,200):\"Internal error\"}</span>&nbsp;\r\n                                        <i>{flares[key].details?flares[key].details.slice(0,200):\"\"}</i>\r\n                                        <button className=\"close paddingX\" type=\"button\" onClick={() => deleteFlare(key)} data-dismiss=\"alert\"><span>&times;</span></button>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        </div>\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    deactivated:state.session.flare.deactivated,\r\n    flares:     state.session.flare.flares,\r\n});\r\n\r\nconst Flare = connect(mapStateToProps,{deleteFlare,refreshFlare})(_Flare);\r\n\r\nexport default Flare;","import {processRequest} from \"../server\";\r\nimport {emitFlare} from \"../flare\";\r\nimport {requestType} from \"../config/http\";\r\nimport flareBook from \"../config/flare\";\r\nimport actionType from \"../../reducers/config/actionTypes\";\r\nimport {endpoint} from \"../config/server\";\r\nimport {INTERVAL_FETCH_GLOBAL_STATS_WORKER} from \"../env/workers\";\r\n\r\nconst fetchGlobalStats = () => async (dispatch,getState) => {\r\n    let globalStats = {};\r\n    return Promise.all([\r\n            dispatch(processRequest(requestType.GET,endpoint.STATS_NUSER,null)),\r\n            dispatch(processRequest(requestType.GET,endpoint.STATS_NCOUNTRY,null)),\r\n            dispatch(processRequest(requestType.GET,endpoint.STATS_NCCY,null))\r\n        ])\r\n        .then(results => {\r\n            for (let i=0;i<=2;i++) for (let key in results[i]) globalStats[key] = results[i][key];\r\n            return globalStats;\r\n        })\r\n        .catch(error => dispatch(emitFlare(flareBook.flareFallback(error,flareBook.flareBook.errorFlare.ERR_FETCH_GLOBAL_STATS))));\r\n};\r\n\r\nexport const startGlobalStatsWorker = () => async (dispatch,getState) => {\r\n    let globalStatsWorker = setInterval((() => {\r\n        const activity = () => {\r\n            return Promise.resolve()\r\n                .then (()               => dispatch(fetchGlobalStats()))\r\n                .then (globalStats      => {dispatch({type:actionType.RECEIVE_GLOBAL_STATS,payload:{globalStats}});})\r\n                .catch(error            => {dispatch(emitFlare(flareBook.flareFallback(error,flareBook.errorFlare.ERR_RECEIVE_GLOBAL_STATS)));});\r\n        };\r\n        activity();\r\n        return activity;\r\n    })(),INTERVAL_FETCH_GLOBAL_STATS_WORKER);\r\n    dispatch({type:actionType.RECEIVE_GLOBAL_STATS_WORKER,payload:{globalStatsWorker}});\r\n};\r\n\r\nexport const stopGlobalStatsWorker = () => async (dispatch,getState) => {\r\n    let globalStatsWorker = getState().session.workers.globalStats;\r\n    clearInterval(globalStatsWorker);\r\n    dispatch({type:actionType.STOP_GLOBAL_STATS_WORKER,payload:{}});\r\n};","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport Titlebar from \"./Titlebar\";\nimport User from \"./User\";\nimport Footer from \"./Footer\";\nimport Flare from \"./Flare\";\nimport {enableBlockchain} from \"../actions/blockchain_ethereum\";\nimport {startGlobalStatsWorker,stopGlobalStatsWorker} from \"../actions/workers/globalStats\";\nimport {fetchChannels,sendRedirect} from \"../actions/auth\";\nimport \"./styles/App.scss\";\n\n\nclass _App extends Component {\n    componentDidMount() {\n        const {sendRedirect} = this.props;\n        if (window.location.search) {\n            sendRedirect();\n        } else {\n            this.reload();\n        }\n    };\n\n    componentWillUnmount() {\n        stopGlobalStatsWorker();\n    };\n\n    reload() {\n        const {startGlobalStatsWorker,fetchChannels,enableBlockchain} = this.props;\n        return Promise.all([\n            startGlobalStatsWorker(),\n            fetchChannels(),\n            enableBlockchain(),\n        ]);\n    };\n\n    render() {\n        const {busy,loggedIn} = this.props;\n        return (\n            <div className=\"thrubiApp text-primary\">\n                <Titlebar />\n                {\n                    <div className=\"mainView\">\n                        {\n                            loggedIn ? \"\" :\n                                <div className=\"w-100 py-2 pt-4 pb-1 text-center\">\n                                    <h4 className=\"display-4 displayInlineBlock\">Rising inequality is toxic to growth</h4>\n                                    <i className=\"displayInlineBlock\">&nbsp;(Nick Hanauer)</i>\n                                </div>\n                        }\n                        {\n                            !busy ? <User /> :\n                                <div className=\"text-center\">\n                                    App loading... or\n                                    Ethereum config not found. Please authorize Thrubi in MetaMask.\n                                    Not sure what this means? Find out how to enable Thrubi <b>here</b>!\n                                </div>\n                        }\n                    </div>\n                }\n                <Footer />\n                <Flare />\n            </div>\n        );\n    };\n}\n\nconst mapStateToProps = (state) => ({\n    busy:               state.session.busy.component.app,\n    loggedIn:           state.client.userAccess.loggedIn,\n});\n\nconst App = connect(mapStateToProps,{startGlobalStatsWorker,stopGlobalStatsWorker,fetchChannels,enableBlockchain,sendRedirect})(_App);\n\nexport default App;\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {Route} from \"react-router\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport thrubiApp from \"./reducers/thrubiApp\"\nimport App from \"./components/App\";\nimport \"./styles/customBootstrap.scss\";\n\nconst store = thrubiApp();\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <Route exact path=\"/\"                   component={App} />\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById(\"root\")\n);"],"sourceRoot":""}