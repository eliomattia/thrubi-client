(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2:function(e,t){t.flareBook={flareType:{ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO"},flareFallback:function(e,t){return e&&e.thrubiFlareId?e:(t.details=e,t)},errorFlare:{UNEXPECTED_FLARE:{thrubiFlareId:"0009",message:"Flares must have an ID to be dispatched"},THRUBI_SERVER_ERROR:{thrubiFlareId:"0001",message:"Thrubi server returned an error"},THRUBI_CONNECTION_FAILED:{thrubiFlareId:"0002",message:"Thrubi server not available, please check your connection"},FAILED_LOGOUT:{thrubiFlareId:"0003",message:"Unable to logout"},FAILED_LOGIN:{thrubiFlareId:"0008",message:"Login failed"},EXRATE_FETCH_ERROR:{thrubiFlareId:"0010",message:"Failed fetching exchange rate from Coinbase server"},FB_NOT_FOUND:{thrubiFlareId:"0004",message:"Unable to connect to Facebook"},ERR_FETCH_GLOBAL_STATS:{thrubiFlareId:"0011",message:"Error while receiving global stats"},ERR_RECEIVE_GLOBAL_STATS:{thrubiFlareId:"0012",message:"Error while processing global stats"},CANNOT_ENABLE_ETHEREUM:{thrubiFlareId:"0013",message:"Could not enable Ethereum"},ERR_USER_DETAILS:{thrubiFlareId:"0014",message:"Error processing user details"},ERR_ACCOUNT_CLOSE:{thrubiFlareId:"0015",message:"Could not close user account"},ERR_GENERIC_USERMENU:{thrubiFlareId:"0016",message:"Internal: error with an user menu operation"},ERR_PAY_CHANNEL_UPDATE:{thrubiFlareId:"0016",message:"Error updating user pay channel"},ERR_USER_CHANNEL_FETCH:{thrubiFlareId:"0016",message:"Error fetching user channels"},ERR_CHANNEL_FETCH:{thrubiFlareId:"0016",message:"Error fetching channels"},CHANNEL_CLOSED:{thrubiFlareId:"0005",message:"Switching to Add Channel page, channel is not open"},MESSAGE_IGNORED:{thrubiFlareId:"0006",message:"Internal: message from login popup ignored"},ERROR_STOP_TOKEN_REFRESH:{thrubiFlareId:"0007",message:"Internal: error stopping token refresh"}},infoFlare:{DETECTED_ETH_NETWORK_CHANGE:{thrubiFlareId:"I001",message:"Detected Ethereum network change"},DETECTED_ETH_ADDRESS_CHANGE:{thrubiFlareId:"I002",message:"Detected Ethereum address change"}}}},277:function(e,t,n){e.exports=n(667)},300:function(e,t){},302:function(e,t){},333:function(e,t){},334:function(e,t){},403:function(e,t){},661:function(e,t,n){},662:function(e,t,n){},663:function(e,t,n){},664:function(e,t,n){},667:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchPopulations",function(){return Ot}),n.d(r,"changePopulation",function(){return Nt}),n.d(r,"selectPopulation",function(){return Tt}),n.d(r,"deselectPopulation",function(){return It}),n.d(r,"createMember",function(){return Rt}),n.d(r,"fetchMember",function(){return St}),n.d(r,"declareIncome",function(){return At}),n.d(r,"claim",function(){return kt}),n.d(r,"advancedMode",function(){return wt}),n.d(r,"viewHistory",function(){return Ct});var a={};n.r(a),n.d(a,"switchOptionLoginCreate",function(){return Zt}),n.d(a,"logout",function(){return en}),n.d(a,"fetchChannels",function(){return rn}),n.d(a,"fetchUserChannels",function(){return an}),n.d(a,"deleteChannel",function(){return on}),n.d(a,"setPayChannel",function(){return un}),n.d(a,"createBlockchainEthereum",function(){return sn}),n.d(a,"loginBlockchainEthereum",function(){return pn}),n.d(a,"addBlockchainEthereum",function(){return dn}),n.d(a,"updateBlockchainEthereum",function(){return fn}),n.d(a,"createKeyboardForm",function(){return mn}),n.d(a,"loginKeyboardForm",function(){return En}),n.d(a,"addKeyboardForm",function(){return bn}),n.d(a,"updateKeyboardForm",function(){return yn}),n.d(a,"abandonKeyboard",function(){return hn}),n.d(a,"chooseKeyboard",function(){return On}),n.d(a,"createKeyboard",function(){return vn}),n.d(a,"loginKeyboard",function(){return _n}),n.d(a,"addKeyboard",function(){return gn}),n.d(a,"updateKeyboard",function(){return Nn}),n.d(a,"createFacebook",function(){return kn}),n.d(a,"loginFacebook",function(){return wn}),n.d(a,"addFacebook",function(){return Cn}),n.d(a,"updateFacebook",function(){return xn}),n.d(a,"sendLinkedInLogin",function(){return Bn}),n.d(a,"createLinkedIn",function(){return Un}),n.d(a,"loginLinkedIn",function(){return jn}),n.d(a,"addLinkedIn",function(){return Fn}),n.d(a,"updateLinkedIn",function(){return Dn}),n.d(a,"sendGoogleLogin",function(){return Gn}),n.d(a,"createGoogle",function(){return Yn}),n.d(a,"loginGoogle",function(){return Kn}),n.d(a,"addGoogle",function(){return Wn}),n.d(a,"updateGoogle",function(){return Vn});var o=n(0),u=n.n(o),c=n(120),i=n.n(c),l=n(37),s=n(274),p=n(4),d=n(30),f=n(273),m=n.n(f),E=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"===typeof r.action?r.action(function(e){return t({action:e})},n):e(r.action)}}},b=n(2),y=n(1),h=n.n(y),O=n(3),v={APP_SHUTDOWN:null,LOGOUT:null,STOP_AUTO_LOGIN:null,UPDATE_ETH_NETWORK:null,UPDATE_ETH_ADDRESS:null,REFRESH_TOKENS:null,RECEIVE_CHANNELS:null,RECEIVE_USER_CHANNELS:null,RECEIVE_LOGIN_CHANNEL:null,RECEIVE_PAY_CHANNEL:null,RECEIVE_FACEBOOK_LOGIN_STATUS:null,RECEIVE_LINKEDIN_WINDOW_AND_LISTENER:null,CLEAR_LINKEDIN_WINDOW_AND_LISTENER:null,RECEIVE_LINKEDIN_LOGIN:null,RECEIVE_GOOGLE_WINDOW_AND_LISTENER:null,CLEAR_GOOGLE_WINDOW_AND_LISTENER:null,RECEIVE_GOOGLE_LOGIN:null,LOGIN:null,UPDATE_USER_ACTIVATION:null,RECEIVE_USER_DETAILS:null,DELETE_USER_DETAILS:null,ABANDON_KEYBOARD:null,CHOOSE_KEYBOARD:null,SWITCH_OPTION_LOGIN_CREATE:null,SWITCH_OPTION_USER_MENU:null,SET_OPTION_ADVANCED_MODE:null,SET_OPTION_VIEW_HISTORY:null,CLEAR_POPULATION:null,CHANGE_POPULATION:null,RECEIVE_POPULATIONS:null,RECEIVE_THRUBI_PRICE_SILVER:null,RECEIVE_THRUBI_PRICE_SILVER_NEXT:null,RECEIVE_STATS:null,RECEIVE_CONFIG:null,SELECT_POPULATION:null,POPULATION_EXISTS:null,CLEAR_MEMBER:null,RECEIVE_MEMBER:null,RECEIVE_CCYS:null,SELECT_CCY:null,DESELECT_CCY:null,RECEIVE_COUNTRIES:null,SELECT_COUNTRY:null,DESELECT_COUNTRY:null,RECEIVE_EXRATE:null,RECEIVE_GLOBAL_STATS:null,RECEIVE_THRUBI_CONTRACT:null,SET_BUSY:null,SET_NOT_BUSY:null,INCREASE_FLARE_NEXT:null,EMIT_FLARE:null,DELETE_FLARE:null,REFRESH_FLARE_TIMEOUT:null,RECEIVE_ETH_NETWORK_WORKER:null,RECEIVE_ETH_ADDRESS_WORKER:null,RECEIVE_REFRESH_TOKENS_WORKER:null,RECEIVE_GLOBAL_STATS_WORKER:null,RECEIVE_MEMBER_WORKER:null,RECEIVE_MARKET_WORKER:null,RECEIVE_POPULATION_WORKER:null,STOP_ETH_NETWORK_WORKER:null,STOP_ETH_ADDRESS_WORKER:null,STOP_REFRESH_TOKENS_WORKER:null,STOP_GLOBAL_STATS_WORKER:null,STOP_MEMBER_WORKER:null,STOP_MARKET_WORKER:null,STOP_POPULATION_WORKER:null};Object.keys(v).map(function(e){return v[e]=e});var _={BUSY_COMPONENT_APP:{busyType:"component",busyId:"app"},BUSY_COMPONENT_TITLEBAR:{busyType:"component",busyId:"titlebar"},BUSY_COMPONENT_VIEWPORT:{busyType:"component",busyId:"viewport"},BUSY_COMPONENT_DASHBOARD:{busyType:"component",busyId:"dashboard"},BUSY_COMPONENT_CLIENT:{busyType:"component",busyId:"client"},BUSY_COMPONENT_AUTH:{busyType:"component",busyId:"auth"},BUSY_COMPONENT_USER:{busyType:"component",busyId:"user"},BUSY_COMPONENT_CLAIM:{busyType:"component",busyId:"claim"},BUSY_COMPONENT_TRANSFORM:{busyType:"component",busyId:"transform"},BUSY_COMPONENT_USERMENU:{busyType:"component",busyId:"userMenu"},BUSY_COMPONENT_ADMINMENU:{busyType:"component",busyId:"adminMenu"},BUSY_ACTION_SWITCHPOPULATION:{busyType:"action",busyId:"switchPopulation"},BUSY_ACTION_FETCHPOPULATIONS:{busyType:"action",busyId:"fetchPopulations"},BUSY_ACTION_ACTIVATION:{busyType:"action",busyId:"activation"},BUSY_ACTION_CLAIM:{busyType:"action",busyId:"claim"},BUSY_ACTION_TRANSFORM:{busyType:"action",busyId:"transform"},BUSY_ACTION_USERDETAILS:{busyType:"action",busyId:"userDetails"},BUSY_ACTION_ACTIVATEUSER:{busyType:"action",busyId:"activateUser"},BUSY_ACTION_DECLAREINCOME:{busyType:"action",busyId:"declareIncome"},BUSY_ACTION_POPULATIONS:{busyType:"action",busyId:"populations"}},g=v,N=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){var o,u,c,i;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then(function(){return o=a().session.flare.next}).then(function(){return u=b.flareBook.flareFallback(t,b.flareBook.errorFlare.UNEXPECTED_FLARE)}).then(function(){return c=u.thrubiFlareId===b.flareBook.errorFlare.THRUBI_SERVER_ERROR.thrubiFlareId?u.serverError:u.message}).then(function(){return JSON.stringify(u.details)}).then(function(e){return i="string"===typeof u.details?u.details:e}).then(function(){return r({type:g.INCREASE_FLARE_NEXT,payload:{}})}).then(function(){return setTimeout(function(){return r(T(o))},7e3)}).then(function(t){return r({type:g.EMIT_FLARE,payload:{index:o,type:e,message:c,details:i,deleteTimeout:t}})}));case 1:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then(function(){return clearTimeout(r().session.flare.flares[e].deleteTimeout)}).then(function(){return n({type:g.DELETE_FLARE,payload:{index:e}})}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},I=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){return"function"===typeof n?t({action:n}).catch(function(e){t({action:N(b.flareBook.flareType.ERROR,e)})}):n.action?e(n):void 0}}},R={thrubiContract:{}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.RECEIVE_THRUBI_CONTRACT:return Object.assign({},e,{thrubiContract:t.payload.thrubiContract});default:return e}},A=n(276),k=n(41),w={deactivated:!0,next:0,flares:{}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.INCREASE_FLARE_NEXT:return Object.assign({},e,{next:e.next+1});case g.EMIT_FLARE:return Object.assign({},e,{deactivated:!1,flares:Object.assign({},e.flares,Object(k.a)({},t.payload.index,{type:t.payload.type,message:t.payload.message,details:t.payload.details,deleteTimeout:t.payload.deleteTimeout}))});case g.DELETE_FLARE:return Object.assign({},e,{deactivated:1===Object.keys(e.flares).length&&Object.keys(e.flares)[0]===t.payload.index,flares:Object.assign.apply(Object,[{}].concat(Object(A.a)(Object.keys(e.flares).map(function(n){return n.toString()!==t.payload.index.toString()?Object(k.a)({},n,e.flares[n]):null}).filter(function(e){return null!==e}))))});case g.REFRESH_FLARE_TIMEOUT:return Object.assign({},e,{deactivated:e.deactivated,flares:Object.assign({},e.flares,Object(k.a)({},t.payload.index,{type:e.flares[t.payload.index].type,message:e.flares[t.payload.index].message,details:e.flares[t.payload.index].details,deleteTimeout:t.payload.deleteTimeout}))});default:return e}},x={ethNetwork:null,ethAddress:null,refreshTokens:null,globalStats:null,member:null,market:null,population:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.RECEIVE_ETH_NETWORK_WORKER:return Object.assign({},e,{ethNetwork:t.payload.ethNetworkWorker});case g.RECEIVE_ETH_ADDRESS_WORKER:return Object.assign({},e,{ethAddress:t.payload.ethAddressWorker});case g.RECEIVE_REFRESH_TOKENS_WORKER:return Object.assign({},e,{refreshTokens:t.payload.refreshTokensWorker});case g.RECEIVE_GLOBAL_STATS_WORKER:return Object.assign({},e,{globalStats:t.payload.globalStatsWorker});case g.RECEIVE_MEMBER_WORKER:return Object.assign({},e,{member:t.payload.memberWorker});case g.RECEIVE_MARKET_WORKER:return Object.assign({},e,{market:t.payload.marketWorker});case g.RECEIVE_POPULATION_WORKER:return Object.assign({},e,{population:t.payload.populationWorker});case g.STOP_ETH_NETWORK_WORKER:return Object.assign({},e,{ethNetwork:{}});case g.STOP_ETH_ADDRESS_WORKER:return Object.assign({},e,{ethAddress:{}});case g.STOP_REFRESH_TOKENS_WORKER:return Object.assign({},e,{refreshTokens:{}});case g.STOP_GLOBAL_STATS_WORKER:return Object.assign({},e,{globalStats:{}});case g.STOP_MEMBER_WORKER:return Object.assign({},e,{member:{}});case g.STOP_MARKET_WORKER:return Object.assign({},e,{market:{}});case g.STOP_POPULATION_WORKER:return Object.assign({},e,{population:{}});default:return e}},B={component:{app:!1,titlebar:!1,viewport:!1,dashboard:!1,client:!1,auth:!1,user:!1,claim:!1,transform:!1,userMenu:!1,adminMenu:!1},action:{switchPopulation:!0,fetchPopulations:!1,activation:!1,claim:!1,transform:!1,userDetails:!1,activateUser:!1,declareIncome:!1,populations:!1}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.SET_BUSY:return Object.assign({},e,Object(k.a)({},t.payload.busyType,Object.assign({},e[t.payload.busyType],Object(k.a)({},t.payload.busyId,!0))));case g.SET_NOT_BUSY:return Object.assign({},e,Object(k.a)({},t.payload.busyType,Object.assign({},e[t.payload.busyType],Object(k.a)({},t.payload.busyId,!1))));default:return e}},U=Object(d.c)({blockchain:S,workers:L,busy:P,flare:C}),j={exrate:0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.RECEIVE_EXRATE:return Object.assign({},e,{exrate:t.payload.exrate});case g.STOP_MARKET_WORKER:return{exrate:0};default:return e}},D={nUser:0,nCountry:0,nCcy:0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.RECEIVE_GLOBAL_STATS:return{nUser:t.payload.globalStats.nUser,nCountry:t.payload.globalStats.nCountry,nCcy:t.payload.globalStats.nCcy};default:return e}},G={countries:[],id:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.RECEIVE_COUNTRIES:return Object.assign({},e,{countries:t.payload.countries});case g.SELECT_COUNTRY:return Object.assign({},e,{id:t.payload.countryId});case g.DESELECT_COUNTRY:return Object.assign({},e,{id:null});default:return e}},Y={ccys:[],id:null},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.RECEIVE_CCYS:return Object.assign({},e,{ccys:t.payload.ccys});case g.SELECT_CCY:return Object.assign({},e,{id:t.payload.ccyId});case g.DESELECT_CCY:return Object.assign({},e,{id:null});default:return e}},W=Object(d.c)({market:F,stats:M,country:H,ccy:K}),V={optionLoginCreate:{LOGIN:"LOGIN",CREATE:"CREATE"},optionUserMenu:{ADD:"ADD",USER:"USER",PAY:"PAY",MANAGE:"MANAGE"},optionKeyboardMode:{ADD:"ADD",UPDATE:"UPDATE"}},q={id:-1,role:-1,deactivated:1,name:null,surname:null,email:null,passport:null,optionKeyboardMode:null,optionLoginCreate:V.optionLoginCreate.LOGIN,optionUserMenu:V.optionUserMenu.ADD,optionAdvancedMode:!1,optionViewHistory:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.APP_SHUTDOWN:case g.LOGOUT:return Object.assign({},q);case g.LOGIN:return Object.assign({},e,{id:parseInt(t.payload.userId),role:parseInt(t.payload.userRole),deactivated:parseInt(t.payload.deactivated),optionKeyboardMode:null});case g.UPDATE_USER_ACTIVATION:return Object.assign({},e,{deactivated:parseInt(t.payload.deactivated)});case g.RECEIVE_USER_DETAILS:return Object.assign({},e,{name:t.payload.name?t.payload.name:e.name,surname:t.payload.surname?t.payload.surname:e.surname,email:t.payload.email?t.payload.email:e.email,passport:t.payload.passport?t.payload.passport:e.passport});case g.DELETE_USER_DETAILS:return Object.assign({},e,{name:null,surname:null,email:null,passport:null});case g.ABANDON_KEYBOARD:return Object.assign({},e,{optionKeyboardMode:null});case g.CHOOSE_KEYBOARD:return Object.assign({},e,{optionKeyboardMode:t.payload.optionKeyboardMode?t.payload.optionKeyboardMode:e.optionLoginCreate});case g.SWITCH_OPTION_LOGIN_CREATE:return Object.assign({},e,{optionLoginCreate:e.optionLoginCreate===V.optionLoginCreate.LOGIN?V.optionLoginCreate.CREATE:V.optionLoginCreate.LOGIN,optionKeyboardMode:e.optionKeyboardMode?e.optionLoginCreate===V.optionLoginCreate.LOGIN?V.optionLoginCreate.CREATE:V.optionLoginCreate.LOGIN:null});case g.SWITCH_OPTION_USER_MENU:return Object.assign({},e,{optionUserMenu:t.payload.optionUserMenu});case g.SET_OPTION_ADVANCED_MODE:return Object.assign({},e,{optionAdvancedMode:t.payload.optionAdvancedMode,optionViewHistory:!!t.payload.optionAdvancedMode&&t.payload.optionViewHistory});case g.SET_OPTION_VIEW_HISTORY:return Object.assign({},e,{optionViewHistory:t.payload.optionViewHistory});default:return e}},X={ethNetwork:null,ethAddress:null,autoLogin:!1,loggedIn:!1,loginChannel:null,payChannel:null,channels:{BLOCKCHAIN_ETHEREUM:0,KEYBOARD:0,FACEBOOK:0,LINKEDIN:0,GOOGLE:0,PAYPAL:0},facebookStatus:null,facebookUserId:null,facebookUserAccessToken:null,linkedInWindow:null,linkedInListener:null,linkedInCode:null,linkedInState:null,googleWindow:null,googleListener:null,googleState:null,accessJwt:null,refreshJwt:null},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.APP_SHUTDOWN:return Object.assign({},X);case g.LOGOUT:return Object.assign({},X,{ethNetwork:e.ethNetwork,ethAddress:e.ethAddress,autoLogin:!(!t.payload||!t.payload.autoLogin)&&t.payload.autoLogin});case g.STOP_AUTO_LOGIN:return Object.assign({},X,{autoLogin:!1});case g.UPDATE_ETH_NETWORK:return Object.assign({},e,{ethNetwork:t.payload.ethNetwork});case g.UPDATE_ETH_ADDRESS:return Object.assign({},e,{ethAddress:t.payload.ethAddress});case g.REFRESH_TOKENS:return Object.assign({},e,{accessJwt:t.payload.accessJwt,refreshJwt:t.payload.refreshJwt});case g.RECEIVE_CHANNELS:case g.RECEIVE_USER_CHANNELS:return Object.assign({},e,{channels:{BLOCKCHAIN_ETHEREUM:t.payload.BLOCKCHAIN_ETHEREUM?t.payload.BLOCKCHAIN_ETHEREUM:e.channels.BLOCKCHAIN_ETHEREUM,KEYBOARD:t.payload.KEYBOARD?t.payload.KEYBOARD:e.channels.KEYBOARD,FACEBOOK:t.payload.FACEBOOK?t.payload.FACEBOOK:e.channels.FACEBOOK,LINKEDIN:t.payload.LINKEDIN?t.payload.LINKEDIN:e.channels.LINKEDIN,GOOGLE:t.payload.GOOGLE?t.payload.GOOGLE:e.channels.GOOGLE,PAYPAL:t.payload.PAYPAL?t.payload.PAYPAL:e.channels.PAYPAL}});case g.RECEIVE_LOGIN_CHANNEL:return Object.assign({},e,{loginChannel:t.payload.loginChannel});case g.RECEIVE_PAY_CHANNEL:return Object.assign({},e,{payChannel:t.payload.payChannel});case g.RECEIVE_FACEBOOK_LOGIN_STATUS:return Object.assign({},e,{facebookStatus:t.payload.facebookStatus,facebookUserId:t.payload.facebookUserId,facebookUserAccessToken:t.payload.facebookUserAccessToken});case g.RECEIVE_LINKEDIN_WINDOW_AND_LISTENER:return Object.assign({},e,{linkedInWindow:t.payload.linkedInWindow,linkedInListener:t.payload.linkedInListener});case g.CLEAR_LINKEDIN_WINDOW_AND_LISTENER:return Object.assign({},e,{linkedInWindow:null,linkedInListener:null});case g.RECEIVE_LINKEDIN_LOGIN:return Object.assign({},e,{linkedInCode:t.payload.linkedInCode,linkedInState:t.payload.linkedInState});case g.RECEIVE_GOOGLE_WINDOW_AND_LISTENER:return Object.assign({},e,{googleWindow:t.payload.googleWindow,googleListener:t.payload.googleListener});case g.CLEAR_GOOGLE_WINDOW_AND_LISTENER:return Object.assign({},e,{googleWindow:null,googleListener:null});case g.RECEIVE_GOOGLE_LOGIN:return Object.assign({},e,{googleCode:t.payload.googleCode});case g.LOGIN:return Object.assign({},e,{loggedIn:!0,autoLogin:!0,accessJwt:t.payload.accessJwt,refreshJwt:t.payload.refreshJwt,payChannel:t.payload.payChannel});default:return e}},z={populations:[],exists:0,id:-1,lastId:-1,countryId:"",countryName:"",ccyId:"",ccyName:"",ccySymbol:"",thrubiPriceSilver:0,thrubiPriceSilverNext:0,thrubiPriceGold:1.5,brake:0,mincome:0,equality:0,warperMincome:0,warperEquality:0,thrubiFees:.005},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.APP_SHUTDOWN:case g.LOGOUT:return z;case g.CLEAR_POPULATION:return Object.assign({},z,{lastId:e.lastId});case g.CHANGE_POPULATION:return Object.assign({},e,{lastId:e.id});case g.RECEIVE_POPULATIONS:return Object.assign({},e,{populations:t.payload.populations});case g.RECEIVE_THRUBI_PRICE_SILVER:return Object.assign({},e,{thrubiPriceSilver:t.payload.thrubiPriceSilver});case g.RECEIVE_THRUBI_PRICE_SILVER_NEXT:return Object.assign({},e,{thrubiPriceSilverNext:t.payload.thrubiPriceSilverNext});case g.RECEIVE_STATS:return Object.assign({},e,{mincome:parseFloat(t.payload.stats.mincome),equality:parseFloat(t.payload.stats.equality)});case g.RECEIVE_CONFIG:return Object.assign({},e,{brake:parseFloat(t.payload.config.brake),warperMincome:parseFloat(t.payload.config.warperMincome),warperEquality:parseFloat(t.payload.config.warperEquality)});case g.SELECT_POPULATION:return Object.assign({},e,{id:parseInt(t.payload.population.populationId),countryId:t.payload.population.countryId,countryName:t.payload.population.countryName,ccyId:t.payload.population.ccyId,ccyName:t.payload.population.ccyName,ccySymbol:t.payload.population.ccySymbol});case g.POPULATION_EXISTS:return Object.assign({},e,{exists:t.payload.exists});default:return e}},Z={mCurrent:0,thrubiMode:-1,thrubiBlue:0,thrubiBlueNext:0,thrubiBlueEth:0,thrubiBlueAward:0,thrubiBlueAwardTotal:0,thrubiBlueClaimTotal:0,thrubiSilver:0,thrubiSilverNext:0,thrubiSilverEth:0,thrubiSilverTransformTotal:0,thrubiGold:0},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.APP_SHUTDOWN:case g.LOGOUT:case g.CLEAR_MEMBER:return Z;case g.RECEIVE_MEMBER:return Object.assign({},e,{mCurrent:parseFloat(t.payload.member.mCurrent),thrubiMode:parseInt(t.payload.member.thrubiMode),thrubiBlue:parseFloat(t.payload.member.thrubiBlue),thrubiBlueNext:parseFloat(t.payload.member.thrubiBlueNext),thrubiBlueEth:parseFloat(t.payload.member.thrubiBlueEth),thrubiBlueAward:parseFloat(t.payload.member.thrubiBlueAward),thrubiBlueAwardTotal:parseFloat(t.payload.member.thrubiBlueAwardTotal),thrubiBlueClaimTotal:parseFloat(t.payload.member.thrubiBlueClaimTotal),thrubiSilver:parseFloat(t.payload.member.thrubiSilver),thrubiSilverNext:parseFloat(t.payload.member.thrubiSilverNext),thrubiSilverEth:parseFloat(t.payload.member.thrubiSilverEth),thrubiSilverRedeem:parseFloat(t.payload.member.thrubiSilverRedeem),thrubiSilverTransformTotal:parseFloat(t.payload.member.thrubiSilverTransformTotal),thrubiGold:parseFloat(t.payload.member.thrubiGold)});default:return e}},te=Object(d.c)({user:J,userAccess:$,population:Q,member:ee}),ne=Object(d.c)({session:U,global:W,client:te}),re=[I,E];re.push(m.a);var ae=function(){return Object(d.d)(ne,d.a.apply(void 0,re))},oe=n(8),ue=n(9),ce=n(11),ie=n(10),le=n(12),se=Object(p.b)(function(e){return{nUser:e.global.stats.nUser,nCountry:e.global.stats.nCountry,nCcy:e.global.stats.nCcy}},{})(function(e){var t=e.nUser,n=e.nCcy,r=e.nCountry;return u.a.createElement("span",{className:"text-primary d-none d-lg-inline-block text-center small mr-2 alignBottom"},t," ",1===t?"user":"users"," using Thrubi in ",r," ",1===r?"country":"countries"," and ",n," ",1===n?"currency":"currencies")}),pe=se,de=Object(p.b)(function(e){return{ethNetwork:e.client.userAccess.ethNetwork,ethAddress:e.client.userAccess.ethAddress}})(function(e){var t=e.ethNetwork,n=e.ethAddress;return u.a.createElement("div",{className:"container-fluid navbar fixed-top flex-md-nowrap p-0 titleBar bg-light"},u.a.createElement("div",{className:"col-lg-7 d-flex justify-content-center justify-content-md-center justify-content-lg-start fullWidth text-left"},u.a.createElement("img",{className:"mr-2 logoThrubi",src:"/thrubi-client/logo.png",alt:"Thrubi logo",height:"20px",width:"20px"}),u.a.createElement("span",{className:"mr-2 alignBottom navbar-brand thrubiGradient"},u.a.createElement("b",null,"Thrubi App")),u.a.createElement("span",{className:"d-none d-xl-block mr-2 alignBottom text-dark navbar-nav"},"Welcome to Thrubi!"),u.a.createElement(pe,null)),u.a.createElement("div",{className:"col-lg-5 d-none d-lg-block float-right mr-0 my-2 text-right ethBadges"},u.a.createElement("div",{className:"navbar-nav small"},t&&n?u.a.createElement("div",null,u.a.createElement("span",{className:"badge badge-warning"},"network/",t),u.a.createElement("span",{className:"badge badge-info"},n)):"Accessing blockchain data")))}),fe=de,me=function(){function e(){Object(oe.a)(this,e)}return Object(ue.a)(e,null,[{key:"channelIsOpen",value:function(e){return e>0}},{key:"channelIsForLogin",value:function(e){return Math.abs(e)%2}},{key:"channelIsForPay",value:function(e){return(Math.abs(e)>>1)%2}},{key:"channelColor",value:function(e){switch(e){case"BLOCKCHAIN_ETHEREUM":return"blockchain-ethereum";case"KEYBOARD":return"keyboard";case"FACEBOOK":return"facebook";case"LINKEDIN":return"linkedin";case"GOOGLE":return"google";case"PAYPAL":return"paypal";default:return""}}},{key:"channelAuthFunctionName",value:function(e){switch(e){case"BLOCKCHAIN_ETHEREUM":return"BlockchainEthereum";case"KEYBOARD":return"Keyboard";case"FACEBOOK":return"Facebook";case"LINKEDIN":return"LinkedIn";case"GOOGLE":return"Google";default:return""}}},{key:"keyboardChannelMessage",value:function(e){switch(e){case"LOGIN":return"Sign in with username/password";case"CREATE":return"Create a new Thrubi account with username/password";case"ADD":return"Add username/password credentials to my account";case"UPDATE":return"Update my username/password credentials";default:return""}}},{key:"channelUserFriendlyName",value:function(e,t){switch(t){case"USE":switch(e){case"BLOCKCHAIN_ETHEREUM":return"Use my Ethereum wallet";case"PAYPAL":return"Use my PayPal account";default:return""}case"USING":switch(e){case"BLOCKCHAIN_ETHEREUM":return"Using my Ethereum wallet";case"PAYPAL":return"Using my PayPal account";default:return""}case"LINK":switch(e){case"BLOCKCHAIN_ETHEREUM":return"Connect an Ethereum wallet to use it";case"PAYPAL":return"Connect a PayPal account to use it";default:return""}case"LOGIN":switch(e){case"BLOCKCHAIN_ETHEREUM":return"Sign in with Ethereum wallet";case"KEYBOARD":return"Sign in with username/password";case"FACEBOOK":return"Sign in with Facebook";case"LINKEDIN":return"Sign in with LinkedIn";case"GOOGLE":return"Sign in with Google";default:return""}case"CREATE":switch(e){case"BLOCKCHAIN_ETHEREUM":return"Sign up with Ethereum wallet";case"KEYBOARD":return"Sign up with username/password";case"FACEBOOK":return"Sign up with Facebook";case"LINKEDIN":return"Sign up with LinkedIn";case"GOOGLE":return"Sign up with Google";default:return""}case"ADD":switch(e){case"BLOCKCHAIN_ETHEREUM":return"Connect an Ethereum wallet";case"KEYBOARD":return"Enable credentials (username/password)";case"FACEBOOK":return"Connect a Facebook account";case"LINKEDIN":return"Connect a LinkedIn account";case"GOOGLE":return"Connect a Google account";case"PAYPAL":return"Connect a PayPal account";default:return""}case"DELETE":switch(e){case"BLOCKCHAIN_ETHEREUM":return"Disable access via my Ethereum wallet";case"KEYBOARD":return"Disable credentials (username/password)";case"FACEBOOK":return"Disconnect my Facebook account";case"LINKEDIN":return"Disconnect my LinkedIn account";case"GOOGLE":return"Disconnect my Google account";case"PAYPAL":return"Disconnect my PayPal account";default:return""}case"UPDATE":switch(e){case"BLOCKCHAIN_ETHEREUM":return"Connect another Ethereum wallet";case"KEYBOARD":return"Update username/password";case"FACEBOOK":return"Connect another Facebook account";case"LINKEDIN":return"Connect another LinkedIn account";case"GOOGLE":return"Connect another Google account";case"PAYPAL":return"Connect another PayPal account";default:return""}default:return""}}}]),e}(),Ee=me,be=function(e){var t=e.action,n=e.payload,r=e.text,a=e.buttonType,o=e.disabled,c=void 0!==o&&o,i=e.channel,l=void 0!==i&&i;return u.a.createElement("button",{disabled:c,onClick:function(e){e.preventDefault(),t(n)},className:"btn btn-sm btn-block rounded-0 my-2 py-2 "+a+(l?Ee.channelColor(l):"")},u.a.createElement("div",{className:"container-fluid row p-0 m-0"+(l?"":" fullWidth")},u.a.createElement("div",{className:l?"":"fullWidth"},l?u.a.createElement("img",{className:"p-0 my-0 mx-2",alt:l,height:"32",width:"32",src:"/thrubi-client/png/"+Ee.channelColor(l)+".png"}):"",u.a.createElement("div",{className:(l?"ml-4":"fullWidth")+" displayInlineBlock text-"+(l?"left":"center")},r))))},ye=n(94),he=n.n(ye),Oe="get",ve="post",_e="X-Access-Token",ge="Bearer ",Ne=function(e,t,n){return function(r,a){return new Promise(function(r,o){var u=function(e,t){var n,a;if(e)o(b.flareBook.errorFlare.THRUBI_CONNECTION_FAILED);else if(n=t.body,200===t.statusCode)a=n.result,r(a);else{var u=b.flareBook.errorFlare.THRUBI_SERVER_ERROR;u.serverError=n.error,o(u)}};try{var c={url:"https://localhost:8443"+t,json:null===n?{}:n};a().client.userAccess.loggedIn&&(c.headers=Object(k.a)({},_e,ge+a().client.userAccess.accessJwt)),e===Oe?he.a.get(c,u):e===ve&&he.a.post(c,u)}catch(i){o(b.flareBook.errorFlare.THRUBI_CONNECTION_FAILED)}})}},Te="/auth/challenge/blockchainEthereum",Ie="/auth/listChannels",Re="/auth/create/blockchainEthereum",Se="/auth/login/blockchainEthereum",Ae="/auth/create/keyboard",ke="/auth/login/keyboard",we="/auth/create/facebook",Ce="/auth/login/facebook",xe="/auth/create/linkedIn",Le="/auth/login/linkedIn",Be="/auth/create/google",Pe="/auth/login/google",Ue="/auth/refresh",je="/auth/logout",Fe="/country/list",De="/ccy/list",Me="/member/create",Ge="/member/request/claim",He="/member",Ye="/member/request/declareIncome",Ke="/stats/nUser",We="/stats/nCountry",Ve="/stats/nCcy",qe="/user/details/fetch",Je="/user/details/delete",Xe="/user/details/store",$e="/user/close",ze="/userAccess/listUserChannels",Qe="/userAccess/setPayChannel",Ze="/userAccess/delete",et="/userAccess/add/keyboard",tt="/userAccess/update/keyboard",nt="/userAccess/add/blockchainEthereum",rt="/userAccess/update/blockchainEthereum",at="/userAccess/add/facebook",ot="/userAccess/update/facebook",ut="/userAccess/add/linkedIn",ct="/userAccess/update/linkedIn",it="/userAccess/add/google",lt="/userAccess/update/google",st="/population/forUser",pt="/population/thrubiPrice/silver",dt="/population/thrubiPrice/silver/next",ft="/population/create",mt="/population/delete",Et="/population/stats/read",bt="/population/config/read",yt="/population/config/change",ht="/population/exists",Ot=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:-1!==n().client.user.id&&Ne(Oe,st,null)(t,n).then(function(e){t({type:g.RECEIVE_POPULATIONS,payload:{populations:e}})}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareType.ERR_GENERIC_USERMENU))}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_POPULATIONS})});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},vt=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ne(Oe,dt+"/"+e,null)(n,r).then(function(e){n({type:g.RECEIVE_THRUBI_PRICE_SILVER_NEXT,payload:{thrubiPriceSilverNext:parseFloat(e.thrubiPriceSilverNext)}})}).catch(function(e){return n(N(b.flareBook.flareType.ERROR,b.flareBook.flareType.ERR_GENERIC_USERMENU))}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},_t=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ne(Oe,Et+"/"+e,null)(n,r).then(function(e){n({type:g.RECEIVE_STATS,payload:{stats:e}})}).catch(function(e){return n(N(b.flareBook.flareType.ERROR,b.flareBook.flareType.ERR_GENERIC_USERMENU))}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},gt=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ne(Oe,bt+"/"+e,null)(n,r).then(function(e){n({type:g.RECEIVE_CONFIG,payload:{config:e}})}).catch(function(e){return n(N(b.flareBook.flareType.ERROR,b.flareBook.flareType.ERR_GENERIC_USERMENU))}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},Nt=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:g.CHANGE_POPULATION,payload:{}}),It()(t,n);case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Tt=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){var a,o,u;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:It()(n,r),n({type:g.SET_BUSY,payload:_.BUSY_ACTION_POPULATIONS}),n({type:g.SELECT_POPULATION,payload:{population:e}}),a=setInterval(function(){var t=function(){St(e.populationId,r().client.user.id)(n,r)};return t(),t}(),1e3),n({type:g.RECEIVE_MEMBER_WORKER,payload:{memberWorker:a}}),o=setInterval(function(){var t=function(){var t;n((t=e.ccyId,function(){var e=Object(O.a)(h.a.mark(function e(n,r){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",new Promise(function(e,r){he.a.get({url:"https://api.coinbase.com/v2/prices/ETH-"+t+"/spot",json:{}},function(t,a){if(t)r(b.flareBook.errorFlare.EXRATE_FETCH_ERROR);else{var o=parseFloat(a.body.data.amount);n({type:g.RECEIVE_EXRATE,payload:{exrate:o}}),e(o)}})}));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()))};return t(),t}(),1e3),n({type:g.RECEIVE_MARKET_WORKER,payload:{marketWorker:o}}),u=setInterval(function(){var t=function(){var t;(t=e.populationId,function(){var e=Object(O.a)(h.a.mark(function e(n,r){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne(Oe,pt+"/"+t,null)(n,r).then(function(e){n({type:g.RECEIVE_THRUBI_PRICE_SILVER,payload:{thrubiPriceSilver:parseFloat(e.thrubiPriceSilver)}})}).catch(function(e){return n(N(b.flareBook.flareType.ERROR,b.flareBook.flareType.ERR_GENERIC_USERMENU))}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())(n,r),vt(e.populationId)(n,r),r().client.user.auth&&(_t(e.populationId)(n,r),gt(e.populationId)(n,r))};return t(),t}(),1e3),n({type:g.RECEIVE_POPULATION_WORKER,payload:{populationWorker:u}}),n({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_POPULATIONS});case 10:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},It=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n().session.workers.member),t({type:g.STOP_MEMBER_WORKER,payload:{}}),clearInterval(n().session.workers.market),t({type:g.STOP_MARKET_WORKER,payload:{}}),clearInterval(n().session.workers.population),t({type:g.STOP_POPULATION_WORKER,payload:{}}),t({type:g.CLEAR_MEMBER,payload:{}}),t({type:g.CLEAR_POPULATION,payload:{}});case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Rt=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:g.SET_BUSY,payload:_.BUSY_ACTION_POPULATIONS}),t.next=3,n(Ne(ve,Me+"/"+e.populationId,null)).then(function(){return n(Ot())}).catch(function(e){return n(N(b.flareBook.flareType.ERROR,b.flareBook.flareType.ERR_GENERIC_USERMENU))}).then(function(){return n({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_POPULATIONS})});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},St=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===n().client.population.id||!n().client.user.loggedIn){e.next=4;break}return e.next=3,t(Ne(Oe,He+"/"+n().client.population.id,null)).then(function(e){return t({type:g.RECEIVE_MEMBER,payload:{member:e}})}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareType.ERR_GENERIC_USERMENU))});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},At=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:g.SET_BUSY,payload:_.BUSY_ACTION_DECLAREINCOME}),t.next=3,n(Ne(ve,Ye+"/"+r().client.population.id+"/"+e,null)).catch(function(e){return n(N(b.flareBook.flareType.ERROR,b.flareBook.flareType.ERR_GENERIC_USERMENU))}).then(function(){return n({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_DECLAREINCOME})});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},kt=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().client.userAccess.ethAddress,a=n().client.population.id,e.next=4,t(Ne(Oe,Ge+"/"+r+"/"+a,null));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},wt=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:g.SET_OPTION_ADVANCED_MODE,payload:{optionAdvancedMode:e}}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},Ct=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:g.SET_OPTION_VIEW_HISTORY,payload:{optionViewHistory:e}}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},xt=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props,t=e.optionAdvancedMode,n=e.optionViewHistory,r=this.props,a=r.advancedMode,c=r.viewHistory,i=r.changePopulation;return u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"col-lg-1 userPanel"},u.a.createElement(be,{buttonType:"p-0 btn-primary",action:function(){return a(!t)},text:t?"Advanced":"Basic"})),u.a.createElement("div",{className:"col-lg-1 userPanel"},u.a.createElement(be,{buttonType:"p-0 btn-"+(n?"primary":"light"),disabled:!t,action:function(){return c(!n)},text:"History"})),u.a.createElement("div",{className:"col-lg-1 userPanel"},u.a.createElement(be,{buttonType:"p-0 btn-primary",action:i,text:"Back"})))}}]),t}(o.Component),Lt=Object(p.b)(function(e){return{optionAdvancedMode:e.client.user.optionAdvancedMode,optionViewHistory:e.client.user.optionViewHistory,populationId:e.client.population.id}},r)(xt),Bt=Lt,Pt=Object(p.b)(function(e){return{loggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id,countryName:e.client.population.countryName,ccyId:e.client.population.ccyId,ccyName:e.client.population.ccyName,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiPriceSilverNext:e.client.population.thrubiPriceSilverNext,thrubiPriceGold:e.client.population.thrubiPriceGold}},{})(function(e){var t=e.populationId,n=e.countryName,r=e.ccyId,a=e.ccyName,c=e.ccySymbol,i=e.exrate,l=e.thrubiPriceSilver,s=e.thrubiPriceSilverNext,p=e.thrubiPriceGold;return u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"col-lg-9 py-3"},u.a.createElement("span",null,n,"/",a,"(",r,") ",u.a.createElement("span",{className:"small"},"(pid#",t,")")),u.a.createElement("span",null,"\xa0| 1.00\u039e = ",i.toFixed(2),c),u.a.createElement("span",null,"\xa0| 1.00$\u20ae = ",l.toFixed(2),c),u.a.createElement("span",null,"\xa0| 1.00$\u20ae = ",s.toFixed(2),c," (next)"),u.a.createElement("span",null,"\xa0| 1.00\u20b2\u20ae = ",p.toFixed(2),c)))}),Ut=Pt,jt=Object(p.b)(function(e){return{busy:e.session.busy.component.viewport,loggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id}},{})(function(e){var t=e.busy,n=e.loggedIn,r=e.populationId;return u.a.createElement("div",{className:"container text-primary text-center small m-0 p-2"},t?"Viewport loading...":u.a.createElement("div",{className:"row"},!n||r<0?"":u.a.createElement(o.Fragment,null,u.a.createElement(Bt,null),u.a.createElement(Ut,null))))}),Ft=jt,Dt=function(e){var t=e.columnSize,n=(e.color,e.activeFilter),r=e.checkedFilter,a=e.action,o=e.elements;return u.a.createElement("div",{"data-toggle":"buttons",className:"btn btn-block btn-group btn-group-toggle border-0 row p-0 m-0 my-2"},o.map(function(e,o){return u.a.createElement("button",{key:e.key,id:e.key,onClick:function(t){t.preventDefault(),a(e.key)},defaultChecked:r===e.key,disabled:!1,className:"btn btn-sm btn-block small rounded-0 p-0 m-0 py-2 "+e.color+" "+t+(n===e.key?" active":"")},u.a.createElement("div",{className:"container row p-0 m-0"+(e.channel?"":" fullWidth")},u.a.createElement("div",{className:e.channel?"":"fullWidth"},e.channel?u.a.createElement("img",{className:"p-0 my-0 mx-2",alt:e.channel,height:"32",width:"32",src:"/thrubi-client/png/"+Ee.channelColor(e.channel)+".png"}):"",u.a.createElement("div",{className:(e.channel?"ml-4":"fullWidth")+" displayInlineBlock text-"+(e.channel?"left":"center")},e.text))))}))},Mt=function(e){var t=e.text,n=e.action,r=e.abandonAction,a=e.buttonType,o=e.abandonButtonType,c={username:null,password:null};return u.a.createElement("div",null,u.a.createElement("input",{id:"username",ref:function(e){return c.username=e},type:"text",className:"form-control form-control-sm my-2",placeholder:"username",required:!0}),u.a.createElement("input",{id:"password",ref:function(e){return c.password=e},type:"text",className:"form-control form-control-sm my-2",placeholder:"password",required:!0}),u.a.createElement(be,{text:t,action:function(){n(c.username.value,c.password.value)},buttonType:a}),u.a.createElement(be,{text:"Back",action:r,buttonType:o}))},Gt=n(95),Ht=n.n(Gt),Yt="confirmation",Kt=[{constant:!0,inputs:[],name:"userCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x07973ccf"},{constant:!0,inputs:[],name:"lastProcessedClaim",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x17f0f244"},{constant:!0,inputs:[],name:"lastProcessedTransform",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x7b306690"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8da5cb5b"},{constant:!0,inputs:[],name:"lastClaim",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xa8adb564"},{constant:!0,inputs:[],name:"lastTransform",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xaa2ddbf1"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor",signature:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"}],name:"UserCreated",type:"event",signature:"0x0b0376a109cbb578b709f85f6a7befcdac3ac1ab251c99ede87f30c9572ac4d3"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"name",type:"string"},{indexed:!1,name:"surname",type:"string"}],name:"UserUpdated",type:"event",signature:"0xe5d18d6612696bff7df1db8015eac613241613297fa2ba2783993e4fd0e76f3d"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"deactivated",type:"bool"}],name:"UserActivated",type:"event",signature:"0x778b37e4212438e31bb36f033dd30e024005d668a4df069a75261d4e41f4013f"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"deactivated",type:"bool"}],name:"UserDeactivated",type:"event",signature:"0x1b32d41cdfc3bfbfff6b3c55227176d2d8d97ea2494e509db5d8b60d246e680b"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"populationId",type:"uint256"},{indexed:!1,name:"userId",type:"uint256"},{indexed:!1,name:"weiAmount",type:"uint256"}],name:"ClaimSubmitted",type:"event",signature:"0x199cf6ad2e6ce4f20f4f77bf95042862858fe7b5fb2240b17ec190107e6b41e8"},{anonymous:!1,inputs:[{indexed:!1,name:"ethAddress",type:"address"},{indexed:!1,name:"populationId",type:"uint256"},{indexed:!1,name:"userId",type:"uint256"},{indexed:!1,name:"weiAmount",type:"uint256"}],name:"TransformSubmitted",type:"event",signature:"0x6b8d5104af05a3749790a02190abe69665e450a2af5f4dd52ac361f9a8a22bd5"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"},{name:"_populationId",type:"uint256"},{name:"_userId",type:"uint256"}],name:"transform",outputs:[],payable:!0,stateMutability:"payable",type:"function",signature:"0x3259af21"},{constant:!0,inputs:[],name:"getLastTransform",outputs:[{name:"_lastTransform",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8a3f8702"},{constant:!0,inputs:[],name:"getLastProcessedTransform",outputs:[{name:"_lastProcessedTransform",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x766dcc9c"},{constant:!0,inputs:[{name:"_i",type:"uint256"}],name:"getTransform",outputs:[{name:"_ethAddress",type:"address"},{name:"_populationId",type:"uint256"},{name:"_userId",type:"uint256"},{name:"_weiAmount",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x21347ab1"},{constant:!1,inputs:[],name:"signalProcessedTransforms",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x764103fc"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"},{name:"_populationId",type:"uint256"},{name:"_userId",type:"uint256"},{name:"_weiAmount",type:"uint256"}],name:"claimEth",outputs:[],payable:!0,stateMutability:"payable",type:"function",signature:"0xf92b929f"},{constant:!0,inputs:[],name:"getLastClaim",outputs:[{name:"_lastClaim",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x68a825ad"},{constant:!0,inputs:[],name:"getLastProcessedClaim",outputs:[{name:"_lastProcessedClaim",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8fdfde42"},{constant:!0,inputs:[{name:"_i",type:"uint256"}],name:"getClaim",outputs:[{name:"_address",type:"address"},{name:"_populationId",type:"uint256"},{name:"_userId",type:"uint256"},{name:"_weiAmount",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x5aef2447"},{constant:!0,inputs:[{name:"_ethAddress",type:"address"}],name:"findMe",outputs:[{name:"foundMe",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x3223a182"},{constant:!0,inputs:[{name:"_ethAddress",type:"address"}],name:"findMyUser",outputs:[{name:"found",type:"bool"},{name:"name",type:"string"},{name:"surname",type:"string"},{name:"deactivated",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0xc77489f1"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"},{name:"_name",type:"string"},{name:"_surname",type:"string"}],name:"updateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x10e8b22d"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"createUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xcdd87618"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"activateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xb4acfe1c"},{constant:!1,inputs:[{name:"_ethAddress",type:"address"}],name:"deactivateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x1a47767b"}],Wt=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:g.SWITCH_OPTION_USER_MENU,payload:{optionUserMenu:e}}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},Vt=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then(function(){return t(Ne(Oe,qe,null))}).then(function(e){return e.map(function(e,t){return r[e.detailName]=e.detailValue})}).then(function(){return t({type:g.RECEIVE_USER_DETAILS,payload:r})}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.ERR_USER_DETAILS))});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},qt=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(function(){return r({type:g.SET_BUSY,payload:_.BUSY_ACTION_USERDETAILS})}).then(function(){return r(Ne(ve,Xe,Object.assign({},{userDetails:e},t)))}).then(function(){return r(Vt())}).catch(function(e){return r(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.ERR_USER_DETAILS))}).finally(function(){return r({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_USERDETAILS})});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},Jt={connected:"connected",unknown:"unknown",not_authorized:"not_authorized"},Xt="/me?fields=first_name,last_name,email",$t="email",zt=function(e,t,n){return"https://www.linkedin.com/oauth/v2/authorization?response_type=code&redirect_uri="+e+"&state="+t+"&scope=r_liteprofile%20r_emailaddress&client_id="+n},Qt=function(e,t){return"https://accounts.google.com/o/oauth2/auth?response_type=code&redirect_uri="+e+"&scope=email%20profile&client_id="+t},Zt=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:g.SWITCH_OPTION_LOGIN_CREATE,payload:{}}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},en=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().client.userAccess.loggedIn){t.next=4;break}return t.next=3,Promise.resolve().then(function(){return n({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){return n(Ne(ve,je,{refreshJwt:r().client.userAccess.refreshJwt}))}).then(function(){return n({type:g.LOGOUT,payload:e})}).then(function(){return n(tn())}).then(function(){return n(rn())}).then(function(){return n(It())}).then(function(){return n(Rn())}).catch(function(e){throw b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGOUT)}).finally(function(){return n({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},tn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return clearTimeout(n().session.workers.refreshTokens)}).then(function(){return t({type:g.STOP_REFRESH_TOKENS_WORKER,payload:{}})}).catch(function(){throw b.flareBook.errorFlare.ERROR_STOP_TOKEN_REFRESH});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},nn=function e(t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){var o;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=setTimeout(Object(O.a)(h.a.mark(function t(){var n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(function(){return r(Ne(ve,Ue,{refreshJwt:a().client.userAccess.refreshJwt}))}).then(function(e){n=e}).then(function(){return r({type:g.REFRESH_TOKENS,payload:n})}).then(function(){return r(e(n.accessJwtExpiry))}).catch(function(e){throw b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN)}).catch(function(){return r(en({autoLogin:!0}))});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),t/2),r({type:g.RECEIVE_REFRESH_TOKENS_WORKER,payload:{refreshTokensWorker:o}});case 2:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},rn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then(function(){return t(Ne(Oe,Ie,null))}).then(function(e){return e.map(function(e,t){return r[e.channelName]=e.channelMode})}).then(function(){return t({type:g.RECEIVE_CHANNELS,payload:r})}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.ERR_CHANNEL_FETCH))});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},an=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.resolve().then(function(){return t(Ne(Oe,ze,null))}).then(function(e){return e.map(function(e,t){return r[e.channelName]=e.channelMode})}).then(function(){return t({type:g.RECEIVE_USER_CHANNELS,payload:r})}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.ERR_USER_CHANNEL_FETCH))});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},on=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(function(){return n({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){return n(Ne(ve,Ze+e,{}))}).then(function(){return n(an())}).catch(function(e){return n(N(b.flareBook.flareType.ERROR,e))}).finally(function(){return n({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},un=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(function(){if(!Ee.channelIsOpen(r().client.userAccess.channels[e]))throw n(Wt("ADD")),b.flareBook.errorFlare.CHANNEL_CLOSED}).then(function(){return n(Ne(ve,Qe,{payChannel:e}))}).then(function(e){return n({type:g.RECEIVE_PAY_CHANNEL,payload:{payChannel:e}})}).catch(function(e){if(e!==b.flareBook.errorFlare.CHANNEL_CLOSED)throw e}).catch(function(e){return n(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.ERR_PAY_CHANNEL_UPDATE))});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},cn=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(function(){if(!e.userId)throw e.loginError}).then(function(){return n({type:g.LOGIN,payload:e})}).then(function(){return n(nn(e.accessJwtExpiry))}).then(function(){return n(Vt())}).then(function(){return n(an())}).catch(function(){return n(en({autoLogin:!1}))}).finally(function(){return n({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},ln=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().client.userAccess.ethAddress,e.next=3,Promise.resolve().then(function(){return t({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){return t(Ne(ve,Te,{ethAddress:r}))}).then(function(e){a={challengeJwt:e.challengeJwt,hashedJwt:e.hashedJwt}}).then(function(){return t((e=a.hashedJwt,function(){var t=Object(O.a)(h.a.mark(function t(n,r){var a,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Ht.a(Ht.a.givenProvider),o=r().client.userAccess.ethAddress,t.next=4,a.eth.personal.sign(e,o,null);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));var e}).then(function(e){return{ethAddress:r,challengeSolution:{challengeJwt:a.challengeJwt,hashedJwt:a.hashedJwt,signedMessage:e}}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},sn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(ln())}).then(function(e){return t(Ne(ve,Re,e))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return t(cn(e))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},pn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(ln())}).then(function(e){return t(Ne(ve,Se,e))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return t(cn(e))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},dn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(ln())}).then(function(e){return t(Ne(ve,nt,e))}).then(function(){return t(an())}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},fn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(ln())}).then(function(e){return t(Ne(ve,rt,e))}).then(function(){return t(an())}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},mn=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(function(){return r({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){return r(Ne(ve,Ae,{username:e,password:t}))}).catch(function(e){return r(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return r(cn(e))});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},En=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(function(){return r({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){return r(Ne(ve,ke,{username:e,password:t}))}).catch(function(e){return r(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return r(cn(e))});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},bn=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(function(){return r({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){return r(Ne(ve,et,{username:e,password:t}))}).then(function(){return r(an())}).then(function(){return r(hn())}).catch(function(e){return r(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).finally(function(){return r({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},yn=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(function(){return r({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){return r(Ne(ve,tt,{username:e,password:t}))}).then(function(){return r(an())}).then(function(){return r(hn())}).catch(function(e){return r(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).finally(function(){return r({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},hn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t({type:g.ABANDON_KEYBOARD,payload:{}})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},On=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(function(){return n({type:g.CHOOSE_KEYBOARD,payload:e})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},vn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(On({}))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},_n=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(On({}))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},gn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(On({optionKeyboardMode:V.optionKeyboardMode.ADD}))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Nn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(On({optionKeyboardMode:V.optionKeyboardMode.UPDATE}))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Tn=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){var o;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={},n.next=3,Promise.resolve().then(function(){o.facebookStatus=e.status,o.facebookUserId=e.authResponse?e.authResponse.userID:null,o.facebookUserAccessToken=e.authResponse?e.authResponse.accessToken:null}).then(function(){return r({type:g.RECEIVE_FACEBOOK_LOGIN_STATUS,payload:o})}).then(function(){return t(o.facebookStatus)});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},In=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(function(){if(!window.FB)throw b.flareBook.errorFlare.FB_NOT_FOUND}).then(function(){return new Promise(function(e){window.FB.getLoginStatus(function(t){return n(Tn(t,e))})})}).then(function(t){return e&&e(t),t});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},Rn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(In(null))}).then(function(e){if(e===Jt.connected)return new Promise(function(e){window.FB.logout(function(){return e(),!1})})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Sn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){if(!window.FB)throw b.flareBook.errorFlare.FB_NOT_FOUND}).then(function(){return t(In(null))}).then(function(e){if(e===Jt.unknown||e===Jt.not_authorized)return t(function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return new Promise(function(e){window.FB.login(function(){return t(In(e))},{scope:$t})})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}).then(function(){return{facebookUserId:n().client.userAccess.facebookUserId,facebookUserAccessToken:n().client.userAccess.facebookUserAccessToken}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},An=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(In(null))}).then(function(e){return new Promise(function(t){e===Jt.connected&&window.FB.api(Xt,function(e){return t(e)})})}).then(function(e){return{name:e.first_name,surname:e.last_name,email:e.email}}).then(function(e){return t(qt(e,{overwrite:!1}))}).catch(function(e){t(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.FB_NOT_FOUND))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},kn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Sn())}).then(function(e){return t(Ne(ve,we,e))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return t(cn(e))}).then(function(){return t(An())});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},wn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Sn())}).then(function(e){return t(Ne(ve,Ce,e))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return t(cn(e))}).then(function(){return t(An())});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Cn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Sn())}).then(function(e){return t(Ne(ve,at,e))}).then(function(){return t(an())}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(){return t(An())}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},xn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Sn())}).then(function(e){return t(Ne(ve,ot,e))}).then(function(){return t(an())}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(){return t(An())}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Ln=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){var o;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=null,n.next=3,Promise.resolve().then(function(){if(e.data.origin&&"THRUBI"===e.data.origin)return e.data;throw b.flareBook.errorFlare.MESSAGE_IGNORED}).then(function(e){r({type:g.RECEIVE_LINKEDIN_LOGIN,payload:e})}).then(function(){o=a().client.userAccess.linkedInListener}).then(function(){window.removeEventListener("message",o)}).then(function(){return a().client.userAccess.linkedInWindow}).then(function(e){e.close()}).then(function(){return r({type:g.CLEAR_LINKEDIN_WINDOW_AND_LISTENER,payload:{}})}).then(function(){t()}).catch(function(){return null});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},Bn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return window.location.search}).then(function(e){return JSON.parse('{"'+decodeURI(e).replace("?","").replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}).then(function(e){return{linkedInCode:e.code,linkedInState:e.state,origin:"THRUBI"}}).then(function(e){window.opener&&window.opener.postMessage(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Pn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r,a,o,u,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,o=null,u=null,c=new Promise(function(e){return u=e}),e.next=7,Promise.resolve().then(function(){return t({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){r=n().client.userAccess.linkedInWindow}).then(function(){return null===r||r.closed}).then(function(e){e&&(r=window.open(zt("https://localhost:3000/linkedInRedirect","ec178df0ec26b9584b3702c8ee98071f76f40b11121c19ff18f674b16169a9e95fee8b82a6334152ba70565c41cf0d1a0b33ff9dda5298a34ce271008e8c09f7","78w03u1p8bc928"),"Login to Thrubi using your LinkedIn account","toolbar=no, menubar=no, width=600, height=500, top=50, left=100"))}).then(function(){return r.focus()}).then(function(){o=setInterval(function(){r.closed&&(u(),clearInterval(o))},500)}).then(function(){a=function(e){return t(Ln(e,u))}}).then(function(){window.addEventListener("message",a)}).then(function(){return t({type:g.RECEIVE_LINKEDIN_WINDOW_AND_LISTENER,payload:{linkedInWindow:r,linkedInListener:a}})}).then(function(){return c}).then(function(){return{linkedInCode:n().client.userAccess.linkedInCode,linkedInState:n().client.userAccess.linkedInState}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Un=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Pn())}).then(function(e){return t(Ne(ve,xe,e))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return t(cn(e))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},jn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Pn())}).then(function(e){return t(Ne(ve,Le,e))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return t(cn(e))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Fn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Pn())}).then(function(e){return t(Ne(ve,ut,e))}).then(function(){return t(an())}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Dn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Pn())}).then(function(e){return t(Ne(ve,ct,e))}).then(function(){return t(an())}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Mn=function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){var o;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=null,n.next=3,Promise.resolve().then(function(){if(e.data.origin&&"THRUBI"===e.data.origin)return e.data;throw b.flareBook.errorFlare.MESSAGE_IGNORED}).then(function(e){r({type:g.RECEIVE_GOOGLE_LOGIN,payload:e})}).then(function(){o=a().client.userAccess.googleListener}).then(function(){window.removeEventListener("message",o)}).then(function(){return a().client.userAccess.googleWindow}).then(function(e){e.close()}).then(function(){return r({type:g.CLEAR_GOOGLE_WINDOW_AND_LISTENER,payload:{}})}).then(function(){t()}).catch(function(){return null});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},Gn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return window.location.search}).then(function(e){return JSON.parse('{"'+decodeURI(e).replace("?","").replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}).then(function(e){return{googleCode:e.code,origin:"THRUBI"}}).then(function(e){window.opener&&window.opener.postMessage(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Hn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r,a,o,u,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,o=null,u=null,c=new Promise(function(e){return u=e}),e.next=7,Promise.resolve().then(function(){return t({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){r=n().client.userAccess.googleWindow}).then(function(){return null===r||r.closed}).then(function(e){e&&(r=window.open(Qt("https://localhost:3000/googleRedirect","627523329723-5kfvuqg068851dsf6efh911ue4v7ttur.apps.googleusercontent.com"),"Login to Thrubi using your Google account","toolbar=no, menubar=no, width=600, height=500, top=50, left=100"))}).then(function(){return r.focus()}).then(function(){o=setInterval(function(){r.closed&&(u(),clearInterval(o))},500)}).then(function(){a=function(e){return t(Mn(e,u))}}).then(function(){window.addEventListener("message",a)}).then(function(){return t({type:g.RECEIVE_GOOGLE_WINDOW_AND_LISTENER,payload:{googleWindow:r,googleListener:a}})}).then(function(){return c}).then(function(){return{googleCode:n().client.userAccess.googleCode}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Yn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Hn())}).then(function(e){return t(Ne(ve,Be,e))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return t(cn(e))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Kn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Hn())}).then(function(e){return t(Ne(ve,Pe,e))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).then(function(e){return t(cn(e))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Wn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Hn())}).then(function(e){return t(Ne(ve,it,e))}).then(function(){return t(an())}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Vn=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t(Hn())}).then(function(e){return t(Ne(ve,lt,e))}).then(function(){return t(an())}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.flareFallback(e,b.flareBook.errorFlare.FAILED_LOGIN))),{loginError:!0}}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},qn=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.busy,n=e.loggedIn,r=e.autoLogin,a=e.ethAddress,o=this.props.loginBlockchainEthereum;!t&&!n&&r&&a&&o()}},{key:"componentWillUnmount",value:function(){(0,this.props.logout)({autoLogin:!1})}},{key:"authFunction",value:function(e,t){return this.props[e.toLowerCase()+Ee.channelAuthFunctionName(t)]}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.loggedIn,a=t.optionLoginCreate,c=t.optionKeyboardMode,i=t.optionUserMenu,l=t.payChannel,s=t.channels,p=this.props,d=p.switchOptionLoginCreate,f=p.switchOptionUserMenu,m=p.abandonKeyboard,E=p.setPayChannel,b=p.deleteChannel,y=p.logout;return u.a.createElement("div",{className:"text-center small text-dark"},n?"Auth module busy...":u.a.createElement(o.Fragment,null,null===c?"":u.a.createElement(Mt,{text:Ee.keyboardChannelMessage(c),action:this.props[c.toLowerCase()+"KeyboardForm"],buttonType:"btn btn-sm p-0 btn-primary",abandonAction:m,abandonButtonType:"btn btn-sm p-0 btn-secondary"}),null!==c||r?"":u.a.createElement(o.Fragment,null,Object.keys(s).map(function(t){return Ee.channelIsForLogin(s[t])?u.a.createElement(be,{channel:t,text:Ee.channelUserFriendlyName(t,a),key:(a===V.optionLoginCreate.LOGIN?"login":"create")+t,action:e.authFunction(a,t),buttonType:"btn btn-sm p-0 btn-"+(a===V.optionLoginCreate.LOGIN?"":"outline-")}):""})),r?"":u.a.createElement(be,{text:a===V.optionLoginCreate.LOGIN?"I am new to Thrubi":"I already have a Thrubi account",action:d,buttonType:"nav-link border-0 text-small text-primary"}),null===c&&r?u.a.createElement(o.Fragment,null,u.a.createElement(be,{text:"Logout",action:y,payload:{autoLogin:!1},buttonType:"btn btn-sm p-0 btn-secondary"}),u.a.createElement(Dt,{columnSize:"col-lg-6",activeFilter:i,checkedFilter:i,action:f,elements:[{color:"btn-outline-primary",key:V.optionUserMenu.USER,text:"My account",disabledFilter:i===V.optionUserMenu.USER},{color:"btn-outline-primary",key:V.optionUserMenu.PAY,text:"Payment",disabledFilter:i===V.optionUserMenu.PAY},{color:"btn-outline-primary",key:V.optionUserMenu.MANAGE,text:"Manage login credentials",disabledFilter:i===V.optionUserMenu.MANAGE},{color:"btn-outline-primary",key:V.optionUserMenu.ADD,text:"Connect login credentials",disabledFilter:i===V.optionUserMenu.ADD}]}),i===V.optionUserMenu.USER?"":u.a.createElement(o.Fragment,null,i!==V.optionUserMenu.PAY?"":u.a.createElement("div",{className:"my-4"},"My payment method:",u.a.createElement(Dt,{columnSize:"col-lg-12",activeFilter:l,checkedFilter:l,action:E,elements:Object.keys(s).map(function(e){return Ee.channelIsForPay(s[e])?{key:e,channel:e,color:"btn-"+(Ee.channelIsOpen(s[e])?"":"outline-")+Ee.channelColor(e),disabledFilter:e===l,text:Ee.channelUserFriendlyName(e,e===l?"USING":Ee.channelIsOpen(s[e])?"USE":"LINK")}:null}).filter(function(e){return null!==e})})),u.a.createElement("div",{className:"my-4"},[{mode:"UPDATE",action:function(t){return e.props["update"+Ee.channelAuthFunctionName(t)]},color:"",filter:function(e){return i===V.optionUserMenu.MANAGE&&(Ee.channelIsForLogin(e)||Ee.channelIsForPay(e))&&Ee.channelIsOpen(e)}},{mode:"ADD",action:function(t){return e.props["add"+Ee.channelAuthFunctionName(t)]},color:"outline-",filter:function(e){return i===V.optionUserMenu.ADD&&!Ee.channelIsOpen(e)}},{mode:"DELETE",action:function(e){return function(){return b(e)}},color:"outline-",filter:function(e){return i===V.optionUserMenu.MANAGE&&(Ee.channelIsForLogin(e)||Ee.channelIsForPay(e))&&Ee.channelIsOpen(e)}}].map(function(e){return u.a.createElement("div",{key:e.mode},Object.keys(s).map(function(t){return e.filter(s[t])?u.a.createElement(be,{channel:t,text:Ee.channelUserFriendlyName(t,e.mode),action:e.action(t),key:e.mode+t,buttonType:"btn btn-sm p-0 btn-"+e.color}):""}))})))):""))}}]),t}(o.Component),Jn=Object(p.b)(function(e){return{busy:e.session.busy.component.auth,ethAddress:e.client.userAccess.ethAddress,optionLoginCreate:e.client.user.optionLoginCreate,optionKeyboardMode:e.client.user.optionKeyboardMode,optionUserMenu:e.client.user.optionUserMenu,loggedIn:e.client.userAccess.loggedIn,autoLogin:e.client.userAccess.autoLogin,payChannel:e.client.userAccess.payChannel,channels:e.client.userAccess.channels}},Object.assign({},a,{switchOptionUserMenu:Wt}))(qn),Xn=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row py-2 rounded-bottom"},u.a.createElement("div",{className:"col-lg-4 p-0 navbar-light"},u.a.createElement("div",{className:"mx-2 thrubiBlue"},u.a.createElement("div",{className:"border-0 container-fluid align-top m-0 everybody"}),u.a.createElement("div",{className:"border-0 container-fluid align-top m-0 overflow-hidden topLeft p-4 text-primary"},u.a.createElement("div",{className:"opaque"},u.a.createElement("h3",null,"Everybody"),u.a.createElement("p",null,"Be part of the sustainable societies of the future. If your country has adhered to a Thrubi plan, you will be awarded Thrubi Blue each month, based on your current income. Your Thrubi Blue will in turn give you the rights to regular payments. Nobody can be extremely poor or extremely rich with Thrubi."),u.a.createElement(be,{text:"Learn more",action:function(){},buttonType:"btn-outline-primary"}))))),u.a.createElement("div",{className:"col-lg-4 p-0 navbar-light"},u.a.createElement("div",{className:"mx-2 thrubiSilver"},u.a.createElement("div",{className:"border-0 container-fluid align-top m-0 wealthy"}),u.a.createElement("div",{className:"border-0 container-fluid align-top m-0 overflow-hidden topLeft p-4 text-secondary"},u.a.createElement("div",{className:"opaque"},u.a.createElement("h3",null,"Wealthy individuals"),u.a.createElement("p",null,"If you are an investor, choose a sustainable future. As a wealthy individual, you will have access to purchasing Thrubi Gold, the investment tool of sustainable societies. Thrubi Gold can only be purchased by redeeming Thrubi Silver, which you will be awarded according to your current income. Governments are accepting Thrubi Gold to pay tax duties."),u.a.createElement(be,{text:"Learn more",action:function(){},buttonType:"btn-outline-secondary"}))))),u.a.createElement("div",{className:"col-lg-4 p-0 navbar-light"},u.a.createElement("div",{className:"mx-2 thrubiGold"},u.a.createElement("div",{className:"border-0 container-fluid align-top m-0 societies"}),u.a.createElement("div",{className:"border-0 container-fluid align-top m-0 overflow-hidden topLeft p-4 text-success"},u.a.createElement("div",{className:"opaque"},u.a.createElement("h3",null,"Thriving societies"),u.a.createElement("p",null,"If you are a sovereign government, you want your people to be at their best. Thrubi stabilizes a country's income distribution. Growth is shared amongst all participants of a society in a non-equal fashion: people with a higher net worth will stay richer. Thrubi, however, will ensure that a society becomes richer as a whole."),u.a.createElement(be,{text:"Learn more",action:function(){},buttonType:"btn-outline-success"})))))))}}]),t}(o.Component),$n=Object(p.b)(function(e){return{}},{})(Xn),zn=function(e){var t=e.role,n=e.deactivated;return u.a.createElement("img",{className:"mt-3 rounded-lg",alt:t+n,height:"128",width:"128",src:"/thrubi-client/jpg/elio.jpg"})},Qn=function(e){var t=e.user;return u.a.createElement("div",{className:"text-center mb-2"},u.a.createElement("div",{className:"text-primary displayInlineBlock p-0"},u.a.createElement("b",null,t.name||t.surname?(t.name?t.name:"")+" "+(t.surname?t.surname:""):"No user data"),"\xa0"),u.a.createElement("div",{className:"text-secondary displayInlineBlock small"},"uid#",t.id),u.a.createElement("div",{className:"text-secondary small"},"email: ",t.email?t.email:"not found","\xa0",u.a.createElement("span",{className:"badge badge-info"},"Verified")),u.a.createElement("div",{className:"text-secondary small"},"passport#",t.passport?t.passport:"not found","\xa0",u.a.createElement("span",{className:"badge badge-danger"},"Pending verification")))},Zn=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props,t=e.busy,n=e.role,r=e.deactivated,a=e.loggedIn,o=e.user;return u.a.createElement("div",{className:"text-center"},t?u.a.createElement("div",null,"Dashboard loading..."):a?u.a.createElement("div",null,u.a.createElement(zn,{role:n?"admin":"user",deactivated:r?"_deactivated":""}),u.a.createElement(Qn,{user:o})):u.a.createElement("div",null,"User not logged in"))}}]),t}(o.Component),er=Object(p.b)(function(e){return{busy:e.session.busy.component.dashboard,role:e.client.user.role,deactivated:e.client.user.deactivated,loggedIn:e.client.userAccess.loggedIn,user:e.client.user}})(Zn),tr=Object(p.b)(function(e){return{deactivated:e.client.user.deactivated,activateUserBusy:e.session.busy.action.activateUser}},r)(function(e){var t=e.deactivated,n=e.activateUserBusy,r=e.activateUser,a=e.deactivateUser;return u.a.createElement(o.Fragment,null,n?"Please wait, activation request in progress...":t?u.a.createElement("div",{className:"small"},"Account currently deactivated",u.a.createElement("br",null),u.a.createElement(be,{text:"Request activation",action:r,buttonType:"btn-primary"})):u.a.createElement(be,{text:"Deactivate my account",action:a,buttonType:"btn-secondary"}))}),nr=Object(p.b)(function(e){return{updateUserBusy:e.session.busy.action.userDetails,name:e.client.user.name,surname:e.client.user.surname,email:e.client.user.email,passport:e.client.user.passport}},{storeDetails:qt,deleteDetails:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t({type:g.SET_BUSY,payload:_.BUSY_ACTION_USERDETAILS})}).then(function(){return t(Ne(ve,Je,null))}).then(function(){return t({type:g.DELETE_USER_DETAILS,payload:{}})}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.ERR_USER_DETAILS))}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_USERDETAILS})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}})(function(e){var t=e.updateUserBusy,n=e.name,r=e.surname,a=e.email,c=e.passport,i=e.storeDetails,l=e.deleteDetails,s={name:n,surname:r,email:a,passport:c},p="form-control form-control-sm rounded-0";return u.a.createElement(o.Fragment,null,t?"Updating user data...":u.a.createElement(o.Fragment,null,u.a.createElement("input",{id:"newUserName",ref:function(e){return s.name=e},type:"text",className:p,placeholder:n||"Enter name"}),u.a.createElement("input",{id:"newUserSurname",ref:function(e){return s.surname=e},type:"text",className:p,placeholder:r||"Enter surname"}),u.a.createElement("input",{id:"newUserEmail",ref:function(e){return s.email=e},type:"text",className:p,placeholder:a||"Enter email address"}),u.a.createElement("input",{id:"newUserPassport",ref:function(e){return s.passport=e},type:"text",className:p,placeholder:c||"Enter passport number"}),u.a.createElement(be,{text:"Update my personal data",buttonType:"btn-primary",action:function(){var e={};s.name.value&&(e.name=s.name.value),s.surname.value&&(e.surname=s.surname.value),s.email.value&&(e.email=s.email.value),s.passport.value&&(e.passport=s.passport.value),i(e,{overwrite:!0})}}),u.a.createElement(be,{text:"Delete my personal data",action:l,buttonType:"btn-secondary"})))}),rr=function(e){var t=e.text,n=e.bold,r=e.muted,a=e.value,o=e.ccySymbol;return u.a.createElement("div",{className:"row ccyRowContainer"},u.a.createElement("span",{className:"text-secondary small text-left ccyRowElement col-lg-6"},t),u.a.createElement("span",{className:(r?"text-secondary ":"text-primary ")+"text-right ccyRowElement col-lg-5"},isNaN(a)?"n/a":n?u.a.createElement("b",null,a.toFixed(2)):a.toFixed(2)),u.a.createElement("span",{className:(r?"text-secondary ":"text-primary ")+"text-right ccyRowElement col-lg-1"},n?u.a.createElement("b",null,o):o))},ar=Object(p.b)(function(e){return{deactivated:e.client.user.deactivated,populationId:e.client.population.id,ccySymbol:e.client.population.ccySymbol,mCurrent:e.client.member.mCurrent,declareIncomeBusy:e.session.busy.action.declareIncome}},{declareIncome:At})(function(e){var t,n=e.deactivated,r=e.populationId,a=e.mCurrent,o=e.ccySymbol,c=e.declareIncomeBusy,i=e.declareIncome;return u.a.createElement("div",{className:"container-fluid"},n?"User deactivated, please activate user to declare income":-1===r?"No population selected, please select a population to declare income":c?"Busy processing income declaration":u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-lg-4 py-3"},u.a.createElement(rr,{text:"Declared income",muted:!1,bold:!1,value:a,ccySymbol:o})),u.a.createElement("div",{className:"col-lg-4 py-1"},u.a.createElement("input",{id:"newUserDeclaredM",ref:function(e){return t=e},type:"text",className:"form-control form-control-sm rounded-0 my-1",placeholder:a.toFixed(2)+" "+o,required:!0})),u.a.createElement("div",{className:"col-lg-4"},u.a.createElement(be,{text:"Declare new income",action:function(){return i(t.value)},buttonType:"btn-primary"}))))}),or=function(e){function t(e){var n;return Object(oe.a)(this,t),(n=Object(ce.a)(this,Object(ie.a)(t).call(this,e))).state={claimProcedureActive:!1},n}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.populationId,a=t.claimBusy,c=t.thrubiBlueEth,i=t.ccySymbol,l=t.exrate,s=t.claim;return u.a.createElement("div",{className:"claimItem"},n?"Claim loading...":-1===r?"Please select a population, first.":a?"Busy processing claim":u.a.createElement(o.Fragment,null,this.state.claimProcedureActive?u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"small text-justify"},"Fees will be deducted to pay for the blockchain transaction. The remaining \u039e will be credited in full, values in ",i," are just an indication."),u.a.createElement("div",{className:"container"},u.a.createElement(rr,{text:"You can claim",muted:!1,bold:!1,value:c,ccySymbol:"\u039e"}),u.a.createElement(rr,{text:"Claimable in "+i,muted:!1,bold:!1,value:c*l,ccySymbol:i})),u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s()}},u.a.createElement("input",{className:"btn btn-sm p-0 btn-block btn-"+(c?"primary":"light"),type:"submit",disabled:!c,value:c?"Claim your "+c.toFixed(2)+" \u039e":"Nothing to claim"}))):"",u.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({claimProcedureActive:!e.state.claimProcedureActive})}},u.a.createElement("input",{id:"activateClaimProcedure",className:"btn btn-sm p-0 btn-block btn-"+(this.state.claimProcedureActive?"secondary":c?"primary":"light"),type:"submit",disabled:!c&&!this.state.claimProcedureActive,value:this.state.claimProcedureActive?"Close":c?"Activate claim procedure":"Nothing to claim"}))))}}]),t}(o.Component),ur=Object(p.b)(function(e){return{busy:e.session.busy.component.claim,populationId:e.client.population.id,claimBusy:e.session.busy.action.claim,thrubiBlueEth:e.client.member.thrubiBlueEth,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate}},{claim:kt})(or),cr=function(e){var t=e.ccySymbol,n=e.member,r=e.exrate,a=e.optionViewHistory,c=e.optionAdvancedMode;return u.a.createElement("div",{className:"container-fluid"},c?u.a.createElement(o.Fragment,null,u.a.createElement(rr,{text:"Your \u20bf\u20ae level",muted:!1,bold:!1,value:n.thrubiBlue,ccySymbol:"\u20bf\u20ae"}),u.a.createElement(rr,{text:"Next month \u20bf\u20ae",muted:!0,bold:!1,value:n.thrubiBlueNext,ccySymbol:"\u20bf\u20ae"}),u.a.createElement(rr,{text:"Claimable \u039e",muted:!1,bold:!1,value:n.thrubiBlueEth,ccySymbol:"\u039e"}),u.a.createElement(rr,{text:"\u20bf\u20ae awards",muted:!1,bold:!1,value:n.thrubiBlueAward,ccySymbol:t}),u.a.createElement(rr,{text:"Claimable in "+t,muted:!1,bold:!0,value:n.thrubiBlueEth*r,ccySymbol:t})):u.a.createElement(o.Fragment,null,u.a.createElement(rr,{text:"Your \u20bf\u20ae level",muted:!1,bold:!1,value:n.thrubiBlue,ccySymbol:"\u20bf\u20ae"}),u.a.createElement(rr,{text:"Claimable in "+t,muted:!1,bold:!0,value:n.thrubiBlueEth*r,ccySymbol:t})),a?u.a.createElement(o.Fragment,null,u.a.createElement(rr,{text:"Total awards",muted:!0,bold:!1,value:n.thrubiBlueAwardTotal,ccySymbol:t}),u.a.createElement(rr,{text:"Total claimed",muted:!0,bold:!1,value:n.thrubiBlueClaimTotal,ccySymbol:t})):"")},ir=function(e){function t(e){var n;return Object(oe.a)(this,t),(n=Object(ce.a)(this,Object(ie.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiBlue||this.state.manualPanel||this.setState({showPanel:!!e.thrubiBlue})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.userLoggedIn,a=t.populationId,c=t.member,i=t.ccySymbol,l=t.exrate,s=t.optionViewHistory,p=t.optionAdvancedMode;return u.a.createElement("div",{className:"text-center"},u.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}},u.a.createElement("b",null,u.a.createElement("input",{id:"showPanel",className:"btn btn-sm p-0 btn-block btn-"+(c.thrubiBlue?this.state.showPanel?"primary":"secondary":"light"),type:"submit",value:"Blue Thrubi"}))),this.state.showPanel?n?"Member loading...":r?a<0?"No population selected":u.a.createElement(o.Fragment,null,u.a.createElement(cr,{member:c,ccySymbol:i,exrate:l,optionViewHistory:s,optionAdvancedMode:p}),u.a.createElement(ur,null)):"User not logged in":"")}}]),t}(o.Component),lr=Object(p.b)(function(e){return{busy:e.session.busy.component.dashboard,userLoggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,optionViewHistory:e.client.user.optionViewHistory,optionAdvancedMode:e.client.user.optionAdvancedMode}})(ir),sr=function(e){function t(e){var n;return Object(oe.a)(this,t),(n=Object(ce.a)(this,Object(ie.a)(t).call(this,e))).state={transformEthValue:0,transformProcedureActive:!1},n}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.transformBusy,a=t.populationId,c=t.exrate,i=t.ccySymbol,l=t.thrubiSilver,s=t.thrubiPriceSilver,p=t.thrubiFees,d=t.transform;return u.a.createElement("div",null,n?"Transform loading...":-1===a?"Please select a population, first.":r?"Busy processing transform request":u.a.createElement(o.Fragment,null,this.state.transformProcedureActive?u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"small text-justify"},"Blockchain transaction costs will be paid by you upon submitting the transaction. Final transformed $\u20ae will depend upon \u039e exchange rates and $\u20ae price when your transaction is accepted. Any excess \u039e that you transform will be credited on the account and used whenever $\u20ae becomes available."),u.a.createElement("div",{className:"container"},u.a.createElement(rr,{text:"Your \u039e balance",muted:!1,bold:!1,value:0,ccySymbol:"\u039e"}),u.a.createElement(rr,{text:"\u039e to spend to transform",muted:!1,bold:!1,value:this.state.transformEthValue,ccySymbol:"\u039e"}),u.a.createElement(rr,{text:"Current value in "+i,muted:!1,bold:!1,value:this.state.transformEthValue*c,ccySymbol:i}),u.a.createElement(rr,{text:"Thrubi fees ("+(100*p).toFixed(1)+"%)",muted:!1,bold:!1,value:this.state.transformEthValue*c*p,ccySymbol:i}),u.a.createElement(rr,{text:"You can transform",muted:!1,bold:!1,value:this.state.transformEthValue*c*(1-p)/s,ccySymbol:"$\u20ae"})),u.a.createElement("form",{onSubmit:function(){var t=Object(O.a)(h.a.mark(function t(n){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),d(e.state.transformEthValue);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},u.a.createElement("input",{id:"transformEth",ref:function(t){return e.transformEthRef=t},type:"text",className:"form-control form-control-sm",placeholder:this.transformEthValue,required:!0,onChange:function(t){t.preventDefault();var n=parseFloat(e.transformEthRef.value);n||(n=0),e.setState({transformEthValue:n})}}),u.a.createElement("input",{className:"btn btn-sm p-0 btn-block btn-"+(this.state.transformEthValue?"primary":"light"),type:"submit",disabled:!this.state.transformEthValue,value:this.state.transformEthValue?"Transform "+this.state.transformEthValue.toFixed(2)+" \u039e":"Insert an \u039e amount"}))):"",u.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({transformProcedureActive:!e.state.transformProcedureActive})}},u.a.createElement("input",{id:"activateTransformProcedure",className:"btn btn-sm p-0 btn-block btn-"+(this.state.transformProcedureActive?"secondary":l?"primary":"light"),type:"submit",disabled:!l&&!this.state.transformProcedureActive,value:this.state.transformProcedureActive?"Close":l?"Activate transform procedure":"Nothing to transform"}))))}}]),t}(o.Component),pr=Object(p.b)(function(e){return{busy:e.session.busy.component.transform,transformBusy:e.session.busy.action.transform,populationId:e.client.population.id,thrubiSilver:e.client.member.thrubiSilver,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiFees:e.client.population.thrubiFees,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate}},{transform:function(e){return function(t,n){var r=n().session.blockchain.thrubiContract.methods.transform,a=n().client.userAccess.ethAddress,o=n().client.population.id,u=n().client.user.id;return new Promise(function(t,n){r(a,o,u).send({from:a,value:1e18*e}).once(Yt,function(){t()})})}}})(sr),dr=function(e){var t=e.ccySymbol,n=e.member,r=(e.exrate,e.thrubiPriceSilver),a=e.thrubiPriceGold,c=e.optionViewHistory,i=e.optionAdvancedMode;return u.a.createElement("div",{className:"container"},i?u.a.createElement(o.Fragment,null,u.a.createElement(rr,{text:"Your $\u20ae",muted:!1,bold:!0,value:n.thrubiSilver,ccySymbol:"$\u20ae"}),u.a.createElement(rr,{text:"Next month $\u20ae",muted:!0,bold:!1,value:n.thrubiSilverNext,ccySymbol:"$\u20ae"}),u.a.createElement(rr,{text:"Conversion to gold cost",muted:!1,bold:!1,value:n.thrubiSilver*r,ccySymbol:t}),u.a.createElement(rr,{text:"Gold value",muted:!1,bold:!1,value:n.thrubiSilver*a,ccySymbol:t}),u.a.createElement(rr,{text:"Remaining \u039e",muted:!1,bold:!1,value:n.thrubiSilverEth,ccySymbol:"\u039e"})):u.a.createElement(o.Fragment,null,u.a.createElement(rr,{text:"Your $\u20ae",muted:!1,bold:!0,value:n.thrubiSilver,ccySymbol:"$\u20ae"}),u.a.createElement(rr,{text:"Conversion to gold cost",muted:!1,bold:!1,value:n.thrubiSilver*r,ccySymbol:t}),u.a.createElement(rr,{text:"Gold value",muted:!1,bold:!1,value:n.thrubiSilver*a,ccySymbol:t})),c?u.a.createElement(rr,{text:"Total transformed",muted:!0,bold:!1,value:n.thrubiSilverTransformTotal,ccySymbol:t}):"")},fr=function(e){function t(e){var n;return Object(oe.a)(this,t),(n=Object(ce.a)(this,Object(ie.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiSilver||this.state.manualPanel||this.setState({showPanel:!!e.thrubiSilver})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.userLoggedIn,a=t.populationId,c=t.member,i=t.ccySymbol,l=t.exrate,s=t.thrubiPriceSilver,p=t.thrubiPriceGold,d=t.optionViewHistory,f=t.optionAdvancedMode;return u.a.createElement("div",{className:"text-center"},u.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}},u.a.createElement("b",null,u.a.createElement("input",{id:"showPanel",className:"btn btn-sm p-0 btn-block btn-"+(c.thrubiSilver?this.state.showPanel?"primary":"secondary":"light"),type:"submit",value:"Silver Thrubi"}))),this.state.showPanel?n?"Member loading...":r?a<0?"No population selected":u.a.createElement(o.Fragment,null,u.a.createElement(dr,{member:c,ccySymbol:i,exrate:l,thrubiPriceSilver:s,thrubiPriceGold:p,optionViewHistory:d,optionAdvancedMode:f}),u.a.createElement(pr,null)):"User not logged in":"")}}]),t}(o.Component),mr=Object(p.b)(function(e){return{busy:e.session.busy.component.dashboard,userLoggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiPriceSilver:e.client.population.thrubiPriceSilver,thrubiPriceGold:e.client.population.thrubiPriceGold,optionViewHistory:e.client.user.optionViewHistory,optionAdvancedMode:e.client.user.optionAdvancedMode}})(fr),Er=function(e){var t=e.ccySymbol,n=e.member,r=e.thrubiPriceGold;return u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"container-fluid"},u.a.createElement(rr,{text:"Gold \u20b2\u20ae",muted:!1,bold:!0,value:n.thrubiGold,ccySymbol:"\u20b2\u20ae"}),u.a.createElement(rr,{text:"Market value",muted:!1,bold:!1,value:n.thrubiGold*r,ccySymbol:t})),u.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},u.a.createElement("input",{type:"submit",value:"Find gold Thrubi marketplace",className:"btn btn-sm p-0 btn-block btn-light"})))},br=function(e){function t(e){var n;return Object(oe.a)(this,t),(n=Object(ce.a)(this,Object(ie.a)(t).call(this,e))).state={showPanel:!1,manualPanel:!1},n}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.member;this.state.showPanel!==!e.thrubiGold||this.state.manualPanel||this.setState({showPanel:!!e.thrubiGold})}},{key:"render",value:function(){var e=this,t=this.props,n=t.busy,r=t.userLoggedIn,a=t.populationId,c=t.member,i=t.ccySymbol,l=t.exrate,s=t.thrubiPriceGold;return u.a.createElement("div",{className:"text-center"},u.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({manualPanel:!0}),e.setState({showPanel:!e.state.showPanel})}},u.a.createElement("b",null,u.a.createElement("input",{id:"showPanel",className:"btn btn-sm p-0 btn-block btn-"+(c.thrubiGold?this.state.showPanel?"primary":"secondary":"light"),type:"submit",value:"Gold Thrubi"}))),this.state.showPanel?n?"Member loading...":r?a<0?"No population selected":u.a.createElement(o.Fragment,null,u.a.createElement(Er,{member:c,ccySymbol:i,exrate:l,thrubiPriceGold:s})):"User not logged in":"")}}]),t}(o.Component),yr=Object(p.b)(function(e){return{busy:e.session.busy.component.dashboard,userLoggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id,member:e.client.member,ccySymbol:e.client.population.ccySymbol,exrate:e.global.market.exrate,thrubiPriceGold:e.client.population.thrubiPriceGold}})(br),hr=Object(p.b)(function(e){return{auth:e.client.user.auth,deactivated:e.client.user.deactivated,populationId:e.client.population.id,lastPopulationId:e.client.population.lastId,populations:e.client.population.populations}},{selectPopulation:Tt,createMember:Rt})(function(e){var t=e.populations,n=e.auth,r=(e.populationId,e.lastPopulationId),a=e.selectPopulation,o=e.createMember;return t.map(function(e,t){return u.a.createElement("div",{key:t,className:"population p-0 m-0"},u.a.createElement("button",{className:"btn btn-sm p-0 rounded-0 border-0 btn-block btn-outline-"+(e.isMember||n?"primary":"secondary")+(r===e.populationId?" active":""),value:e.isMember||n?"Select":"Become member",onClick:e.isMember||n?function(t){a(e)}:function(t){o(e)}},u.a.createElement("div",{className:"container-fluid row p-0 m-0"},u.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.isMember||n?r===e.populationId?"Last selected: #"+e.populationId:"Select #"+e.populationId:"Become member"),u.a.createElement("div",{className:"small col-lg-1 p-0 m-0 text-center"},e.countryId),u.a.createElement("div",{className:"small col-lg-3 p-0 m-0 text-left"},e.countryName),u.a.createElement("div",{className:"small col-lg-1 p-0 m-0 text-center"},e.ccyId),u.a.createElement("div",{className:"small col-lg-4 p-0 m-0 text-left"},e.ccyName),u.a.createElement("div",{className:"small col-lg-1 p-0 m-0 text-center"},e.ccySymbol))))})}),Or=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"componentDidUpdate",value:function(){this.reload()}},{key:"reload",value:function(){var e=this.props,t=e.userId,n=e.populationsBusy,r=this.props.fetchPopulations;n||r(t)}},{key:"render",value:function(){var e=this.props,t=e.busy,n=e.populationsBusy,r=e.deactivated,a=e.populationsNotAvailable;return u.a.createElement("div",{className:"populationTable"},t?u.a.createElement("div",{className:"text-center"},"Loading..."):r?"User deactivated, please activate user to select population":n?u.a.createElement("div",null,"User populations loading..."):a?"No populations found, we are working on this...":u.a.createElement(hr,null))}}]),t}(o.Component),vr=Object(p.b)(function(e){return{busy:e.session.busy.component.userMenu,userId:e.client.user.id,deactivated:e.client.user.deactivated,populationsBusy:e.session.busy.action.populations,populationsNotAvailable:!e.client.population.populations||!e.client.population.populations.length}},{fetchPopulations:Ot})(Or),_r=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchCountries)()}},{key:"render",value:function(){var e=this.props,t=e.countries,n=e.countryId,r=this.props,a=r.selectCountry,o=r.deselectCountry;return u.a.createElement("div",null,t.map(function(e,t){return u.a.createElement("div",{key:t,className:"country p-0"},u.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(n===e.countryId?"light":"primary"),value:n===e.countryId?"Selected":"Select #"+e.countryId,onClick:n===e.countryId?function(e){o()}:function(t){a(e.countryId)}},u.a.createElement("div",{className:"container-fluid row p-0 m-0"},u.a.createElement("div",{className:"small col-lg-4 p-0 m-0 text-center"},n===e.countryId?"Selected":"Select #"+e.countryId),u.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.countryId),u.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-left"},e.countryName))))}))}}]),t}(o.Component),gr=Object(p.b)(function(e){return{countries:e.global.country.countries,countryId:e.global.country.id}},{fetchCountries:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ne(Oe,Fe,null)(t,n).then(function(e){t({type:g.RECEIVE_COUNTRIES,payload:{countries:e}})}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,e))});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},selectCountry:function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:g.SELECT_COUNTRY,payload:{countryId:e}});case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},deselectCountry:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:g.DESELECT_COUNTRY,payload:{}});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}})(_r),Nr=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchCcys)()}},{key:"render",value:function(){var e=this.props,t=e.ccys,n=e.ccyId,r=this.props,a=r.selectCcy,o=r.deselectCcy;return u.a.createElement("div",null,t.map(function(e,t){return u.a.createElement("div",{key:t,className:"ccy p-0"},u.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(n===e.ccyId?"light":"primary"),value:n===e.ccyId?"Selected":"Select #"+e.ccyId,onClick:n===e.ccyId?function(e){o()}:function(t){a(e.ccyId)}},u.a.createElement("div",{className:"container-fluid row p-0 m-0"},u.a.createElement("div",{className:"small col-lg-3 p-0 m-0 text-center"},n===e.ccyId?"Selected":"Select #"+e.ccyId),u.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.ccyId),u.a.createElement("div",{className:"small col-lg-5 p-0 m-0 text-left"},e.ccyName),u.a.createElement("div",{className:"small col-lg-2 p-0 m-0 text-center"},e.ccySymbol))))}))}}]),t}(o.Component),Tr=Object(p.b)(function(e){return{ccys:e.global.ccy.ccys,ccyId:e.global.ccy.id}},{fetchCcys:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ne(Oe,De,null)(t,n).then(function(e){t({type:g.RECEIVE_CCYS,payload:{ccys:e}})}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,e))});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},selectCcy:function(e){return function(){var t=Object(O.a)(h.a.mark(function t(n,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:g.SELECT_CCY,payload:{ccyId:e}});case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},deselectCcy:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:g.DESELECT_CCY,payload:{}});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}})(Nr),Ir=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentDidMount",value:function(){this.verifyExists()}},{key:"componentDidUpdate",value:function(){this.verifyExists()}},{key:"verifyExists",value:function(){var e=this.props,t=e.countryId,n=e.ccyId,r=this.props.populationExists;t&&n&&r(t,n)}},{key:"render",value:function(){var e=this.props,t=e.countryId,n=e.ccyId,r=e.exists,a=this.props.createPopulation;return u.a.createElement(o.Fragment,null,u.a.createElement("button",{className:"btn btn-sm p-0 btn-block btn-"+(""===t||""===n?"light":r?"secondary":"primary"),value:""===t||""===n?"Please select country and currency":r?"The selected population already exists":"Create population: "+t+" "+n,disabled:""===t||""===n||r,onClick:function(e){a(t,n)}},""===t||""===n?"Please select country and currency":r?"The selected population already exists":"Create population: "+t+" "+n),u.a.createElement("br",null),u.a.createElement("div",{className:"container-fluid row p-0 m-0"},u.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-center"},u.a.createElement(gr,null)),u.a.createElement("div",{className:"small col-lg-6 p-0 m-0 text-center"},u.a.createElement(Tr,null))))}}]),t}(o.Component),Rr=Object(p.b)(function(e){return{countryId:e.global.country.id,ccyId:e.global.ccy.id,exists:e.client.population.exists}},{populationExists:function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Ne(Oe,ht+"/"+e+"/"+t,null)(r,a).then(function(e){r({type:g.POPULATION_EXISTS,payload:{exists:e.exists}})}).catch(function(e){return r(N(b.flareBook.flareType.ERROR,e))}));case 1:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},createPopulation:function(e,t){return function(){var n=Object(O.a)(h.a.mark(function n(r,a){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:g.SET_BUSY,payload:_.BUSY_ACTION_POPULATIONS}),n.abrupt("return",Ne(ve,ft+"/"+e+"/"+t,null)(r,a).then(function(e){r({type:g.POPULATION_EXISTS,payload:{exists:1}})}).catch(function(e){return r(N(b.flareBook.flareType.ERROR,e))}).then(function(){return r({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_POPULATIONS})}));case 2:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}})(Ir),Sr=function(e){var t=e.action,n=e.text,r=e.buttonType;return u.a.createElement("button",{type:"submit",className:r+" px-0 mx-0",onClick:function(e){e.preventDefault(),t()}},n)},Ar=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e,t,n,r=this.props,a=r.brake,c=r.mincome,i=r.equality,l=r.warperMincome,s=r.warperEquality,p=r.tunePopulation;return u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"container"},u.a.createElement(rr,{text:"mincome",muted:!1,bold:!1,value:c,ccySymbol:""}),u.a.createElement(rr,{text:"equality",muted:!1,bold:!1,value:i,ccySymbol:""}),u.a.createElement(rr,{text:"brake",muted:!1,bold:!1,value:a,ccySymbol:""}),u.a.createElement(rr,{text:"warperMincome",muted:!1,bold:!1,value:l,ccySymbol:""}),u.a.createElement(rr,{text:"warperEquality",muted:!1,bold:!1,value:s,ccySymbol:""})),u.a.createElement("form",{onSubmit:function(){var r=Object(O.a)(h.a.mark(function r(a){return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a.preventDefault(),p(e.value,t.value,n.value);case 2:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},u.a.createElement("input",{id:"newBrake",ref:function(t){return e=t},type:"text",className:"form-control form-control-sm",placeholder:a.toFixed(2),required:!0}),u.a.createElement("input",{id:"newWarperMincome",ref:function(e){return t=e},type:"text",className:"form-control form-control-sm",placeholder:l.toFixed(2),required:!0}),u.a.createElement("input",{id:"newWarperEquality",ref:function(e){return n=e},type:"text",className:"form-control form-control-sm",placeholder:s.toFixed(2),required:!0}),u.a.createElement("input",{className:"btn btn-sm p-0 btn-block btn-primary",type:"submit",value:"Change configuration"})))}}]),t}(o.Component),kr=Object(p.b)(function(e){return{mincome:e.client.population.mincome,equality:e.client.population.equality,brake:e.client.population.brake,warperMincome:e.client.population.warperMincome,warperEquality:e.client.population.warperEquality}},{tunePopulation:function(e,t,n){return function(){var r=Object(O.a)(h.a.mark(function r(a,o){return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:g.SET_BUSY,payload:_.BUSY_ACTION_POPULATIONS}),r.abrupt("return",Ne(ve,yt+"/"+o().client.population.id,{brake:e,warperMincome:t,warperEquality:n})(a,o).then(function(e){}).catch(function(e){return a(N(b.flareBook.flareType.ERROR,e))}).then(function(){return a({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_POPULATIONS})}));case 2:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()}})(Ar),wr=(n(661),function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props,t=e.busy,n=e.optionUserMenu,r=e.loggedIn,a=e.auth,c=e.populationId,i=this.props,l=i.deletePopulation,s=i.close;return u.a.createElement("div",{className:"container-fluid"},t?"User loading...":u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-lg-3 navbar-light"},r?u.a.createElement(er,null):"",u.a.createElement(Jn,null),r&&"USER"===n?u.a.createElement("div",null,u.a.createElement(nr,null),u.a.createElement(tr,null),u.a.createElement(be,{text:"Close my account",action:s,buttonType:"btn-outline-red"})):""),u.a.createElement("div",{className:"col-lg-9 navbar-light"},r?-1===c?u.a.createElement(o.Fragment,null,u.a.createElement(vr,null),1!==a?"":u.a.createElement(Rr,null)):u.a.createElement(o.Fragment,null,u.a.createElement(Ft,null),1!==a?u.a.createElement(o.Fragment,null,u.a.createElement(ar,null),u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row p-0 userContent"},u.a.createElement("div",{className:"col-lg-4 thrubiBlue navbar-light"},u.a.createElement(lr,null)),u.a.createElement("div",{className:"col-lg-4 thrubiSilver navbar-light"},u.a.createElement(mr,null)),u.a.createElement("div",{className:"col-lg-4 thrubiGold navbar-light"},u.a.createElement(yr,null))))):u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"col-lg-4 userPanel navbar-light"},u.a.createElement(Sr,{action:l,text:"Delete Population",buttonType:"btn btn-sm p-0 btn-block btn-secondary"})),u.a.createElement("div",{className:"col-lg-4 userPanel navbar-light"},u.a.createElement(kr,null)))):u.a.createElement($n,null))))}}]),t}(o.Component)),Cr=Object(p.b)(function(e){return{busy:e.session.busy.component.user,optionUserMenu:e.client.user.optionUserMenu,role:e.client.user.role,loggedIn:e.client.userAccess.loggedIn,populationId:e.client.population.id}},{deletePopulation:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:g.SET_BUSY,payload:_.BUSY_ACTION_POPULATIONS}),e.abrupt("return",Ne(ve,mt+"/"+n().client.population.id,null)(t,n).then(function(e){It()(t,n)}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,e))}).then(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_ACTION_POPULATIONS})}));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},close:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(function(){return t({type:g.SET_BUSY,payload:_.BUSY_COMPONENT_AUTH})}).then(function(){return t(Ne(ve,$e,{}))}).then(function(){return t(en({autoLogin:!1}))}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.ERR_ACCOUNT_CLOSE))}).finally(function(){return t({type:g.SET_NOT_BUSY,payload:_.BUSY_COMPONENT_AUTH})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}})(wr),xr=Object(p.b)(function(e){return{ethNetwork:e.client.userAccess.ethNetwork,ethAddress:e.client.userAccess.ethAddress}})(function(e){var t=e.ethNetwork,n=e.ethAddress;return u.a.createElement("div",{className:"d-none container-fluid navbar fixed-top flex-md-nowrap p-0 titleBar bg-light"},u.a.createElement("div",{className:"col-lg-7 d-flex justify-content-center justify-content-md-center justify-content-lg-start fullWidth text-left"},u.a.createElement("img",{className:"mr-2 logoThrubi",src:"/thrubi-client/logo.png",alt:"Thrubi logo",height:"20px",width:"20px"}),u.a.createElement("span",{className:"mr-2 alignBottom navbar-brand thrubiGradient"},u.a.createElement("b",null,"Thrubi App")),u.a.createElement("span",{className:"d-none d-xl-block mr-2 alignBottom text-dark navbar-nav"},"Welcome to Thrubi!"),u.a.createElement(pe,null)),u.a.createElement("div",{className:"col-lg-5 d-none d-lg-block float-right mr-0 my-2 text-right"},u.a.createElement("div",{className:"navbar-nav small"},t&&n?u.a.createElement("div",null,u.a.createElement("span",{className:"badge badge-warning"},"network/",t),u.a.createElement("span",{className:"badge badge-info"},n)):"Accessing blockchain data")))}),Lr=(n(662),function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props,t=e.deactivated,n=e.flares,r=this.props,a=r.deleteFlare,c=r.refreshFlare;return u.a.createElement(o.Fragment,null,t?"":u.a.createElement("div",{className:"fixed-bottom flareBox"},Object.keys(n).map(function(e,t){return u.a.createElement("div",{key:e,role:"alert",onMouseOver:function(){return c(e,!0)},onMouseOut:function(){return c(e)},className:"alert alert-dismissible fade show "+(n[e].type===b.flareBook.flareType.ERROR?"alert-red":n[e].type===b.flareBook.flareType.WARNING?"alert-danger":"alert-secondary")},u.a.createElement("b",null,n[e].type),"\xa0",u.a.createElement("span",null,n[e].message?n[e].message.slice(0,200):"Internal error"),"\xa0",u.a.createElement("i",null,n[e].details?n[e].details.slice(0,200):""),u.a.createElement("button",{className:"close paddingX",type:"button",onClick:function(){return a(e)},"data-dismiss":"alert"},u.a.createElement("span",null,"\xd7")))})))}}]),t}(o.Component)),Br=Object(p.b)(function(e){return{deactivated:e.session.flare.deactivated,flares:e.session.flare.flares}},{deleteFlare:T,refreshFlare:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(O.a)(h.a.mark(function n(r,a){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then(function(){return clearTimeout(a().session.flare.flares[e].deleteTimeout)}).then(function(){return setTimeout(function(){return r(T(e))},t?3e4:7e3)}).then(function(t){return r({type:g.REFRESH_FLARE_TIMEOUT,payload:{index:e,deleteTimeout:t}})}));case 1:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}})(Lr),Pr=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n().session.workers.globalStats,clearInterval(r),t({type:g.STOP_GLOBAL_STATS_WORKER,payload:{}});case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Ur=(n(663),function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"componentWillUnmount",value:function(){Pr()}},{key:"reload",value:function(){var e=this.props,t=e.startGlobalStatsWorker,n=e.fetchChannels,r=e.enableBlockchain;return Promise.all([t(),n(),r()])}},{key:"render",value:function(){var e=this.props,t=e.busy,n=e.loggedIn;return u.a.createElement("div",{className:"thrubiApp text-primary"},u.a.createElement(fe,null),u.a.createElement("div",{className:"mainView"},n?"":u.a.createElement("div",{className:"w-100 py-2 pt-4 pb-1 text-center"},u.a.createElement("h3",{className:"displayInlineBlock"},"Rising inequality is toxic to growth"),u.a.createElement("i",{className:"displayInlineBlock"},"\xa0(Nick Hanauer)")),t?u.a.createElement("div",{className:"text-center"},"App loading... or Ethereum config not found. Please authorize Thrubi in MetaMask. Not sure what this means? Find out how to enable Thrubi ",u.a.createElement("b",null,"here"),"!"):u.a.createElement(Cr,null)),u.a.createElement(xr,null),u.a.createElement(Br,null))}}]),t}(o.Component)),jr=Object(p.b)(function(e){return{busy:e.session.busy.component.app,loggedIn:e.client.userAccess.loggedIn}},{startGlobalStatsWorker:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=setInterval(function(){var e=function(){t(function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.abrupt("return",Promise.all([t(Ne(Oe,Ke,null)),t(Ne(Oe,We,null)),t(Ne(Oe,Ve,null))]).then(function(e){for(var t=0;t<=2;t++)for(var n in e[t])r[n]=e[t][n];return r}).catch(function(e){return t(N(b.flareBook.flareFallback(e,b.flareBook.flareBook.errorFlare.ERR_FETCH_GLOBAL_STATS)))}));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()).then(function(e){t({type:g.RECEIVE_GLOBAL_STATS,payload:{globalStats:e}})}).catch(function(e){t(N(b.flareBook.flareFallback(e,b.flareBook.flareType.ERROR,b.flareBook.errorFlare.ERR_RECEIVE_GLOBAL_STATS)))})};return e(),e}(),3e4),t({type:g.RECEIVE_GLOBAL_STATS_WORKER,payload:{globalStatsWorker:r}});case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},stopGlobalStatsWorker:Pr,fetchChannels:rn,enableBlockchain:function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,n){var r,a,o,u;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new Ht.a(Ht.a.givenProvider),a=new r.eth.Contract(Kt,"0xb198482C48Ef0e89df3597b0f7250F88c51D6759"),t({type:g.RECEIVE_THRUBI_CONTRACT,payload:{thrubiContract:a}}),o=setInterval(function(){r.eth.net.getNetworkType().then(function(e){return{ethNetwork:e,changed:e!==n().client.userAccess.ethNetwork}}).then(function(e){return e.changed&&t({type:g.UPDATE_ETH_NETWORK,payload:{ethNetwork:e.ethNetwork}}),e})},1e3),t({type:g.RECEIVE_ETH_NETWORK_WORKER,payload:{ethNetworkWorker:o}}),u=setInterval(function(){window.ethereum.enable().then(function(){return r.eth.getAccounts()}).catch(function(e){return t(N(b.flareBook.flareType.ERROR,b.flareBook.errorFlare.CANNOT_ENABLE_ETHEREUM))}).then(function(e){return e[0]}).then(function(e){return{ethAddress:e,changed:e!==n().client.userAccess.ethAddress}}).then(function(e){return e.changed&&t(en({autoLogin:!0})),e}).then(function(e){return e.changed&&t({type:g.UPDATE_ETH_ADDRESS,payload:{ethAddress:e.ethAddress}}),e})},1e3),t({type:g.RECEIVE_ETH_ADDRESS_WORKER,payload:{ethAddressWorker:u}});case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}})(Ur),Fr=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.sendLinkedInLogin)()}},{key:"render",value:function(){return u.a.createElement("div",{className:"text-center small text-dark"},"Sending over LinkedIn login information to Thrubi...")}}]),t}(o.Component),Dr=Object(p.b)(function(e){return{}},{sendLinkedInLogin:Bn})(Fr),Mr=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ue.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.sendGoogleLogin)()}},{key:"render",value:function(){return u.a.createElement("div",{className:"text-center small text-dark"},"Sending over Google login information to Thrubi...")}}]),t}(o.Component),Gr=Object(p.b)(function(e){return{}},{sendGoogleLogin:Gn})(Mr),Hr=(n(664),ae());i.a.render(u.a.createElement(p.a,{store:Hr},u.a.createElement(s.a,{basename:"thrubi-client"},u.a.createElement(l.a,{exact:!0,path:"/",component:jr}),u.a.createElement(l.a,{path:"/linkedInRedirect",component:Dr}),u.a.createElement(l.a,{path:"/googleRedirect",component:Gr}))),document.getElementById("root"))}},[[277,1,2]]]);
//# sourceMappingURL=main.3deda0cd.chunk.js.map